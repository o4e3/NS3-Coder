{
  "repo_name": "robpegurri/ns3-rt",
  "github_url": "https://github.com/robpegurri/ns3-rt",
  "readme": "# RT-enabled ns-3 with NVIDIA Sionna\n\nThis is an [ns-3](https://www.nsnam.orghttps:/) version implementing ray tracing for wireless channel simulation using [NVIDIA Sionna RT](https://github.com/NVlabs/sionna).\n\nThe integration of Sionna enables **highly accurate propagation modeling** by leveraging GPU-accelerated ray tracing, making it ideal for simulations in complex environments at any frequency, including urban and vehicular scenarios.\n\nFor details about this integration running in a possible application example, refer to the following paper:\n\n- [Toward Digital Network Twins: Integrating Sionna RT in ns-3 for 6G Multi-RAT Networks Simulations](https://arxiv.org/abs/2501.00372)\n\n## Key Features\n\n- **Deterministic Wireless Channel Simulations** using the GPU-accelerated RT module in Sionna.\n- **Fully Customizable Scenario in Sionna** with the possibility of chosing object meshes, materials (more details about scenes [available here](https://nvlabs.github.io/sionna/api/rt.html)) and antennas.\n- **Seamless Mobility Syncronization** between ns-3 Nodes and their correspondent mesh in Sionna.\n- **Possibility to run Sionna and ns-3 on two different machines** for example with Sionna in a GPU-powered server farm to reduce computation times\n\n## Installation\n\nns-3 and Sionna are two separated entities able to communicate with each other via an UDP network socket. For this reason, the installation consists in two steps:\n\n### 1. Installing ns3-rt\n\nA complete ns-3 installation is contained in this repository, as well as the `sionna` module for the integration with Sionna.\n\nUse the following commands to download and build ns3-rt:\n\n```bash\ngit clone https://github.com/robpegurri/ns3-rt.git\ncd ns3-rt\n./ns3 configure --disable-python --enable-examples \n./ns3 build\n```\n\n### 2. Installing Sionna\n\nTo install Sionna, ensure you have Python (versions 3.8 to 3.11) and TensorFlow (versions 2.13 to 2.15) installed. Detailed instructions are available in the official Sionna installation guide. Ubuntu 22.04 is recommended.\n\n**If you are running Sionna on a CPU**, install TensorFlow and LLVM (also required in this case) with:\n\n```bash\nsudo apt install llvm\npython3 -m pip install tensorflow \n```\n\nand verify the installation with:\n\n```bash\npython3 -c \"import tensorflow as tf; print(tf.reduce_sum(tf.random.normal([1000, 1000])))\"\n```\n\n**If you are running Sionna on a GPU**, install the required drivers (refer to your GPU vendor). After the drivers are properly setup, TensorFlow GPU can be installed with:\n\n```bash\npython3 -m pip install 'tensorflow[and-cuda]' \n```\n\nand verify the installation with:\n\n```bash\npython3 -c \"import tensorflow as tf; print(tf.config.list_physical_devices('GPU'))\"\n```\n\nIn case of any issues with TensorFlow or TensorFlow GPU, please refer to the official installation guide [at this page](https://www.tensorflow.org/install).\n\n**At this point, install Sionna** with:\n\n```bash\npython3 -m pip install sionna\n```\n\nand run the following code in `python3` to check if Sionna was installed properly:\n\n```bash\n >>> import sionna\n >>> print(sionna.__version__)\n```\n\n## Running the example\n\nTo run the `simple-sionna-example` example, you first need to start Sionna (this example expects Sionna to run locally, see the next section to know how to run Sionna remotely).\n\nRun the Python example script `sionna_server_script.py` from the `/src/sionna` folder with the following command and options:\n\n```bash\npython3 'sionna_server_script.py' --local-machine --frequency=2.1e9 --path-to-xml-scenario=scenarios/SionnaExampleScenario/scene.xml\n```\n\nAfter Sionna has started, run the ns-3 simulation in parallel with:\n\n```bash\n./ns3 run simple-sionna-example\n```\n\n## Simulating with Sionna and ns-3 on separated machines\n\nns3-sionna was created with the possibility to run Sionna both locally (on the same machine with ns-3) and remotely (in a server with). In your ns-3 script, you can enable this possibility with `SionnaHelper` this way:\n\n```cpp\n#include \"ns3/sionna-helper.h\"\n...\nSionnaHelper& sionnaHelper = SionnaHelper::GetInstance();\nsionnaHelper.SetLocalMachine(false);\nsionnaHelper.SetServerIp(\"YOUR-IP-ADDRESS-HERE\");\n```\n\nWhile on Sionna side, just remove the `--local-machine` flag when running the Python script. The default port used by ns3-sionna is **UDP/8103**.\n\n## Notes on using a custom Sionna scene with ns3-rt\n\nns3-rt links every Node to a specific object in Sionna (associated with a fully customizable mesh). If this mesh is not found in the scene, then Sionna would not know how to calculate any of the requested values by ns3-rt.\n\nIn the given example, upon the reception of a *LOC_UPDATE* message from ns3-rt, `sionna_server_script.py` looks for the correspondent object mesh named **car_n**, where **n** is calculated as the ns-3 **Node ID + 1**. The TX and RX antennas are placed on top of the objects (cars, in this case).\n\nTo fully understand how to create a custom scene for Sionna, please refer to the [official video tutorial by NVIDIA](https://www.youtube.com/watch?v=7xHLDxUaQ7chttps:/).\n\n## Acknowledgements\nIf you want to acknowledge our work, please refer to the following pre-print:\n```\n@INPROCEEDINGS{Pegu2505:Toward,\nAUTHOR=\"Roberto Pegurri and Francesco Linsalata and Eugenio Moro and Jakob Hoydis\nand Umberto Spagnolini\",\nTITLE=\"Toward Digital Network Twins: Integrating Sionna {RT} in ns-3 for {6G}\n{Multi-RAT} Networks Simulations\",\nBOOKTITLE=\"IEEE INFOCOM WKSHPS: Digital Twins over NextG Wireless Networks (DTWIN\n2025) (INFOCOM DTWIN 2025)\",\nADDRESS=\"London, United Kingdom (Great Britain)\",\nPAGES=\"5.88\",\nDAYS=18,\nMONTH=may,\nYEAR=2025\n}\n```\n",
  "examples": []
}