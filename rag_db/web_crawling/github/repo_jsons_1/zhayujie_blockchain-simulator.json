{
  "repo_name": "zhayujie/blockchain-simulator",
  "github_url": "https://github.com/zhayujie/blockchain-simulator",
  "readme": "# blockchain-simulator\n\nHere are some simulations of blockchain consensus protocol based on [NS3](https://www.nsnam.org/), which aims to simulate the relationship between **blockchain performance** and consensus protocol, network scale, block size, bandwidth, delay and other factors.\n\n\n## Quick start\n\n#### 1.Download ns3\n\nThe version [3.29](https://www.nsnam.org/releases/ns-3-29/download/) or [3.25](https://www.nsnam.org/releases/ns-3-25/download/) of NS3 is recommended.\n\n#### 2.Place code\n\nNext, you need to place all the files from **blockchain-simulator** to the respective folders under `ns-allinone-3.xx/ns-3.xx`.\n\n#### 3.Update the wscript file\n\nThe path of the wscript file is `ns-allinone-3.xx/ns-3.xx/src/applications/wscript`\n\n+ Add the following lines in module.source:\n\n```\n'model/raft-node.cc',\n'helper/network-helper.cc',\n```\n\n+ Add the following lines in headers.source:\n\n```\n'model/raft-node.h', \n'helper/network-helper.h', \n```\n\n#### 4.Build and run the simulator\n\nUnder path `ns-allinone-3.xx/ns-3.xx`, execute the following commands in sequence:\n\n```sh\nCXXFLAGS=\"-std=c++11 -Wno-unused-parameter\" ./waf configure\n./waf\n./waf --run scratch/blockchain-simulator\n```\n\nYou can set the network scale and other factors in `blockchain-simulator.cc`.\n\nMore detailed usage use of NS3 can be found in\n<https://github.com/arthurgervais/Bitcoin-Simulator>\n\n\n## Switch consensus\n\nThere are three consensus protocols to choose from, including raft, paxos and pbft, The default is raft. If you need to switch the consensus protocol, such as from raft to pbft, You need to modify some files.\n\n#### 1.Update the blockchain-simulator.cc\n\nModify the class name \"RaftNode\" to \"PbftNode\":\n\n```c++\nLogComponentEnable (\"PbftNode\", LOG_LEVEL_INFO);\n```\n\n#### 2.Update the network-helper.cc\n\nModify all \"RaftNode\" to \"PbftNode\", and switch the reference of the header file.\n\n\n#### 3.Update the wscript\n\nModify the \"raft-node\" to \"pbft-node\" in `module.source` and `headers.source`. The two cannot coexist, otherwise an error will be reported.\n\nAfter modification, you need to recompile and run.\n\n\n\n\n",
  "examples": []
}