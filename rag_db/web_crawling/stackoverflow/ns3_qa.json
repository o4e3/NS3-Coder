[
  {
    "url": "https://stackoverflow.com/questions/79179369/de-aggregateobject-and-change-the-aggregrated-object-from-a-class-in-c-impleme",
    "title": "De-AggregateObject and Change the aggregrated object from a Class in c++ implemented in Ns3.38",
    "question": "I implemented Vehicle Ad-hoc Network in NS3.38 and used default Node class in NS3. also I created Cluster Object that has some attributes. in some conditions I need to remove node from cluster and perhaps add it to another cluster.\nI use this structure to creating Cluster and add member to it:\nPtr <Cluster> new_cluster = CreateObject <Cluster> ();\nnew_cluster->SetId(rand());\nnew_cluster->SetCHNodeId(sender_node_id);\nNodeInformation new_member;\nnew_member.node_id = node->GetId();\nnew_member.mac_addr = mac_addr; \nnew_member.last_beacon = Now();\nnew_cluster->AddMember(new_member);\n\n/* Aggregate the cluster with both CH and member node*/\nsender_node->AggregateObject (new_cluster);\nnode->AggregateObject (new_cluster);\nNow I don't know how to de-aggregate cluster from nodes. Thanks for your helps.",
    "answer": "I think your goal in this question is clustering nodes and getting each cluster from node object. also each cluster has multi nodes but every node has just one cluster. but the the aggregating is not for this application. it is for \"has one\" relationship.\nFor doing this you can define a singleton class and save every cluster in it. next you need to add a function to get each cluster by it's id. also you must save cluster id in each node too.\nI hope this works for you."
  },
  {
    "url": "https://stackoverflow.com/questions/79146271/importing-opencv-and-tensorflow-lite-into-ns-3-38",
    "title": "Importing OpenCV and TensorFlow Lite into ns-3.38",
    "question": "I am currently working on a project that involves using\nOpenCV\nand\nTensorFlow Lite\nwithin the\nns-3.38\nsimulation environment. Despite several attempts, I am facing difficulties with configuring and integrating these libraries correctly.\nI have tried updating the\nCMakeLists.txt\nfile to include both OpenCV and TensorFlow Lite, but I continue to encounter issues, particularly with dependencies and path configurations. Additionally, linking the required libraries to ensure compatibility with ns-3.38 has proven to be challenging.\nI added this part to my\nCMakeLists.txt\nfile before\nns3_cmake_package()\n:\n#Add OpenCV to the project\nfind_package(OpenCV REQUIRED)\n\n# Add include directories for OpenCV\ninclude_directories(${OpenCV_INCLUDE_DIRS})\n\n#Add OpenCV to the project\nfind_package(OpenCV REQUIRED)\n\n# Add include directories for OpenCV\ninclude_directories(${OpenCV_INCLUDE_DIRS})\n\n# Define the executable target for your simulation\nadd_executable(OpenCV scratch/EDEN/EDEN.cc)\n# Link your executable with OpenCV libraries\ntarget_link_libraries(OpenCV ${OpenCV_LIBS})\n\n#----------------------------------------------------------\n\n# Set TensorFlow Lite directories\nset(TFLITE_DIR \"/home/negar/workspace/tensorflow/tensorflow/lite\")\nset(TFLITE_LIB \"${TFLITE_DIR}/libtensorflow-lite.a\")\n\n# Include TensorFlow Lite headers\ninclude_directories(\"/home/negar/workspace/tensorflow\")\ninclude_directories(\"/home/negar/workspace/flatbuffers/include\")\n\n# Define the executable\nadd_executable(TensorFlow scratch/EDEN/node.cc)\n\n# Link the executable with TensorFlow Lite\ntarget_link_libraries(TensorFlow ${TFLITE_LIB})\nWhen I run\n./ns3 build\nit returns:\n/home/negar/workspace/ns-allinone-3.38/ns-3.38/scratch/EDEN/node.cc: In member function ‘void NodeServer::LogMobilityData()’:\n/home/negar/workspace/ns-allinone-3.38/ns-3.38/scratch/EDEN/node.cc:196:48: error: invalid use of incomplete type ‘class ns3::Node’\n  196 |         Ptr<MobilityModel> mobility = GetNode()->GetObject<MobilityModel>();\n      |                                                ^~\nIn file included from /home/negar/workspace/ns-allinone-3.38/ns-3.38/build/include/ns3/application.h:1,\n                 from /home/negar/workspace/ns-allinone-3.38/ns-3.38/scratch/EDEN/node.h:4,\n                 from /home/negar/workspace/ns-allinone-3.38/ns-3.38/scratch/EDEN/node.cc:1:\n/home/negar/workspace/ns-allinone-3.38/ns-3.38/src/network/model/application.h:32:7: note: forward declaration of ‘class ns3::Node’\n   32 | class Node;\n      |       ^~~~\n/home/negar/workspace/ns-allinone-3.38/ns-3.38/scratch/EDEN/node.cc:196:73: error: expected primary-expression before ‘>’ token\n  196 |         Ptr<MobilityModel> mobility = GetNode()->GetObject<MobilityModel>();\n      |                                                                         ^\n/home/negar/workspace/ns-allinone-3.38/ns-3.38/scratch/EDEN/node.cc:196:75: error: expected primary-expression before ‘)’ token\n  196 |         Ptr<MobilityModel> mobility = GetNode()->GetObject<MobilityModel>();\n      |                                                                           ^\n/home/negar/workspace/ns-allinone-3.38/ns-3.38/scratch/EDEN/node.cc:200:29: error: invalid use of incomplete type ‘class ns3::Node’\n  200 |                 << GetNode()->GetId() << \",\"\n      |                             ^~\nIn file included from /home/negar/workspace/ns-allinone-3.38/ns-3.38/build/include/ns3/application.h:1,\n                 from /home/negar/workspace/ns-allinone-3.38/ns-3.38/scratch/EDEN/node.h:4,\n                 from /home/negar/workspace/ns-allinone-3.38/ns-3.38/scratch/EDEN/node.cc:1:\n/home/negar/workspace/ns-allinone-3.38/ns-3.38/src/network/model/application.h:32:7: note: forward declaration of ‘class ns3::Node’\n   32 | class Node;\n      |       ^~~~\n/home/negar/workspace/ns-allinone-3.38/ns-3.38/scratch/EDEN/node.cc:195:22: warning: unused variable ‘data’ [-Wunused-variable]\n  195 |     for (const auto& data : m_nodeData) {\n      |                      ^~~~\n/home/negar/workspace/ns-allinone-3.38/ns-3.38/scratch/EDEN/node.cc: In member function ‘cv::Mat NodeServer::PerformClustering()’:\n/home/negar/workspace/ns-allinone-3.38/ns-3.38/scratch/EDEN/node.cc:420:32: error: invalid use of incomplete type ‘class ns3::Node’\n  420 |         nodeData.id = GetNode()->GetId();\n      |                                ^~\nIn file included from /home/negar/workspace/ns-allinone-3.38/ns-3.38/build/include/ns3/application.h:1,\n                 from /home/negar/workspace/ns-allinone-3.38/ns-3.38/scratch/EDEN/node.h:4,\n                 from /home/negar/workspace/ns-allinone-3.38/ns-3.38/scratch/EDEN/node.cc:1:\n/home/negar/workspace/ns-allinone-3.38/ns-3.38/src/network/model/application.h:32:7: note: forward declaration of ‘class ns3::Node’\n   32 | class Node;\n      |       ^~~~\n/home/negar/workspace/ns-allinone-3.38/ns-3.38/scratch/EDEN/node.cc: In member function ‘void NodeClient::SendNodeData()’:\n/home/negar/workspace/ns-allinone-3.38/ns-3.38/scratch/EDEN/node.cc:485:44: error: invalid use of incomplete type ‘class ns3::Node’\n  485 |     Ptr<MobilityModel> mobility = GetNode()->GetObject<MobilityModel>();\n      |                                            ^~\nIn file included from /home/negar/workspace/ns-allinone-3.38/ns-3.38/build/include/ns3/application.h:1,\n                 from /home/negar/workspace/ns-allinone-3.38/ns-3.38/scratch/EDEN/node.h:4,\n                 from /home/negar/workspace/ns-allinone-3.38/ns-3.38/scratch/EDEN/node.cc:1:\n/home/negar/workspace/ns-allinone-3.38/ns-3.38/src/network/model/application.h:32:7: note: forward declaration of ‘class ns3::Node’\n   32 | class Node;\n      |       ^~~~\n/home/negar/workspace/ns-allinone-3.38/ns-3.38/scratch/EDEN/node.cc:485:69: error: expected primary-expression before ‘>’ token\n  485 |     Ptr<MobilityModel> mobility = GetNode()->GetObject<MobilityModel>();\n      |                                                                     ^\n/home/negar/workspace/ns-allinone-3.38/ns-3.38/scratch/EDEN/node.cc:485:71: error: expected primary-expression before ‘)’ token\n  485 |     Ptr<MobilityModel> mobility = GetNode()->GetObject<MobilityModel>();\n      |                                                                       ^\n/home/negar/workspace/ns-allinone-3.38/ns-3.38/scratch/EDEN/node.cc:493:24: error: invalid use of incomplete type ‘class ns3::Node’\n  493 |     data.id = GetNode()->GetId();\n      |                        ^~\nIn file included from /home/negar/workspace/ns-allinone-3.38/ns-3.38/build/include/ns3/application.h:1,\n                 from /home/negar/workspace/ns-allinone-3.38/ns-3.38/scratch/EDEN/node.h:4,\n                 from /home/negar/workspace/ns-allinone-3.38/ns-3.38/scratch/EDEN/node.cc:1:\n/home/negar/workspace/ns-allinone-3.38/ns-3.38/src/network/model/application.h:32:7: note: forward declaration of ‘class ns3::Node’\n   32 | class Node;\n      |       ^~~~\nIn file included from /home/negar/workspace/ns-allinone-3.38/ns-3.38/src/core/model/event-id.h:23,\n                 from /home/negar/workspace/ns-allinone-3.38/ns-3.38/build/include/ns3/event-id.h:1,\n                 from /home/negar/workspace/ns-allinone-3.38/ns-3.38/src/network/model/application.h:23,\n                 from /home/negar/workspace/ns-allinone-3.38/ns-3.38/build/include/ns3/application.h:1,\n                 from /home/negar/workspace/ns-allinone-3.38/ns-3.38/scratch/EDEN/node.h:4,\n                 from /home/negar/workspace/ns-allinone-3.38/ns-3.38/scratch/EDEN/node.cc:1:\n/home/negar/workspace/ns-allinone-3.38/ns-3.38/src/core/model/ptr.h: In instantiation of ‘ns3::Ptr<T>::~Ptr() [with T = ns3::Node]’:\n/home/negar/workspace/ns-allinone-3.38/ns-3.38/scratch/EDEN/node.cc:81:55:   required from here\n/home/negar/workspace/ns-allinone-3.38/ns-3.38/src/core/model/ptr.h:727:16: error: invalid use of incomplete type ‘class ns3::Node’\n  727 |         m_ptr->Unref();\n      |         ~~~~~~~^~~~~\nIn file included from /home/negar/workspace/ns-allinone-3.38/ns-3.38/build/include/ns3/application.h:1,\n                 from /home/negar/workspace/ns-allinone-3.38/ns-3.38/scratch/EDEN/node.h:4,\n                 from /home/negar/workspace/ns-allinone-3.38/ns-3.38/scratch/EDEN/node.cc:1:\n/home/negar/workspace/ns-allinone-3.38/ns-3.38/src/network/model/application.h:32:7: note: forward declaration of ‘class ns3::Node’\n   32 | class Node;\n      |       ^~~~\nmake[2]: *** [CMakeFiles/TensorFlow.dir/build.make:63: CMakeFiles/TensorFlow.dir/scratch/EDEN/node.cc.o] Error 1\nmake[1]: *** [CMakeFiles/Makefile2:2770: CMakeFiles/TensorFlow.dir/all] Error 2\nmake: *** [Makefile:141: all] Error 2\nFinished executing the following commands:\ncd cmake-cache; /usr/bin/cmake --build . -j 1 ; cd ..",
    "answer": "You're missing include headers in scratch/EDEN/node.cc.\n#include \"ns3/network-module.h\""
  },
  {
    "url": "https://stackoverflow.com/questions/79090343/missing-system-dependencies-for-ns3",
    "title": "missing system dependencies for ns3",
    "question": "I have been setting up ns-3-allinone on my WSL Python virtual environment using the in-built 'bake' tool. However during the setup, after running\n./bake.py download\nor\n./bake.py show\nthe following system dependencies are said to be missing from my virtual environment:\ngi-cairo\npygobject\npygraphviz\nThis is despite the fact I've installed these packages through both\npip install\nand\nsudo apt install\ncommands. Running\npip list\non the virtual environment shows these system-dependencies as present, yet still the bake command shows them as missing. Any suggestions on what to do?",
    "answer": "Are you running bake from within your virtual environment?\nIf no, then try doing that.\nIf yes, then it could be a limitation of bake only being prepared to check for the system/global python installation. In this case, please report upstream.\nhttps://gitlab.com/nsnam/bake"
  },
  {
    "url": "https://stackoverflow.com/questions/78645306/ns-3-multiple-wifi-clients-and-one-server-using-udp",
    "title": "NS-3 Multiple WiFi clients and one server using UDP",
    "question": "I am trying to built a ns-3 simulation with the following characteristics . I want multiple client nodes that will periodically communicate with a server (only with the server, no client-to-client communication) over a WiFi network with UDP packets .The server will receive the packets and answer back. I eventually want to gather the delays for every client-server connection.\nI am quite new to ns-3 and I am trying to built ,for starting , a network where clients send the packets to the server but it seems like that despite all my clients sending packets and in different moments the server only \"listens\" one node . Here is my code and the output :\n#include \"ns3/core-module.h\"\n#include \"ns3/network-module.h\"\n#include \"ns3/wifi-module.h\"\n#include \"ns3/mobility-module.h\"\n#include \"ns3/internet-module.h\"\n#include \"ns3/applications-module.h\"\n#include \"ns3/flow-monitor-module.h\"\n#include \"ns3/packet.h\"\n#include \"ns3/log.h\"\n\nusing namespace ns3;\n\nNS_LOG_COMPONENT_DEFINE (\"WirelessNetwork\");\n\nvoid CourseChange(std::string context, Ptr\\<const MobilityModel\\> model) {\nVector position = model-\\>GetPosition();\nNS_LOG_UNCOND(context \\<\\<\" x = \" \\<\\< position.x \\<\\< \", y = \" \\<\\< position.y);\n}\n// void PacketSentCallback(Ptr\\<const Packet\\> packet)\n// {\n//     NS_LOG_UNCOND(\"Packet sent at \" \\<\\< Simulator::Now().GetSeconds() \\<\\< \" seconds\");\n// }\n// void PacketReceivedCallback(Ptr\\<const Packet\\> packet)\n// {\n//     NS_LOG_UNCOND(\"Packet received at \" \\<\\< Simulator::Now().GetSeconds() \\<\\< \" seconds\");\n// }\n\nint main (int argc, char \\*argv\\[\\])\n{\n// Enable logging for this script\nLogComponentEnable (\"WirelessNetwork\", LOG_LEVEL_INFO);\n\n    bool verbose = true;\n    uint32_t nWifi=3;\n    double simulationTime = 10; // simulation time in seconds\n    \n    CommandLine cmd;\n    \n    cmd.AddValue(\"nWifi\", \"Number of wifi STA devices\", nWifi); \n    cmd.AddValue(\"verbose\", \"Tell echo applications to log if true\", verbose);\n    cmd.Parse(argc,argv);\n    if (verbose) {\n        LogComponentEnable(\"PacketSink\", LOG_LEVEL_INFO);\n        LogComponentEnable(\"UdpSocketImpl\", LOG_LEVEL_INFO);\n        LogComponentEnable(\"UdpClient\", LOG_LEVEL_INFO);\n        LogComponentEnable(\"UdpServer\", LOG_LEVEL_INFO);\n    }\n    \n    // Create nodes\n    NodeContainer wifiStaNode;\n    wifiStaNode.Create(1);\n    NodeContainer wifiApNode;\n    wifiApNode.Create(nWifi);\n    \n    // Create wireless channel\n    YansWifiChannelHelper channel = YansWifiChannelHelper::Default();\n    YansWifiPhyHelper phy;\n    phy.SetChannel(channel.Create());\n    \n    // Default IEEE 802.11n (2.4 GHz)\n    WifiHelper wifi;\n    wifi.SetStandard(WIFI_STANDARD_80211n);\n    // wifi.SetRemoteStationManager(\"ns3::ConstantRateWifiManager\",\n    //                              \"DataMode\",\n    //                              StringValue(\"HtMcs7\"),\n    //                              \"ControlMode\",\n    //                              StringValue(\"HtMcs0\"));\n    WifiMacHelper mac;\n    \n    // Install PHY and MAC\n    Ssid ssid = Ssid(\"ns3-wifi\");\n    mac.SetType(\"ns3::StaWifiMac\", \"Ssid\", SsidValue(ssid));\n    \n    NetDeviceContainer staDevice;\n    staDevice = wifi.Install(phy, mac, wifiStaNode);\n    \n    mac.SetType(\"ns3::ApWifiMac\", \"Ssid\", SsidValue(ssid));\n    \n    NetDeviceContainer apDevice;\n    apDevice = wifi.Install(phy, mac, wifiApNode);\n    \n    \n    // Mobility\n    MobilityHelper mobility;\n    Ptr<ListPositionAllocator> positionAlloc = CreateObject<ListPositionAllocator>();\n    \n    positionAlloc->Add(Vector(0.0, 0.0, 0.0));\n    positionAlloc->Add(Vector(1.0, 0.0, 0.0));\n    positionAlloc->Add(Vector(2.0, 0.0, 0.0));\n    \n    mobility.SetPositionAllocator(positionAlloc);\n    \n    mobility.SetMobilityModel(\"ns3::ConstantPositionMobilityModel\");\n    \n    mobility.Install(wifiApNode);\n    mobility.Install(wifiStaNode);\n    \n    // Internet stack\n    InternetStackHelper stack;\n    stack.Install(wifiApNode);\n    stack.Install(wifiStaNode);\n    \n    Ipv4AddressHelper address;\n    \n    address.SetBase(\"192.168.1.0\", \"255.255.255.0\");\n    Ipv4InterfaceContainer staNodeInterface;\n    Ipv4InterfaceContainer apNodeInterface;\n    \n    staNodeInterface = address.Assign(staDevice);\n    apNodeInterface = address.Assign(apDevice);\n    \n    // Setting applications\n    uint16_t port = 9;\n    PacketSinkHelper packetSinkHelper(\"ns3::UdpSocketFactory\", InetSocketAddress(Ipv4Address::GetAny(), port));\n    ApplicationContainer serverApp = packetSinkHelper.Install(wifiStaNode.Get(0));\n    \n    serverApp.Start(Seconds(0.0));\n    serverApp.Stop(Seconds(simulationTime + 1));\n    \n    ApplicationContainer clientApps;\n    for (uint32_t i = 0; i < wifiApNode.GetN(); ++i)\n    {\n        UdpClientHelper client(staNodeInterface.GetAddress(0), port);  // Target the server IP\n        client.SetAttribute(\"MaxPackets\", UintegerValue(2));\n        client.SetAttribute(\"PacketSize\", UintegerValue(1472));\n        ApplicationContainer clientApp = client.Install(wifiApNode.Get(i));\n        clientApp.Start(Seconds(1.0+i*2));\n        clientApp.Stop(Seconds(10 + 1));\n        clientApps.Add(clientApp);\n    }\n    \n    // Populate routing table\n    Ipv4GlobalRoutingHelper::PopulateRoutingTables();\n    \n    // Set simulation time and launch simulation\n    Simulator::Stop(Seconds(simulationTime + 1));\n    Simulator::Run();\n    \n    Simulator::Destroy();\n    return 0;\n\n}\nTraceDelay TX 1472 bytes to 192.168.1.1 Uid: 36 Time: +1sAt time +1.00514s packet sink received 1472 bytes from 192.168.1.2 port 49153 total Rx 1472 bytesTraceDelay TX 1472 bytes to 192.168.1.1 Uid: 71 Time: +2sAt time +2.00024s packet sink received 1472 bytes from 192.168.1.2 port 49153 total Rx 2944 bytesTraceDelay TX 1472 bytes to 192.168.1.1 Uid: 102 Time: +3sTraceDelay TX 1472 bytes to 192.168.1.1 Uid: 133 Time: +4sTraceDelay TX 1472 bytes to 192.168.1.1 Uid: 165 Time: +5sTraceDelay TX 1472 bytes to 192.168.1.1 Uid: 199 Time: +6s",
    "answer": "I don't know if its right but it seems to work I did it with UdpServer\nNS_LOG_INFO(\"Create UdpServer application on AP node.\");\n    uint16_t port = 4000;\n    UdpServerHelper server(port);\n    ApplicationContainer apps = server.Install(wifiApNode.Get(0));\n    apps.Start(Seconds(1.0));\n    apps.Stop(Seconds(10.0));\n\n\n    NS_LOG_INFO(\"Create UdpClient application on node 0 to send to node 1.\");\n    uint32_t MaxPacketSize = 1024;\n    Time interPacketInterval = Seconds(1);\n    uint32_t maxPacketCount = 3;\n\n    ApplicationContainer clientApps;\n    UdpClientHelper client(serverAddress, port);\n    client.SetAttribute(\"MaxPackets\", UintegerValue(maxPacketCount));\n    client.SetAttribute(\"Interval\", TimeValue(interPacketInterval));\n    client.SetAttribute(\"PacketSize\", UintegerValue(MaxPacketSize));\n    clientApps= client.Install(wifiStaNodes);\n    clientApps.Start(Seconds (2.0));\n    clientApps.Stop(Seconds (10.0));"
  },
  {
    "url": "https://stackoverflow.com/questions/78485567/how-to-make-full-buffer-traffic-in-ns-3-lte-module",
    "title": "How to make full-buffer traffic in NS-3 LTE-module",
    "question": "I've already read documentation for LTE-module and EPC packets, but I don't understand how can I create full-buffer traffic. Info about probably here:\nhttps://www.nsnam.org/docs/models/html/lte-user.html\n(19.2), I tried but its still not working(.\nHow I have this code:\n#include <ns3/core-module.h>\n#include <ns3/network-module.h>\n#include <ns3/mobility-module.h>\n#include <ns3/lte-module.h>\n#include <ns3/internet-module.h>\n#include <ns3/point-to-point-module.h>\n#include <ns3/applications-module.h>\nusing namespace std;\nusing namespace ns3;\n\n//defines for simple code\n\n#define pfff \"ns3::PfFfMacScheduler\"\n#define const_pos_model \"ns3::ConstantPositionMobilityModel\"\n#define simTime Seconds(10);\nint main(int argc, char *argv[])\n{\n  //creating UE and ENB (2 and 1)\n  Ptr<LteHelper> lteHelper = CreateObject<LteHelper>();\n  NodeContainer enbNodes;\n  enbNodes.Create(1);\n  NodeContainer ueNodes;\n  ueNodes.Create(2);\n\n  //creating class instance for using mobility \n\n  MobilityHelper mobility;\n\n  //setup the position of ue \n\n  Ptr<ListPositionAllocator> UEposition = CreateObject<ListPositionAllocator> ();\n  UEposition->Add(Vector (1.0,1.0, 0.0));\n  UEposition->Add(Vector (1.0,-1.0, 0.0));\n  mobility.SetPositionAllocator(UEposition);\n  mobility.SetMobilityModel(const_pos_model);\n  mobility.Install(ueNodes);\n\n  //setup the position of enb\n  Ptr<ListPositionAllocator> ENBposition = CreateObject<ListPositionAllocator> ();\n  ENBposition->Add(Vector (0.0,0.0,0.0));\n  mobility.SetPositionAllocator(ENBposition);\n  mobility.SetMobilityModel(const_pos_model);\n  mobility.Install(enbNodes);\n\n  //setup pfff scheduler\n\n  lteHelper->SetSchedulerType(pfff);\n\n  //install LTE settings on UE and ENB devices\n\n  NetDeviceContainer enbDevs;\n  enbDevs = lteHelper->InstallEnbDevice(enbNodes);\n  NetDeviceContainer ueDevs;\n  ueDevs = lteHelper->InstallUeDevice(ueNodes);\n\n\n  lteHelper->Attach(ueDevs, enbDevs.Get(0));\n  enum EpsBearer::Qci q = EpsBearer::GBR_CONV_VOICE;\n  EpsBearer bearer(q);\n  lteHelper->ActivateDataRadioBearer(ueDevs, bearer);\n\n \n  lteHelper->EnableMacTraces();\n  lteHelper->EnableRlcTraces();\n  \n  Simulator::Stop(Seconds(10));\n\n  Simulator::Run();\n\n  Simulator::Destroy();\n\n\n  return 0;\n}\nIts minimal LTE-simulation. And I need to add here full-buffer traffic. I'm a beginner in this but now I have no ideas. Thanks a lot for helping one more time.\nP.S. - It's a program which simulates 2 UE and 1 ENB with full-traffic, other settings I installed.",
    "answer": "you can use                                                                Time interPacketInterval = MilliSeconds(1);  //1ms for  full buffer and 10ms for non - buffer  scenario"
  },
  {
    "url": "https://stackoverflow.com/questions/78065422/how-to-install-aqm-algorithms-in-ns3",
    "title": "How to install AQM algorithms in ns3",
    "question": "I am new to ns3 and trying a way to add Active Queue Management Algorithms in my code. I was wondering how could I implement them on my topology.\nI tried implementing them through netdevcontainer, but it was showing a sigsegv error.",
    "answer": "I am not sure of the error you are getting but to install Queuing Disciplines (AQM algorithms) ,initially you need to have a NetDevContainer of the nodes you want to install the algorithm on like\nNetDeviceContainer internalNet;\nThen install the AQM algorithm using the following code :\n`std::string aqmAlgo = \"ns3::CoDelQueueDisc\";\nQueueDiscContainer queueDiscs;\n\nTrafficControlHelper tch;   //AQM implementation\n\ntch.SetRootQueueDisc (aqmAlgo);\n\nqueueDiscs = tch.Install(internalNet);`\nAlso don't forget to include the following header files:\n#include \"ns3/traffic-control-module.h\"\nThen it should work fine,\nChinmay"
  },
  {
    "url": "https://stackoverflow.com/questions/77794061/how-to-find-the-set-of-attribute-names-that-can-be-set-for-the-setattribute-fu",
    "title": "How to find the set of attribute names that can be set for the SetAttribute() function",
    "question": "I want to know which attributes of the\nns3::UdpEchoClientHelper::SetAttribute()\ncan be set.\nHere are the function definitions and parameter meanings:\nvoid ns3::UdpEchoClientHelper::SetAttribute (std::string name,const AttributeValue & value )\nParameters\n    name    the name of the attribute to set\n    value   the value of the attribute to set\nI couldn't find the answer I wanted on the official document of ns-3",
    "answer": "This call can be used to set any of the object attributes. Since you're talking about the UdpEchoClient helper, it sets the attributes of UdpEchoClient, which you can see in the .cc source code:\nTypeId(\"ns3::UdpEchoClient\")\n            .SetParent<Application>()\n            .SetGroupName(\"Applications\")\n            .AddConstructor<UdpEchoClient>()\n            .AddAttribute(\n                \"MaxPackets\",\n                \"The maximum number of packets the application will send (zero means infinite)\",\n                UintegerValue(100),\n                MakeUintegerAccessor(&UdpEchoClient::m_count),\n                MakeUintegerChecker<uint32_t>())\n            .AddAttribute(\"Interval\",\n                          \"The time to wait between packets\",\n                          TimeValue(Seconds(1.0)),\n                          MakeTimeAccessor(&UdpEchoClient::m_interval),\n                          MakeTimeChecker())\n            .AddAttribute(\"RemoteAddress\",\n                          \"The destination Address of the outbound packets\",\n                          AddressValue(),\n                          MakeAddressAccessor(&UdpEchoClient::m_peerAddress),\n                          MakeAddressChecker())\n            .AddAttribute(\"RemotePort\",\n                          \"The destination port of the outbound packets\",\n                          UintegerValue(0),\n                          MakeUintegerAccessor(&UdpEchoClient::m_peerPort),\n                          MakeUintegerChecker<uint16_t>())\n            .AddAttribute(\"Tos\",\n                          \"The Type of Service used to send IPv4 packets. \"\n                          \"All 8 bits of the TOS byte are set (including ECN bits).\",\n                          UintegerValue(0),\n                          MakeUintegerAccessor(&UdpEchoClient::m_tos),\n                          MakeUintegerChecker<uint8_t>())\n            .AddAttribute(\n                \"PacketSize\",\n                \"Size of echo data in outbound packets\",\n                UintegerValue(100),\n                MakeUintegerAccessor(&UdpEchoClient::SetDataSize, &UdpEchoClient::GetDataSize),\n                MakeUintegerChecker<uint32_t>())\nLink for the file:\nhttps://gitlab.com/nsnam/ns-3-dev/-/blob/master/src/applications/model/udp-echo-client.cc?ref_type=heads#L47-L79\nAs you can see, the\n.AddAttribute\ncalls are defining the possible attributes that can be set, which in this case are:\nInterval\n,\nRemoteAddress\n,\nRemotePort\n,\nToS\nand\nPacketSize\n.\nYou can also see their value types (UintegerValue, TimeValue, AddressValue).\nSo you can call\nns3::UdpEchoClientHelper::SetAttribute(\"MaxPackets\", UintegerValue(1234));\nThis will configure UdpEchoClient applications created by this helper to send stop sending packets after the 1234 threshold is reached."
  },
  {
    "url": "https://stackoverflow.com/questions/77740494/how-to-fix-modulenotfounderror-no-module-named-ns3-error-after-executing-th",
    "title": "How to fix \"ModuleNotFoundError: No module named 'ns3'\" error after executing the example python in ns3?",
    "question": "I have this error when I execute the python program in ns3:\nTraceback (most recent call last):\n File \"/home/alyaa/ns-allinone-3.40/ns-3.40/tes1.py\", line 1, in <module>\n  import ns3\nModuleNotFoundError: No module named 'ns3'\nCommand 'python3 tes1.py' returned non-zero exit status 1.",
    "answer": "Have you tried installing the module on your command line?\npip install ns3\nType that into command prompt on Windows / Terminal on Mac"
  },
  {
    "url": "https://stackoverflow.com/questions/77563111/compiling-ns3-using-clang-results-in-undefined-symbol-linker-error",
    "title": "Compiling ns3 using clang results in undefined symbol linker error",
    "question": "I've downloaded\nns-3.39\n, unpacked and compiled it using\nwget https://www.nsnam.org/releases/ns-allinone-3.39.tar.bz2\ntar xfj ns-allinone-3.39.tar.bz2\ncd ns-allinone-3.39/ns-3.39/\n./ns3 configure --disable-examples --disable-tests -d default\n./ns3 build\nthis works fine.\nWhen I add an\n#include \"ns3/ipv4-header.h\"\nto\nns-3.39/src/wifi/model/phy-entity.cc\nand try to use the\nIpv4Header\nclass from that header by instantiating an\nIpv4Header ipHeader;\ninside\nphy-entity.cc:528\nin its\nDropPreambleEvent\nfunction, I get the following compilation error:\nld: Undefined symbols:\n  ns3::Ipv4Header::Ipv4Header(), referenced from:\n      ns3::PhyEntity::DropPreambleEvent(ns3::Ptr<ns3::WifiPpdu const>, ns3::WifiPhyRxfailureReason, ns3::Time) in phy-entity.cc.o\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\nI am compiling on a MacBook M2 Pro with\nclang\ntargeted for ARM. When I do the exact same thing on a x86_64 Linux server with\ngcc\n, it works.\nI would really like to get this working so that I can work locally. I've sunk some time into this, and found the following\nsince the unmodified\nns3\nsimulator compiles on the Mac, it is not the ARM platform as such that causes problems\nns3\ncompiles a bunch of standalone dynamic libraries\nmy best guess right now is that the\nIpv4Header\ndefinition is part of a different library than the\nPhyEntity\nand so it cannot call the constructor\nprobably\ngcc\nallows such undefined symbols in dynamic libraries, which should indeed be fine as long as the final executable links all symbols in, right?\nI've tried to configure\nclang\nto allow the same by following\nthis post\ni.e. I've set the environment variable\nOTHER_LDFLAGS\nto\n-undefined dynamic_lookup\nand recompiled, but to no avail\nI am out of ideas. What could I try?",
    "answer": "I've got it running. For those that come after me that have similar troubles:\nI've learned that the ns3 core is structured module-wise (forgive me if you know this already, I am learning as I go), so there is no direct link between the wifi module and the internet module. Modules are compiled into dynamic libraries, so that you can pick and choose what you need. Makes total sense to me from a software architecture standpoint.\nIn my project we've been changing the wifi module code (as stated in the original post), by including stuff such as the\nIpv4Header\nthat comes from the internet module.\nTo make this work when compiling with\nclang/arm\n, you need to explicitly link the internet library with the wifi library by adding 1 line to the\nsrc/wifi/CMakeLists.txt\n, under\nbuild_lib(...)\nyou must add\nbuild_lib(\n    LIBNAME wifi\n    ...\n    LIBRARIES_TO_LINK\n    ...\n    ${libinternet}\n    ...\n)\nThis might be bad coding style as we break the isolation between the libraries; we'll accept it for the task at hand.\nWhat I still don't understand is why\ngcc/x86_64\non a Linux system DOES NOT REQUIRE THIS. Somehow it determines to link in this library on its own? If anyone could explain to me how/why this works, I'd love to hear it."
  },
  {
    "url": "https://stackoverflow.com/questions/77535788/how-to-fix-this-error-about-installing-netsimulyzer-into-ns3-33",
    "title": "How to fix this error about installing netsimulyzer into ns3.33?",
    "question": "I have installed both the actual 3D visualization tool and the ns-3 companion module according to two websites list below:\nhttps://www.projectguideline.com/installing-netsimulyzer-3d-visualization-tool-under-debian-ubuntu/\nhttps://www.projectguideline.com/installing-netsimulyzer-3d-visualization-support-module-in-ns-3-under-debian-ubuntu/\nWhen I reconfigured ns3 , it appears such erro 'Could not find a task generator for the name 'ns3-NetSimulyzer' '\nenter image description here\nMy ns3 is 3.33 and the environment is WSL2+Ubuntu20.04.\nI have searched some pages, someone say  changing the folder name , I could't fully understand it and the suggestion didn't work.\nIf someone can help me fix this error, thank you in advance.",
    "answer": "first the name of the folder change it to netsimulyz secondly the folder it better to be configure in contrib not src"
  },
  {
    "url": "https://stackoverflow.com/questions/77276578/ns-3-python-simulation",
    "title": "NS-3 Python simulation",
    "question": "I'm trying to work with ns-3 in python. I am specifically working on the\nmanet-routing-compare.cc\nfile in the example directory, and trying to convert it into Python code.\nIn\nmanet-routing-compare.cc\n, line 379:\nAddressValue remoteAddress(InetSocketAddress(adhocInterfaces.GetAddress(i), port));\nI converted it to:\nport = c_int(9)\nremoteAddress = ns.network.AddressValue(ns.network.InetSocketAddress(adhocInterfaces.GetAddress(i), port.value))\nBut I got the following error:\nTypeError: none of the 4 overloaded methods succeeded. Full details:\n  AddressValue::AddressValue(ns3::AddressValue&&) =>\n    ValueError: could not convert argument 1 (object is not an rvalue)\n  AddressValue::AddressValue(const ns3::AddressValue&) =>\n    TypeError: could not convert argument 1\n  AddressValue::AddressValue() =>\n    TypeError: takes at most 0 arguments (1 given)\n  AddressValue::AddressValue(const ns3::Address& value) =>\n    TypeError: could not convert argument 1\nAny suggestions for solving this problem?\nThe following statement prints this:\nprint(ns.network.InetSocketAddress(adhocInterfaces.GetAddress(i), port.value))\n02-07-0a:01:01:01:09:00:00",
    "answer": "Like responded on the ns-3-users forums, this is due to a Cppyy limitation that doesn't support a custom\noperator Address\n, requiring explicit conversion from the\nInetSocketAddress\ntype to\nAddress\n.\nThe conversion can be done via\nInetSocketAddress().ConvertTo()\nin ns-3.38 and onwards, or\nns.addressFromInetSocketAddress(InetSocketAddress())\nin ns-3.37.\nLink to forum posts\nhttps://groups.google.com/g/ns-3-users/c/yQ3h_y235Es"
  },
  {
    "url": "https://stackoverflow.com/questions/77152686/how-should-i-add-crypto-8-80-library-to-ns3-3-31-the-os-is-ubuntu-20-04-my",
    "title": "How should I add Crypto++ 8.80 library to NS3 3.31 ? The OS is Ubuntu 20.04. My main aim to test TLS 1.3 cipher suites with wireless sensor network",
    "question": "How should I add Crypto++ 8.80 library to NS3 3.31 ?  The OS is Ubuntu 20.04. My main aim to test TLS 1.3 cipher suites with wireless sensor network.\nHere are some specific pointers:\nThe NS3 installation is working properly. I am able to run the ns3 scripts that are provided with the examples & tutorials folders.\nAlso NetAnim 3.108 is also working properly.\nI have added the source code of Crypto++ 8.80 lib to contrib folder as contrib/cryptopp.\nI had downloaded the source code from\nhttps://github.com/weidai11/cryptopp/releases/tag/CRYPTOPP_8_8_0\n.\nPlease tell me what should my next steps be. Also if there is no way please tell me alternatives as well.\nSo here is what I have tried:\nFirstly I have put the source code in inside /home/hex/ns-allinone-3.31/ns-3.31/contrib/cryptopp.\nHere are the files in the above mentioned folder:\n3way.cpp                  dh.cpp                   lubyrack.h         serpentp.h\n3way.h                    dh.h                     luc.cpp            sha1_armv4.h\nadhoc.cpp.proto           dll.cpp                  luc.h              sha1_armv4.S\nadler32.cpp               dll.h                    mars.cpp           sha256_armv4.h\nadler32.h                 dlltest.cpp              mars.h             sha256_armv4.S\nadv_simd.h                dlltest.vcxproj          marss.cpp          sha3.cpp\naes_armv4.h               dlltest.vcxproj.filters  md2.cpp            sha3.h\naes_armv4.S               dmac.h                   md2.h              sha512_armv4.h\naes.h                     donna_32.cpp             md4.cpp            sha512_armv4.S\nalgebra.cpp               donna_32.h               md4.h              shacal2.cpp\nalgebra.h                 donna_64.cpp             md5.cpp            shacal2.h\nalgparam.cpp              donna_64.h               md5.h              shacal2_simd.cpp\nalgparam.h                donna.h                  mdc.h              sha.cpp\nallocate.cpp              donna_sse.cpp            mersenne.h         sha.h\nallocate.h                donna_sse.h              misc.cpp           shake.cpp\narc4.cpp                  Doxyfile                 misc.h             shake.h\narc4.h                    drbg.h                   modarith.h         sharkbox.cpp\nargnames.h                dsa.cpp                  modes.cpp          shark.cpp\naria.cpp                  dsa.h                    modes.h            shark.h\naria.h                    eax.cpp                  modexppc.h         sha_simd.cpp\naria_simd.cpp             eax.h                    mqueue.cpp         simeck.cpp\nariatab.cpp               ec2n.cpp                 mqueue.h           simeck.h\narm_simd.h                ec2n.h                   mqv.cpp            simon128_simd.cpp\nasn.cpp                   eccrypto.cpp             mqv.h              simon.cpp\nasn.h                     eccrypto.h               naclite.h          simon.h\nauthenc.cpp               ecp.cpp                  nbtheory.cpp       simple.cpp\nauthenc.h                 ecp.h                    nbtheory.h         simple.h\nbase32.cpp                ecpoint.h                neon_simd.cpp      siphash.h\nbase32.h                  elgamal.cpp              nr.h               skipjack.cpp\nbase64.cpp                elgamal.h                oaep.cpp           skipjack.h\nbase64.h                  emsa2.cpp                oaep.h             sm3.cpp\nbasecode.cpp              emsa2.h                  oids.h             sm3.h\nbasecode.h                eprecomp.cpp             osrng.cpp          sm4.cpp\nbds10.zip                 eprecomp.h               osrng.h            sm4.h\nbench1.cpp                esign.cpp                ossig.h            sm4_simd.cpp\nbench2.cpp                esign.h                  padlkrng.cpp       smartptr.h\nbench3.cpp                factory.h                padlkrng.h         sosemanuk.cpp\nbench.h                   fhmqv.h                  panama.cpp         sosemanuk.h\nbfinit.cpp                Filelist.txt             panama.h           speck128_simd.cpp\nblake2b_simd.cpp          files.cpp                pch.cpp            speck.cpp\nblake2.cpp                files.h                  pch.h              speck.h\nblake2.h                  filters.cpp              pkcspad.cpp        square.cpp\nblake2s_simd.cpp          filters.h                pkcspad.h          square.h\nblowfish.cpp              fips140.cpp              poly1305.cpp       squaretb.cpp\nblowfish.h                fips140.h                poly1305.h         sse_simd.cpp\nblumshub.cpp              fipsalgt.cpp             polynomi.cpp       stdcpp.h\nblumshub.h                fipstest.cpp             polynomi.h         strciphr.cpp\ncamellia.cpp              fltrimpl.h               power7_ppc.cpp     strciphr.h\ncamellia.h                gcm.cpp                  power8_ppc.cpp     tea.cpp\ncast.cpp                  gcm.h                    power9_ppc.cpp     tea.h\ncast.h                    gcm_simd.cpp             ppc_simd.cpp       test.cpp\ncasts.cpp                 gf2_32.cpp               ppc_simd.h         TestData\ncbcmac.cpp                gf2_32.h                 pssr.cpp           TestPrograms\ncbcmac.h                  gf256.cpp                pssr.h             TestScripts\nccm.cpp                   gf256.h                  pubkey.cpp         TestVectors\nccm.h                     gf2n.cpp                 pubkey.h           tftables.cpp\nchacha_avx.cpp            gf2n.h                   pwdbased.h         threefish.cpp\nchacha.cpp                gf2n_simd.cpp            queue.cpp          threefish.h\nchacha.h                  gfpcrypt.cpp             queue.h            tiger.cpp\nchachapoly.cpp            gfpcrypt.h               rabbit.cpp         tiger.h\nchachapoly.h              GNUmakefile              rabbit.h           tigertab.cpp\nchacha_simd.cpp           GNUmakefile-cross        rabin.cpp          trap.h\ncham.cpp                  gost.cpp                 rabin.h            trunhash.h\ncham.h                    gost.h                   randpool.cpp       ttmac.cpp\ncham_simd.cpp             gzip.cpp                 randpool.h         ttmac.h\nchannels.cpp              gzip.h                   rc2.cpp            tweetnacl.cpp\nchannels.h                hashfwd.h                rc2.h              tweetnacl.h\ncmac.cpp                  hc128.cpp                rc5.cpp            twofish.cpp\ncmac.h                    hc128.h                  rc5.h              twofish.h\nconfig_align.h            hc256.cpp                rc6.cpp            validat0.cpp\nconfig_asm.h              hc256.h                  rc6.h              validat10.cpp\nconfig_cpu.h              hex.cpp                  rdrand.asm         validat1.cpp\nconfig_cxx.h              hex.h                    rdrand.cpp         validat2.cpp\nconfig_dll.h              hight.cpp                rdrand.h           validat3.cpp\nconfig.h                  hight.h                  rdseed.asm         validat4.cpp\nconfig_int.h              History.txt              rdtables.cpp       validat5.cpp\nconfig_misc.h             hkdf.h                   Readme.txt         validat6.cpp\nconfig_ns.h               hmac.cpp                 regtest1.cpp       validat7.cpp\nconfig_os.h               hmac.h                   regtest2.cpp       validat8.cpp\nconfig_ver.h              hmqv.h                   regtest3.cpp       validat9.cpp\ncpu.cpp                   hrtimer.cpp              regtest4.cpp       validate.h\ncpu.h                     hrtimer.h                resource.h         vc60.zip\ncrc.cpp                   ida.cpp                  rijndael.cpp       vmac.cpp\ncrc.h                     ida.h                    rijndael.h         vmac.h\ncrc_simd.cpp              idea.cpp                 rijndael_simd.cpp  vs2005.zip\ncryptdll.vcxproj          idea.h                   ripemd.cpp         wake.cpp\ncryptdll.vcxproj.filters  Install.txt              ripemd.h           wake.h\ncryptest.nmake            integer.cpp              rng.cpp            whrlpool.cpp\ncryptest.sln              integer.h                rng.h              whrlpool.h\ncryptest.vcxproj          iterhash.cpp             rsa.cpp            words.h\ncryptest.vcxproj.filters  iterhash.h               rsa.h              x64dll.asm\ncryptest.vcxproj.user     kalyna.cpp               rw.cpp             x64masm.asm\ncryptlib.cpp              kalyna.h                 rw.h               xed25519.cpp\ncryptlib.h                kalynatab.cpp            safer.cpp          xed25519.h\ncryptlib.vcxproj          keccak_core.cpp          safer.h            xtr.cpp\ncryptlib.vcxproj.filters  keccak.cpp               salsa.cpp          xtrcrypt.cpp\ncryptopp.mapfile          keccak.h                 salsa.h            xtrcrypt.h\ncryptopp.rc               keccak_simd.cpp          scrypt.cpp         xtr.h\ncryptopp.supp             lea.cpp                  scrypt.h           xts.cpp\ndarn.cpp                  lea.h                    seal.cpp           xts.h\ndarn.h                    lea_simd.cpp             seal.h             zdeflate.cpp\ndatatest.cpp              License.txt              secblockfwd.h      zdeflate.h\ndefault.cpp               lsh256_avx.cpp           secblock.h         zinflate.cpp\ndefault.h                 lsh256.cpp               seckey.h           zinflate.h\ndes.cpp                   lsh256_sse.cpp           Security.md        zlib.cpp\ndes.h                     lsh512_avx.cpp           seed.cpp           zlib.h\ndessp.cpp                 lsh512.cpp               seed.h\ndh2.cpp                   lsh512_sse.cpp           serpent.cpp\ndh2.h                     lsh.h                    serpent.h\nNext I have added the following lines inside wscript:\nThis is the code I have added.\n# Add Crypto++ module\n    # New Code\n    bld = conf.bld\n    # New Code\n\n    # New Code\n    bld.recurse('contrib/cryptopp') \n    bld.env.prepend_value('INCLUDES', ['contrib/cryptopp'])\n    # New Code\nThe file is located at /home/hex/ns-allinone-3.31/ns-3.31/src/wscript.\nHere is the code:\nhttps://pastebin.com/DnLN5iE6\nNext I have added another piece of code under # New Code:\n# New Code\n    # Add Crypto++ module\n    module = bld.create_ns3_module('CryptoPP', ['cryptlib'])\n    module.source = ['cryptlib.cpp']\n    # New Code\nI have added the above code inside the file wscript located at /home/hex/ns-allinone-3.31/ns-3.31/contrib/wscript.\nHere is the code:\nhttps://pastebin.com/kWqkxiFE\nHere is the error I am getting after running the command:\nroot@hex:/home/hex/ns-allinone-3.31/ns-3.31# ./waf configure\n\n\nSetting top to                           : /home/hex/ns-allinone-3.31/ns-3.31 \nSetting out to                           : /home/hex/ns-allinone-3.31/ns-3.31/build \nChecking for 'gcc' (C compiler)          : /usr/bin/gcc \nChecking for cc version                  : 9.4.0 \nChecking for 'g++' (C++ compiler)        : /usr/bin/g++ \nChecking for compilation flag -Wl,--soname=foo support : ok \nChecking for compilation flag -std=c++11 support       : ok \nChecking boost includes                                : headers not found, please provide a --boost-includes argument (see help) \nChecking boost includes                                : headers not found, please provide a --boost-includes argument (see help) \nChecking for program 'python'                          : /usr/bin/python3 \nChecking for python version >= 2.3                     : 3.8.10 \npython-config                                          : /usr/bin/python3-config \nAsking python-config for pyembed '--cflags --libs --ldflags --embed' flags : yes \nTesting pyembed configuration                                              : yes \nAsking python-config for pyext '--cflags --libs --ldflags' flags           : yes \nTesting pyext configuration                                                : yes \nChecking for compilation flag -fvisibility=hidden support                  : ok \nChecking for compilation flag -Wno-array-bounds support                    : ok \nChecking for pybindgen location                                            : ../pybindgen-0.21.0 (guessed) \nChecking for python module 'pybindgen'                                     : 0.21.0 \nChecking for pybindgen version                                             : 0.21.0 \nChecking for code snippet                                                  : yes \nChecking for types uint64_t and unsigned long equivalence                  : no \nChecking for code snippet                                                  : no \nChecking for types uint64_t and unsigned long long equivalence             : yes \nChecking for the apidefs that can be used for Python bindings              : gcc-LP64 \nChecking for internal GCC cxxabi                                           : complete \nChecking for python module 'pygccxml'                                      : not found \nTraceback (most recent call last):\n  File \"/home/hex/ns-allinone-3.31/ns-3.31/.waf3-2.0.18-ff4ae9f5cc05353d3dc3aeff8854ae69/waflib/Scripting.py\", line 119, in waf_entry_point\n    run_commands()\n  File \"/home/hex/ns-allinone-3.31/ns-3.31/.waf3-2.0.18-ff4ae9f5cc05353d3dc3aeff8854ae69/waflib/Scripting.py\", line 182, in run_commands\n    ctx=run_command(cmd_name)\n  File \"/home/hex/ns-allinone-3.31/ns-3.31/.waf3-2.0.18-ff4ae9f5cc05353d3dc3aeff8854ae69/waflib/Scripting.py\", line 173, in run_command\n    ctx.execute()\n  File \"/home/hex/ns-allinone-3.31/ns-3.31/.waf3-2.0.18-ff4ae9f5cc05353d3dc3aeff8854ae69/waflib/Configure.py\", line 85, in execute\n    super(ConfigurationContext,self).execute()\n  File \"/home/hex/ns-allinone-3.31/ns-3.31/.waf3-2.0.18-ff4ae9f5cc05353d3dc3aeff8854ae69/waflib/Context.py\", line 85, in execute\n    self.recurse([os.path.dirname(g_module.root_path)])\n  File \"/home/hex/ns-allinone-3.31/ns-3.31/.waf3-2.0.18-ff4ae9f5cc05353d3dc3aeff8854ae69/waflib/Context.py\", line 126, in recurse\n    user_function(self)\n  File \"/home/hex/ns-allinone-3.31/ns-3.31/wscript\", line 499, in configure\n    conf.recurse('src')\n  File \"/home/hex/ns-allinone-3.31/ns-3.31/.waf3-2.0.18-ff4ae9f5cc05353d3dc3aeff8854ae69/waflib/Context.py\", line 126, in recurse\n    user_function(self)\n  File \"/home/hex/ns-allinone-3.31/ns-3.31/src/wscript\", line 57, in configure\n    bld = conf.bld\nAttributeError: 'ConfigurationContext' object has no attribute 'bld'\nHow should I rectify this error ?",
    "answer": "As waf said, there's no \"bld\" attribute attached to ConfigurationContext \"conf\".\nTo correct this specific error, remove\nbld = conf.bld\nand use the conf object to recurse into your new module:\nconf.recurse('contrib/cryptopp') \nconf.env.prepend_value('INCLUDES', ['contrib/cryptopp'])\nNote that I'm no ns3 expert."
  },
  {
    "url": "https://stackoverflow.com/questions/77114952/install-and-run-ns3-simulations-on-windows",
    "title": "Install and run ns3 simulations on windows",
    "question": "I've tried to follow the docs to install it on WSL Ubuntu but the build fails (the log is not important *1, but you can check if interested\nhttps://pastebin.com/UTQdd4sW\n)\nI've also tried nixOS (wsl) no luck there too\nThen I thought using a docker image for this would be most straightforward and tried my luck with this\nhttps://hub.docker.com/r/andreafulcheri/ns3\nbut getting\nwaf: command not found\nwhen I run\n./waf --run hello-simulator\n.\nAlso not sure how will I have the visual (GUI) of the simulation.\nI'd prefer to use Python for simulation.\nNow I'm mostly frustrated, any help with a step-by-step guide (From installing to running a simple test with visual simulation) is appreciated. (Please ask if I missed anything and I'll update the OP)\n*1 Any logs here are irrelevant for the scope of this question because I want a full guide From installing to running a simple test with visual simulation (not fix my bug here), I didn't find a proper guide (and the official one is not doing it for me. So, it's very irrelevant what wrong way I approached and its errors).\nI want this question as a full guide for not just me but any newcomers.",
    "answer": "If you are using a ns-3 version with Waf (<= ns-3.35), you should use use the compatible compilers tested with that version (check the release notes for that), or apply fixes manually.\nThe docker image you referred uses ns-3.38, which is based on CMake.\nFrom ns-3.36 onwards, you can refer to the following guide.\nJust make sure to install g++/clang, python3, cmake and ninja/makefiles.\nhttps://www.nsnam.org/docs/tutorial/html/quick-start.html"
  },
  {
    "url": "https://stackoverflow.com/questions/76727261/ns3-running-failure-due-to-cmakelists-txt",
    "title": "ns3 running failure due to CMakeLists.txt",
    "question": "I have begun to make a network simulation using ns-3.39.\nHowever, after installation, I met a problem to run a simulation.\nWhen I try to run first.cc in the tutorial folder, the terminal displays:\n./first.cc: line 1: /bin: Is a directory\n./first.cc: line 2: CMakeLists.txt: command not found\n...\n./first.cc: line 11: CMakeLists.txt: command not found\n./first.cc: line 31: syntax error near unexpected token '\"FirstScriptExample\"'\n./first.cc: line 31: 'NS_LOG_COMPONENT_DEFINE(\"FirstScriptExample\");'\nand then expires the code.\nI checked every folder of ns3 but there exists 'CMakeLists.txt' file in the every folder.\nAnd I followed the process to 4.3.2 in the link below:\nhttps://www.nsnam.org/docs/manual/html/working-with-cmake.html\nBut nothing changed.",
    "answer": "The \"ns-allinone-3.39/ns-3.39/examples/tutorial/first.cc\" you mentioned is C++ source code, not a script or executable, so you can't run it directly in terminal.\nC++ source code can end with many kinds of extension, e.g.\n.cpp\n,\n.cc\n,\n.cxx\n(\nref\n), and header end with\n.h\n,\n.hpp\n, etc. They are just text files and have to be compile to binary before you run it.\nInstall from apt\nIf you just want to use the program.\nRun\nsudo apt install ns3\nto install.\nRun\ndpkg -L ns3\nto see what do the package installed, usually the executable is installed under \"/usr/bin\".\nBuild from source\nIf you want to build it from source:\nconfigure (follow\ntutorial\n4.3.1.1.)\ncd to \"ns-allinone-3.39/ns-3.39\" and run\n./ns3 configure -d release --enable-examples --enable-tests\nThis step create \"cmake-cache\" and \"build\" directory.\nbuild (found on \"ns-allinone-3.39/ns-3.39/README.md\")\n./ns3\nThe examples are now living in the \"ns-allinone-3.39/ns-3.39/build/examples\".\nNote\nMany CMakeLists.txt: The developer put CMakeLists.txt in many directory is a common approach, check the\nlink\n.\nIn Linux, usually executable have no extensions, and usually shell script have no extension or \".sh\". (check the\nlink\nfor more information)"
  },
  {
    "url": "https://stackoverflow.com/questions/75904546/ns3-with-ns3-netsimulyzer-module-installed-exception-couldnt-find-the-specif",
    "title": "(NS3 with NS3 NetSimulyzer Module Installed) Exception: Couldn't find the specified program: mobility-buildings-example",
    "question": "very new to using NS3 and I'm currently attempting to use it with NetSimulyzer for a research project.\nI had cloned NS3 into my Ubuntu-VM and cloned the NetSimulyzer module into ns-3-dev-git/src folder.\nI had then configured NS3 with --build-profile=debug --enable-examples --enable-tests\nNetSimulyzer was recognized as a module and ns3 was successfully built, with testing the tutorial files first.cc, second.cc, and third.cc being successfull as well.\nHowever, when performing the command ./ns3 run mobility-buildings-example to compile mobility-buildings-example.cc and create a .json file, it states that:\nException: Couldn't find the specified program: mobility-buildings-example\nI am mainly interested in having this example compile, create a .json file, and have it visualized in my NetSimuylzer.\nI have tried:\nInstalling the NS3 NetSimuylzer module into ns-3-dev-git/contrib as recommended by their github ReadMe:\nhttps://github.com/usnistgov/NetSimulyzer-ns3-module\nSearching online for solutions similar to my issue, however majority relate to other NS3/NetSimulyzer issues, none discussing about the NetSimulyzer module.\nConfiguring/Building ns-allinone-3.38 and going through the same process.",
    "answer": "before running your script in NS3 you should first build using this command:\n(supposing you are in the main directory project(the directory that includes ns3 executable))\n./ns3 build\nand as the ns3 build searches for the new files to build them, you should put your script in a directory which ns3 can find it. the default location for the ns3 to look for new files is \"main-directory/scratch\".\nso it is recommended to put your file in this directory so that ns3 will be able to find it and build it.\nthe after building it, you can easily run the following command to run your script and you should be good to go.\n./ns3 run scratch/<file_name>\nfeel free if you have further questions to ask."
  },
  {
    "url": "https://stackoverflow.com/questions/75839495/assert-failed-cond-uid-0-msg-assert-in-typeidlookupbyname-ns3unifor",
    "title": "assert failed. cond=\"uid != 0\", msg=\"Assert in TypeId::LookupByName: ns3::UniformRandomRectanglePositionAllocator not found\"",
    "question": "When I try to run my code here:\n#include \"ns3/core-module.h\"\n#include \"ns3/network-module.h\"\n#include \"ns3/mobility-module.h\"\n#include \"ns3/csma-module.h\"\n\nusing namespace ns3;\n\nint main (int argc, char *argv[])\n{\n  // Create nodes\n  uint32_t nNodes = 10; // Number of nodes\n  NodeContainer nodes;\n  nodes.Create (nNodes);\n\n  // Create a 2D space for the nodes\n  MobilityHelper mobility;\n  mobility.SetPositionAllocator (\"ns3::UniformRandomRectanglePositionAllocator\",\n                                 \"X\", DoubleValue (0.0),\n                                 \"Y\", DoubleValue (0.0),\n                                 \"Width\", DoubleValue (100.0),\n                                 \"Height\", DoubleValue (100.0));\n  mobility.SetMobilityModel (\"ns3::ConstantPositionMobilityModel\");\n  mobility.Install (nodes);\n\n  // Create the CSMA/CA protocol\n  CsmaHelper csma;\n  csma.SetChannelAttribute (\"DataRate\", DataRateValue (5000000));\n  csma.SetChannelAttribute (\"Delay\", TimeValue (NanoSeconds (6560)));\n\n  // Install the CSMA/CA protocol on the nodes\n  NetDeviceContainer devices = csma.Install (nodes);\n\n  // Run the simulation\n  Simulator::Stop (Seconds (10.0));\n  Simulator::Run ();\n  Simulator::Destroy ();\n\n  return 0;\n}\nI got an error that is \"assert failed. cond=\"uid != 0\", msg=\"Assert in TypeId::LookupByName: ns3::UniformRandomRectanglePositionAllocator not found\", +0.000000000s -1 file=../src/core/model/type-id.cc, line=834\n\". At now, I don't know how to solve this problem, maybe the error in my ns3 version or something. So that someones help me with this issue",
    "answer": "ns3::UniformRandomRectanglePositionAllocator\ndoes not exist in the latest version of ns-3.\nHowever,\nns3::RandomRectanglePositionAllocator\ndoes exist. Just set X, and Y to a uniform random variable like the default value\nns3::UniformRandomVariable[Min=0.0|Max=1.0]\nmobility.SetPositionAllocator (\"ns3::RandomRectanglePositionAllocator\",\n                                 \"X\", StringValue(\"ns3::UniformRandomVariable[Min=0.0|Max=100.0]\"),\n                                 \"Y\", StringValue(\"ns3::UniformRandomVariable[Min=0.0|Max=100.0]\"));"
  },
  {
    "url": "https://stackoverflow.com/questions/75780092/waf-no-such-file-or-directory-in-ns3",
    "title": "./waf: No such file or directory in NS3",
    "question": "~/ns-allinone-3.37/ns-3.37$ ./waf --run hello-simulator\nbash: ./waf: No such file or directory\nHow can I fix this problem?\nAll build.py results were successful.\n$ ./waf --run hello-simulator\nshould provide an output such as\n:\n'build' finished successfully\nHello Simulator",
    "answer": "Since ns-3.36, ns-3 has replaced Waf with CMake.\nhttps://www.nsnam.org/releases/ns-3-36/\nYou should now run the following to get the result you want.\n./ns3 run hello-simulator"
  },
  {
    "url": "https://stackoverflow.com/questions/75570757/error-installing-ns-allinone-3-37-on-ubuntu",
    "title": "Error installing ns-allinone-3.37 on Ubuntu",
    "question": "I'm installing ns-3.37 in my Unbuntu 22.04 on Macbook, after running\n./build.py --enable-examples --enable-tests\nI get error message\nEntering directory `/media/psf/Home/Desktop/ns-allinone-3.37/./ns-3.37'\n =>  /usr/bin/python3 ns3 configure --enable-examples --enable-tests\nTraceback (most recent call last):\n  File \"/media/psf/Home/Desktop/ns-allinone-3.37/ns-3.37/ns3\", line 1546, in <module>\n    main()\n  File \"/media/psf/Home/Desktop/ns-allinone-3.37/ns-3.37/ns3\", line 1435, in main\n    configuration_step(current_cmake_cache_folder,\n  File \"/media/psf/Home/Desktop/ns-allinone-3.37/ns-3.37/ns3\", line 927, in configuration_step\n    cmake, _ = cmake_check_version()\n  File \"/media/psf/Home/Desktop/ns-allinone-3.37/ns-3.37/ns3\", line 777, in cmake_check_version\n    if parse_version(version) < parse_version(\"3.10.0\"):\n  File \"/media/psf/Home/Desktop/ns-allinone-3.37/ns-3.37/ns3\", line 765, in parse_version\n    version = tuple(map(int, version))\nValueError: invalid literal for int() with base 10: '0-rc4'\nTraceback (most recent call last):\n  File \"/media/psf/Home/Desktop/ns-allinone-3.37/./build.py\", line 155, in <module>\n    sys.exit(main(sys.argv))\n  File \"/media/psf/Home/Desktop/ns-allinone-3.37/./build.py\", line 146, in main\n    build_ns3(config, build_examples, build_tests, args, build_options)\n  File \"/media/psf/Home/Desktop/ns-allinone-3.37/./build.py\", line 65, in build_ns3\n    run_command(cmd) # ns3 configure ...\n  File \"/media/psf/Home/Desktop/ns-allinone-3.37/util.py\", line 25, in run_command\n    raise CommandError(\"Command %r exited with code %i\" % (argv, retval))\nutil.CommandError: Command ['/usr/bin/python3', 'ns3', 'configure', '--enable-examples', '--enable-tests'] exited with code 1\nI have installed all the required surroundings like below\n$ sudo apt install build-essential autoconf automake libxmu-dev g++ python3 python3-dev pkg-config sqlite3 cmake python3-setuptools git qtbase5-dev qtchooser qt5-qmake qtbase5-dev-tools gir1.2-goocanvas-2.0 python3-gi python3-gi-cairo python3-pygraphviz gir1.2-gtk-3.0 ipython3 openmpi-bin openmpi-common openmpi-doc libopenmpi-dev autoconf cvs bzr unrar gsl-bin libgsl-dev libgslcblas0 wireshark tcpdump sqlite sqlite3 libsqlite3-dev  libxml2 libxml2-dev libc6-dev libc6-dev-i386 libclang-dev llvm-dev automake python3-pip libxml2 libxml2-dev libboost-all-dev\nWould someone please tell me how to fix this problem?",
    "answer": "The problem is that\ncmake\ninstalled on your system has version 3.x.0-rc4. This is a bug in the\n./ns3\nscript that it cannot parse\n0-rc4\nparse properly and expects it to be an integer.\nYou can try to run\napt-get update && apt-get install cmake\nand see if the version of cmake changes.\nIf nothing else, you can comment out or remove these lines in\n./ns3\n:\nif parse_version(version) < parse_version(\"3.10.0\"):\n        print(\"Error:  CMake found at %s but version %s is older than 3.10\" % (cmake, version))\n        exit(1)\n(\nhttps://github.com/nsnam/ns-3-dev-git/blob/9a0d17186b80902f17e4927ba7126d9f57b48c95/ns3#L840-L842\n)\nThen you can report the bug to ns-3 developers as it is actually a bug in the\n./ns3\nscript they maintain."
  },
  {
    "url": "https://stackoverflow.com/questions/75570461/indings-python-bindings-disabled-due-to-the-following-missing-dependencies-cpp",
    "title": "indings: python bindings disabled due to the following missing dependencies: cppyy",
    "question": "I want to install PyViz visualizer in ns3.37 but I am getting this error in MacOS Ventura version 13.2.1\nEXPECTED OUTPUT SHOULD BE :\nPyViz visualizer              : ON\nPython Bindings               : ON\nBECAUSE PyViz is dependent on Python Bindings",
    "answer": "try\n./ns3 configure\nit will show the installed & missing files (in different color). Install those dependencies. Hope this will work.\nIf not, try to enable python bindings by running the following command.\n./ns3 configure --enable-python-bindings"
  },
  {
    "url": "https://stackoverflow.com/questions/75531457/cant-compile-and-run-latest-examples-in-ns3-tutorial",
    "title": "Can't compile and run latest examples in ns3 tutorial",
    "question": "I'm not a communications engineer and I am basically trying to learn ns3 by my own for some project. I'm reading the\nns3 manual\n, specifically the \"Tracing\" section. For some reason,in trying to run\nfifth.cc\nand\nsixth.cc\nI get the error message\n(...)\n fatal error: tutorial-app.h: No such file or directory\n   16 | #include \"tutorial-app.h\"\n (...)\nI don't think I am using an old tutorial and/or newer ns3 version. I installed ns3 from github, though. Any ideas?",
    "answer": "This happens when the \"tutorial-app.h\" file is out of sync with NS3's Github repository!!\nIn order to solve this issue, copy paste following files\nfrom github\nto your local NS3 install.\ntutorial-app.cc\ntutorial-app.h\nsixth.cc"
  },
  {
    "url": "https://stackoverflow.com/questions/75085188/is-ns2-installable-for-m1-mac",
    "title": "Is ns2 installable for M1 Mac?",
    "question": "In our Lab, we were asked to install ns2. I tried running a script from a\nGitHub repo\n. But, after executing, it failed to run. I saw this\nns3 google group\n. It mentioned that ns-3.33 was able to install in her system. But it didn't mention ns2. I haven't been able to find any material which points to any ns2 installation. Can anyone confirm if it is even possible, as this software is quite old, and my architecture is ARM?",
    "answer": "I actually got the help of\none of the developers of ns-3\n. He was kind enough to help me with the installation, and he mentioned the steps which were required for the installation at:\nhttps://www.nsnam.org/~tomh/ns-2-mac-m1-instructions.pdf\nI followed the steps mentioned in this, and it worked perfectly."
  },
  {
    "url": "https://stackoverflow.com/questions/74548280/executing-external-python-file-from-inside-ns3",
    "title": "Executing external python file from inside ns3",
    "question": "I have a python file, containing a pre-trained model. How can I execute this file from inside ns-3 code? The python file will start execution when enough amount of data is gerenerated by the ns-3, which will be given to the pre-trained model. Later, the model predicts one value and it is used in ns-3 during simulation.\nI tried\nCalling Python script from C++ and using its output\n. It is not helpful in my case. I am expecting to execute only python file from ns-3.",
    "answer": "In my case, I have tried the following piece of code in a function where I was required to execute the external python file from ns-3. This specific example is for the Ubuntu environment.\nsystem(\"/[path_to_your_python]/anaconda3/bin/python /[path_to_your_inference_file]/inference.py\");\nNote:\nThe\ninference.py\nfile will be executed whenever the C++ function is called, making the simulation too time-consuming compared to normal circumstances.\nSuggestion:\nI would suggest using\nONNX\n."
  },
  {
    "url": "https://stackoverflow.com/questions/74493841/ns3-mobility-models-in-wsn",
    "title": "NS3 Mobility models in WSN",
    "question": "In ns-3, how can I move a node to specific points using\nmobilitymodel\n. I want to make a list, containing pre-defined positions/points, and move node to every point, and pause at every point, for example 1 second. Furthermore, I don't know how to make the node move to those points.",
    "answer": "First, you need to check the examples under\n/src/mobility/examples/\n. Then, try\nns2-mobility-trace.cc\nfile for understanding, which uses a pre-defined node trajectory, which is generated with\nns2\n. Then. you can use tools, such as\nbonnmotion\n,\nSUMO\n, or\nns-2 setdest utility\n, to create a mobility file of your choice with pre-defined positions/trajectory of the device. Then, you can easily integrate your mobility files, see another example here\nmobility examples\n."
  },
  {
    "url": "https://stackoverflow.com/questions/74036384/how-does-ns3-implement-processing-delay-inside-protocol-layer",
    "title": "How does ns3 implement processing delay inside protocol layer?",
    "question": "I just begin reading the source code of ns3. I begin with the first.cc example, then into the udp-echo-client.cc -> ipv4-raw-socket-impl.cc -> ipv4-interface.cc -> traffic-control-layer.cc following the sending of the packet.\nI find that upper layers call the send method of lower layers directly during the processing of an event, instead of scheduling another event. So how does ns3 implement the processing delay inside a protocol layer? For example, the UDP layer takes 10us processing the packet before send it to IP layer.\nSorry if my question is silly. Any pointing to the right direction to understand ns3 design would be appreciated.",
    "answer": "In general, ns-3 does not model processing delays for sending/receiving/forwarding of packets.  There are a few exceptions, such as the MAC-to-PHY delay in an LTE/NR system, and some specialized models like DOCSIS, but the TCP/IP stack and Wi-Fi do not have built-in configurable processing delay capability.\nHowever, processing delay can be inserted into many models by locating the relevant point in the reception stack and refactoring a direct method call into a scheduled (with delay) call.  For instance, to insert processing delay into the UDP reception path, one could take a statement such as:\n(*endPoint)->ForwardUp(packet->Copy(), header, udpHeader.GetSourcePort(), interface);\nand wrap it within a method such as:\nSimulator::Schedule (MicroSeconds (10), &UdpL4Protocol::ForwardUpAfterDelay, this, packet->Copy (), header, udpHeader.GetSourcePort ());\nand further, change the magic number of 10 us into a configurable Time attribute."
  },
  {
    "url": "https://stackoverflow.com/questions/73952975/when-should-i-use-network-simulation-software-like-omnet-or-ns3",
    "title": "When should I use network simulation software like OMNeT++ or NS3? [closed]",
    "question": "Closed\n. This question is\nopinion-based\n. It is not currently accepting answers.\nWant to improve this question?\nUpdate the question so it can be answered with facts and citations by\nediting this post\n.\nClosed\n2 years ago\n.\nImprove this question\nI have a background in AI and multi-agent systems. I am new to network simulations and networking in general, but I would like to run simulations of an aerial ad-hoc network providing a communication backbone to clients on the ground (as described in\nthis paper\n) in order to test the effect of changing the flying agents' behavior on the network's quality of service. Thus, I need to model a wireless multi-hop mesh network exchanging information between nodes.\nSeveral network simulation softwares exist, including\nOMNeT++\n,\nNS3\n, and\nOPNET\n. My question is: what am I missing out on by not using these? Do these simulators have an extensive amount of physics working in the background to make signals more realistic? I have seen that you can specify bit-rates and signal strength as parameters in these simulators, but those\nseem\nlike very easy things to write code for myself. Emphasis on \"seem\" - perhaps there is some hidden complexity there?",
    "answer": "A disclosure first: I'm an OMNeT++ Core Developer.\nWhether you need dedicated simulation software or not depends on the abstraction level you need to simulate the actual communication. A network simulator package can help with:\nNetwork protocol related effects. e.g. The behavior of the TCP protocol can indeed affect certain performance characteristics of a network. It makes absolutely no sense to implement your own TCP layer if there are simulators exactly for this purpose. The same is true with various routing protocols. Generally, if you feel that the protocol behavior can affect your results, then you should use these packages.\nMobility: these packages provide mobility management. i.e. they provide methods to manage/move your nodes in space over time.\nPhysical level modeling of communications: again it depends on the required level of abstraction. If you need to model something in free space, with high SNR, with relatively low throughput compared to the channel capacity then you may be able to write your own implementation. On the other hand, the problem quickly gets complicated if the signals may interfere with the environment, if there is noise, buildings, the network traffic is high enough to have signal collisions, the protocol has error correction etc.\nOther infrastructure code like gathering and processing simulation results, running simulation campaigns, pseudo random number generators etc.\nCreating a good simulation is an art. You should have a good feeling what effects should be simulated and set the abstraction level accordingly. If you create a too detailed simulation, your model will be slow and complex to write. If you create an abstract one, your simulation results will not match the real world behavior. As you realized, these things \"seem\" simple to implement if your abstraction level is high, but quickly get extremely complex once you want a bit more precise measurement and the bad thing is that just at the beginning, you may not be able to correctly estimate the abstraction level.\nJust an example for your case: as long as your ground stations are distributed sparsely and evenly, modeling the communication channel with a simple baud rate and a packet error probability is just fine. As soon as traffic increases and grounds stations are closer to each other, collisions on the shared spectrum will happen and the throughput is heavily affected by this. Modeling the whole thing will be extremely complex.\nI have deep knowledge only in OMNeT++/INET (so take a look at the other packages, too), but in INET you have different level of abstractions for the communication. You can set up a simulation to use only very simple (and fast) transmission methods (like you said, just an error and baud rate), but if need arises, you can swap it with a very detailed one that simulates the electromagnetic spectrum on a symbol level. I feel you will be OK with a high abstraction model, but you never know. You can have a model running on a flat terrain just fine and then receive a question: And how does it work in urban canyons? Uppsss...\nIn short, if you are doing something wireless, I would definitely go with a dedicated simulator just to be on the safe side."
  },
  {
    "url": "https://stackoverflow.com/questions/73651843/ns3-bash-waf-no-such-file-or-directory-error",
    "title": "NS3 bash: ./waf: No such file or directory error",
    "question": "charlie@charlie:~/Desktop/ns-allinone-3.36.1/ns-3.36.1$ ls\nAUTHORS   build-support  CMakeLists.txt   doc       ns3               scratch  testpy.supp  VERSION\nbindings  CHANGES.md     contrib          examples  README.md         src      utils\nbuild     cmake-cache    CONTRIBUTING.md  LICENSE   RELEASE_NOTES.md  test.py  utils.py\n\ncharlie@charlie:~/Desktop/ns-allinone-3.36.1/ns-3.36.1$ ./waf\nbash: ./waf: No such file or directory\nCould someone help me out to understand why waf module is not installed in my directory?",
    "answer": "waf build system was removed in version ns-3.36:\nhttps://github.com/nsnam/ns-3-dev-git/blob/master/CHANGES.md#changes-to-build-system-3\nIt is replaced by\nns3\nscript which is a Python script providing an interface similar to\nwaf\n. Most common commands such as\n./waf configure\nand\n./waf build\nare replaced with almost identical\n./ns3 configure\n,\n./ns3 build\netc. Internally, however, CMake build system is used.\nYou can see the merge request which introduced the change here:\nhttps://gitlab.com/nsnam/ns-3-dev/-/merge_requests/460"
  },
  {
    "url": "https://stackoverflow.com/questions/73427392/how-to-uninstall-ns3-from-ubuntu-when-package-cant-be-located",
    "title": "How to uninstall ns3 from ubuntu when package can't be located?",
    "question": "I've downloaded ns3.36 via tarball  on ubuntu 20.04.4. But then I confronted some errors while trying to configure it so I decided to uninstall and re-install it again.\nI used\nsudo apt-get remove ns3\nand also\nsudo apt-get purge --auto-remove ns3\nbut I got an error:\nE: Unable to locate package ns3\nI've tried doing the same on the different directories from where I've installed like\nns-allinone-3.36\nor\nns-3.36\nbut I'd get the same error.\nI've also tried typing ns-3.36 instead of ns3 but still didn't work.\nI also tried using dpkg but I got another error:\ndpkg: warning: ignoring request to remove ns3 which isn't installed\nHow can I uninstall it?",
    "answer": "You didn't\ninstall\nns-3 on your computer via the tarball. You simply unpacked the tarball, so\napt\ndoes not know about ns-3. To delete ns-3, just delete the ns-3 directory:\nrm -r ns-allinone-3.36/"
  },
  {
    "url": "https://stackoverflow.com/questions/72723629/ns3-and-waf-compatibility",
    "title": "NS3 and WAF compatibility",
    "question": "File \"/home/~/ns-allinone-3.33/ns-3.33/.waf3-2.0.21-c6c9a875365426e5928462b9b74d40b5/waflib/TaskGen.py\", line 123, in post\nv()\nFile \"/home/~/ns-allinone-3.33/ns-3.33/src/wscript\", line 724, in apply_ns3moduleheader\nfor source in sorted(ns3headers.headers):\nAttributeError: 'task_gen' object has no attribute 'headers'\nIs it something incompatible between ns-3.33 and waf3-2.0.21?  Is there a solution to the problem?",
    "answer": "ns-3.33 uses Waf version 2.0.21.  I'm guessing that the error you are seeing is from adding some code that is not compatible with ns-3.33?  Do you get this error from downloading and building a fresh copy of the ns-3.33 release?\nNote:\nmost questions such as these are handled in the\n[email protected]\nforum."
  },
  {
    "url": "https://stackoverflow.com/questions/72698958/why-does-ns3-build-every-time-i-run-a-file",
    "title": "Why does NS3 build every time I run a file",
    "question": "I am working on NS3 and I am using the ./ns3 cmake wrapper to run my .cc files. The issue is that the ns3 builds all the dependencies every time i run a file, even when there are no code changes. Is this expected? This is really hogging my time and I see in the NS3 manual that it should not build every single time, and builds only what is necessary",
    "answer": "The behavior you report should not be happening, especially if you are using the latest ns-3.36.1 release.  If it is with that release or later, please file an issue with enough details for a maintainer to try to reproduce the issue.  In any case, you can suppress even checking whether a new build is needed by passing the\n--no-build\noption to\n./ns3 run\ncommand."
  },
  {
    "url": "https://stackoverflow.com/questions/72298668/how-to-set-packet-color-in-netanim-inside-ns3",
    "title": "How to set packet color in NetAnim inside ns3",
    "question": "AnimationInterface anim(\"DDoSim.xml\");\n\nns3::AnimationInterface::SetConstantPosition(nodes.Get(0), 0, 0);\nns3::AnimationInterface::SetConstantPosition(nodes.Get(1), 10, 10);\nns3::AnimationInterface::SetConstantPosition(nodes.Get(2), 23, 10);\nanim.UpdateNodeColor(nodes.Get(0), 0, 0, 255);\n\nuint32_t x_pos = 0;\nfor (int l = 0; l < NUMBER_OF_BOTS; ++l)\n{\n    ns3::AnimationInterface::SetConstantPosition(botNodes.Get(l), x_pos++, 30);\n}\nBy default all the packets in the simulation are shown in blue color.\nI want the packet originating from node 0 in the simulation to be shown with different color than originating from botnodes, show that it can be easily seen which packets are from node0 and which are from botNodes.\nIs there any way I can achieve this?",
    "answer": "There is no way you can do so. You can only change the color of nodes, but not packets."
  },
  {
    "url": "https://stackoverflow.com/questions/71714972/how-can-i-adding-more-nodes-in-first-cc-in-ns3",
    "title": "How can i adding more nodes in first.cc in ns3?",
    "question": "I've just learned about first.cc and I want to change the number of nodes in first.cc from 2 to 3 or 4 5, but changing only nodes.Create(2) ==> nodes.Create(3) causes me some errors like this\nassert failed.cond=\"c.GetN () ==2\" , +0.00000000s -1 file=../src/point-to-point/helper/point-to-point-helper.cc, line=224\nterminate called without an active exception\nSo I've to add some connection between them or else? Any help or suggestion will be appreciated!",
    "answer": "I want to start by encouraging you to use gdb (or lldb) to debug the program. If you did this, you would have found that\nthis line in first.cc\nis causing the error:\ndevices = pointToPoint.Install (nodes);\nWhy would this happen? Well, if we go to\nthe definition of the function being called\n, we find:\nNetDeviceContainer \nPointToPointHelper::Install (NodeContainer c)\n{\n    NS_ASSERT (c.GetN () == 2);              // line 224\n    return Install (c.Get (0), c.Get (1));\n}\nLooking at this code, it is clear that the PointToPointHelper::Install(NodeContainer) imposes the constraint that the NodeContainer can only contain two Nodes. This explains how the error you encountered occurred.\nBut why?\nIt's a (good) design choice. A PointToPointChannel can only be installed between exactly two PointToPointNetDevices, not more, not less. So, the implementation imposes the constraint that the NodeContainer can only contain two Nodes."
  },
  {
    "url": "https://stackoverflow.com/questions/71435544/what-is-the-difference-between-queue-and-queue-discipline-in-ns3",
    "title": "What is the difference between queue and queue discipline in ns3?",
    "question": "I found that there are two classes about the queue in NS3\nThe first one is the\nhttps://github.com/nsnam/ns-3-dev-git/blob/master/src/network/utils/queue.h\n, which is named queue and a drop tail queue is implemented based on this.\nThe other is the\nhttps://github.com/nsnam/ns-3-dev-git/blob/master/src/traffic-control/model/queue-disc.h\n, which is named queue discipline and many queue are implemented\nI now want to know what's the difference between these two notations?",
    "answer": "First, I want to encourage you to read the\nns-3\ntutorial\n. You will find many of the answers to your questions there.\nQueue and QueueDisc are not merely notations, they're distinct objects that serve distinct purposes. According to the\nns-3\ntutorial\n,\nArchitecturally, ns-3 separates the device layer from the IP layers or traffic control layers of an Internet host. Since recent releases of ns-3, outgoing packets traverse two queueing layers before reaching the channel object. The first queueing layer encountered is what is called the ‘traffic control layer’ in ns-3; here, active queue management (RFC7567) and prioritization due to quality-of-service (QoS) takes place in a device-independent manner through the use of queueing disciplines. The second queueing layer is typically found in the NetDevice objects. Different devices (e.g. LTE, Wi-Fi) have different implementations of these queues.\nSo, Queue's are the lowest level objects that actually store packets. A QueueDisc is an abstract class that provides a queue-like interface, but it actually implements\nActive Queue Management\n(AQM). More information about QueueDiscs can be found in the 'Detailed Description' section of the\nQueueDisc API documentation\n.\nAn implementation detail specific to\nns-3\n: QueueDisc's actually encapsulate a Queue. This makes sense since a QueueDisc still needs to store the packets it gets.\nYou will find many of\nns-3\n's interfaces attempt to mirror the network subsystem of Linux."
  },
  {
    "url": "https://stackoverflow.com/questions/71301040/adding-channels-with-random-delays-in-ns3-ndnsim",
    "title": "Adding channels with random delays in ns3/ndnsim",
    "question": "I am working on simulation scenarios using ns3/ndnsim, l've already done some using point to point channels between nodes which use constant delays. I would like to add randomness to these delays (say normal distribution).\nI've worked on omnet++ which presents this functionality and can be used so easily.\nMy question, is there any way to do this on ns3?",
    "answer": "There are two types of delays relevant here: transmission delay and propagation delay.\nTransmission delay is a function is the size of the frame, and the data rate of the medium. For a given link, the data rate is typically constant.\nPropagation delay is a function of the type of medium. For a wired medium, propagation delay is typically constant. Non-uniform propagation delays are associated with wireless mediums.\nSo, effectively, you want a random propagation delay.\nns-3\ndoes have a\nRandomPropagationDelayModel\n, but it's only used by wireless mediums, so you're out of luck."
  },
  {
    "url": "https://stackoverflow.com/questions/70551372/what-does-number-of-nodes-mean-in-ns3-vanet-simulation",
    "title": "What does number of nodes mean in ns3 vanet simulation",
    "question": "I have to compare omnet++ and ns3 on basis of vehicular network simulations.\nI have a question. In the example vanet-routing-compare.cc in ns3. What does the number of node means??\nAs i'm importing my own created mobility.tcl file which is obviously generated from Sumo. In omnet++/veins, the amount of vehicles injected per simulation time depends on sumo. However, in ns3, i'm doing it offline.\nFor example: if my mobility.tcl file looks like this....\n$node_(0) set X_ 1617.74\n$node_(0) set Y_ 1819.07\n$node_(0) set Z_ 0\n$ns_ at 0.0 \"$node_(0) setdest 1617.74 1819.07 0.00\"\n$ns_ at 1.0 \"$node_(0) setdest 1619.85 1817.75 2.49\"\n$node_(1) set X_ 1814.92\n$node_(1) set Y_ 2144.86\n$node_(1) set Z_ 0\n$ns_ at 1.0 \"$node_(1) setdest 1814.92 2144.86 0.00\"\n$ns_ at 2.0 \"$node_(0) setdest 1623.52 1815.41 4.36\"\n$ns_ at 2.0 \"$node_(1) setdest 1813.87 2143.14 2.01\"\n$node_(2) set X_ 1895.04\n$node_(2) set Y_ 1319.59\n$node_(2) set Z_ 0\n$ns_ at 2.0 \"$node_(2) setdest 1895.04 1319.59 0.00\"\n$ns_ at 3.0 \"$node_(0) setdest 1629.32 1811.66 6.90\"\n$ns_ at 3.0 \"$node_(1) setdest 1811.51 2139.26 4.54\"\n$ns_ at 3.0 \"$node_(2) setdest 1895.89 1318.47 1.44\"\n$node_(3) set X_ 1892.25\n$node_(3) set Y_ 2045.03\n$node_(3) set Z_ 0\n$ns_ at 3.0 \"$node_(3) setdest 1892.25 2045.03 0.00\"\n$ns_ at 4.0 \"$node_(0) setdest 1636.98 1806.71 9.12\"\n$ns_ at 4.0 \"$node_(1) setdest 1808.22 2133.87 6.32\"\n$ns_ at 4.0 \"$node_(2) setdest 1898.29 1316.5 3.12\"\n$ns_ at 4.0 \"$node_(3) setdest 1893.54 2047.1 2.44\"\n$node_(4) set X_ 1572.19\n$node_(4) set Y_ 997.05\n$node_(4) set Z_ 0\n$ns_ at 4.0 \"$node_(4) setdest 1572.19 997.05 0.00\"\n$ns_ at 5.0 \"$node_(0) setdest 1646.53 1800.55 11.36\"\n$ns_ at 5.0 \"$node_(1) setdest 1804.62 2127.96 6.93\"\n$ns_ at 5.0 \"$node_(2) setdest 1903.35 1315.4 5.20\"\n$ns_ at 5.0 \"$node_(3) setdest 1895.68 2050.55 4.06\"\n$ns_ at 5.0 \"$node_(4) setdest 1573.3 998.36 1.71\"\n$node_(5) set X_ 2650.52\n$node_(5) set Y_ 1706.44\n$node_(5) set Z_ 0\n$ns_ at 5.0 \"$node_(5) setdest 2650.52 1706.44 0.00\"\n$ns_ at 6.0 \"$node_(0) setdest 1658.22 1793.0 13.91\"\n$ns_ at 6.0 \"$node_(1) setdest 1800.76 2121.63 7.41\"\n$ns_ at 6.0 \"$node_(2) setdest 1908.82 1319.34 6.98\"\n$ns_ at 6.0 \"$node_(3) setdest 1899.01 2055.91 6.31\"\n$ns_ at 6.0 \"$node_(4) setdest 1576.02 1001.6 4.24\"\n$ns_ at 6.0 \"$node_(5) setdest 2649.84 1704.07 2.47\"\n$node_(6) set X_ 1794.89\n$node_(6) set Y_ 1434.15\n$node_(6) set Z_ 0\n$ns_ at 6.0 \"$node_(6) setdest 1794.89 1434.15 0.00\"\n$ns_ at 7.0 \"$node_(0) setdest 1670.58 1785.02 14.72\"\n$ns_ at 7.0 \"$node_(1) setdest 1796.82 2115.66 7.18\"\n$ns_ at 7.0 \"$node_(2) setdest 1909.78 1326.39 7.30\"\n$ns_ at 7.0 \"$node_(3) setdest 1903.13 2062.53 7.80\"\n$ns_ at 7.0 \"$node_(4) setdest 1580.05 1006.39 6.26\"\n$ns_ at 7.0 \"$node_(5) setdest 2648.73 1700.24 3.99\"\n$ns_ at 7.0 \"$node_(6) setdest 1794.52 1431.93 2.25\"\n$node_(7) set X_ 2183.23\n$node_(7) set Y_ 1481.54\n$node_(7) set Z_ 0\n$ns_ at 7.0 \"$node_(7) setdest 2183.23 1481.54 0.00\"\n$ns_ at 8.0 \"$node_(0) setdest 1681.82 1777.16 13.72\"\n$ns_ at 8.0 \"$node_(1) setdest 1791.22 2110.52 7.61\"\n$ns_ at 8.0 \"$node_(2) setdest 1905.57 1330.8 6.38\"\n$ns_ at 8.0 \"$node_(3) setdest 1907.43 2069.46 8.15\"\n$ns_ at 8.0 \"$node_(4) setdest 1584.74 1011.97 7.28\"\n$ns_ at 8.0 \"$node_(5) setdest 2647.05 1694.43 6.04\"\n$ns_ at 8.0 \"$node_(6) setdest 1793.84 1427.88 4.11\"\n$ns_ at 8.0 \"$node_(7) setdest 2183.13 1483.64 2.11\"\n$node_(8) set X_ 2662.12\n$node_(8) set Y_ 1746.51\n$node_(8) set Z_ 0\n$ns_ at 8.0 \"$node_(8) setdest 2662.12 1746.51 0.00\"\n$ns_ at 9.0 \"$node_(0) setdest 1693.08 1768.94 13.94\"\n$ns_ at 9.0 \"$node_(1) setdest 1786.38 2106.09 6.56\"\n$ns_ at 9.0 \"$node_(2) setdest 1897.99 1332.11 7.85\"\n$ns_ at 9.0 \"$node_(3) setdest 1911.67 2076.28 8.04\"\n$ns_ at 9.0 \"$node_(4) setdest 1589.62 1017.77 7.58\"\n$ns_ at 9.0 \"$node_(5) setdest 2645.31 1688.4 6.28\"\n$ns_ at 9.0 \"$node_(6) setdest 1792.72 1421.93 6.06\"\n$ns_ at 9.0 \"$node_(7) setdest 2182.97 1487.17 3.53\"\n$ns_ at 9.0 \"$node_(8) setdest 2661.59 1744.67 1.92\"\n$node_(9) set X_ 2657.83\n$node_(9) set Y_ 1720.15\n$node_(9) set Z_ 0\n$ns_ at 9.0 \"$node_(9) setdest 2657.83 1720.15 0.00\"\n$ns_ at 10.0 \"$node_(0) setdest 1704.92 1760.29 14.67\"\n$ns_ at 10.0 \"$node_(1) setdest 1781.22 2101.36 7.00\"\n$node_(10) set X_ 2445.07\n$node_(10) set Y_ 2038.34\n$node_(10) set Z_ 0\n$ns_ at 10.0 \"$node_(10) setdest 2445.07 2038.34 0.00\"\n$ns_ at 10.0 \"$node_(2) setdest 1893.21 1336.25 6.37\"\n$ns_ at 10.0 \"$node_(3) setdest 1916.25 2083.65 8.67\"\n$ns_ at 10.0 \"$node_(4) setdest 1594.33 1023.36 7.32\"\n$ns_ at 10.0 \"$node_(5) setdest 2643.69 1683.41 5.25\"\n$ns_ at 10.0 \"$node_(6) setdest 1790.6 1413.54 8.65\"\n$ns_ at 10.0 \"$node_(7) setdest 2182.7 1493.0 5.83\"\n$ns_ at 10.0 \"$node_(8) setdest 2660.58 1741.17 3.64\"\n$ns_ at 10.0 \"$node_(9) setdest 2658.31 1721.84 1.75\"\nWhat would be the impact if i select number of nodes 5 or maybe 9??\nand simulation time 10 seconds?",
    "answer": "From your question: In omnet++/veins, the amount of vehicles injected per simulation time depends on sumo.\nFact: the periodicity of vehicle injection can be customised in route file in case of veins simulation. Check erlangen.rou.xml file in veins project example."
  },
  {
    "url": "https://stackoverflow.com/questions/70468035/simulation-of-vanet-project-with-omnet-and-sumo",
    "title": "simulation of vanet project with omnet++ and sumo,",
    "question": "I need to simulate my vanet project that's coded with python. I want to use ns-3 or omnet++, and SUMO.\nplease help me, I don't know how to link my vanet project with the simulator (ns-3 or OMNET++).",
    "answer": "Here you have a good playlist where you could start from:\nhttps://www.youtube.com/playlist?list=PLaBPUIXZ8s4AwAk5EelikvvyG4EzX2hpx"
  },
  {
    "url": "https://stackoverflow.com/questions/70363409/how-to-integrate-ns3-module-with-pycharm",
    "title": "How to integrate ns3 module with pycharm?",
    "question": "I'm new to the ns3, and I was trying to integrate ns3 to PyCharm cause I'm familiar with PyCharm. It seems that ns3 is installed correctly on my machine, running ./waf python works fine but when I use ./waf shell, there are some modules it couldn't find, such as ns.application...etc. So, when I try the solution on this page:\nadd waf libraries to PyCharm\n, it doesn't work too. Could anyone help me to solve this issue? I would really really appreciate it. By the way, the file I test was the sample from ns3:\nns3_root/source/example/tutorial/first.py\n.",
    "answer": "If you have enabled the python bindings and have built them, you need to add the ns3_root/build/bindings/python to the environment variable PYTHONPATH. After that running first.py should work.\nYou can do that running\nexport PYTHONPATH=$PYTHONPATH:/path/to/ns3_root/build/bindings/python\nOr select first.py, edit the target settings and add that environment variable.\nOr if you want this to persist, add this line to the end of the\n~/. bashrc\nfile."
  },
  {
    "url": "https://stackoverflow.com/questions/70244783/install-traffic-control-layer-on-the-topology-in-ns3",
    "title": "Install traffic-control layer on the topology in ns3",
    "question": "I want to install the traffic-control layer on my topology below. I tried creating the topology with 3 nodes including node 0, node 1, and node 2. I created 2 p2p links, one between node 0 and node 1, another between node 0 and node 2. I want to measure traffic from node 1 and node 2 sent to node 0. I built as the \"traffic-control.cc\" file in the tutorial of ns3, however, I see that node 0 has two qdiscs built with node 1 and node 2. I want to have one qdisc on node 0 to measure traffic from other nodes to node 0. How can I do it?\nenter image description here",
    "answer": "I want to have one qdisc on node 0 to measure traffic from other nodes to node 0. How can I do it?\nYou can't. Node 0 is connected to Nodes 1 and 2 via two separate P2P links, so there will two different PointToPointNetDevices on Node 0, and so there will be two QueueDiscs.\nIt's unclear\nprecisely\nwhat you're trying to measure. Perhaps you can clarify?\nIf you're trying view all packets going through Node 0's QueueDiscs, you could use one or more of the\nTraceSources available on QueueDiscs\n. Keep in mind that not all Packets which arrive at a Channel will necessarily makes its way to a QueueDisc – Packets could get dropped due lack of space in the receiving buffer, or simulated corruption."
  },
  {
    "url": "https://stackoverflow.com/questions/69815263/network-simulation-using-ns-3",
    "title": "Network Simulation using NS-3",
    "question": "Can I simulate susceptible-infected-susceptible (SIS) model using NS-3?\nI'm aiming to model malware flow using SIS and trying to simulate using NS-3.\nI'm a newbie to networks, and have been searching for this since hours, going through tens of research papers but can't find anything similar.",
    "answer": "SIS implies some sort of discovery mechanism to spread the infection of a network. These discovery mechanisms typically use exploits in network capable daemons. So, to simulate SIS, you want a simulator that works at the\napplication level\nof the network stack.\nns-3\nhas some application-level capabilities, but it's mostly intended to be used to simulate the network stack below the application level. The application-level capabilities that\nns-3\ndoes have are limited to traffic generation. Discovering the presence of a service on a Node, let alone a compromised version of a daemon, is not supported.\nSo, it seems like you'll need to find another simulator. I'm not sure what your options are, but depending on how complex of a simulation you want, you could just roll your own by representing the network as a graph, and infecting a susceptible node with probability\np\n."
  },
  {
    "url": "https://stackoverflow.com/questions/69788959/how-to-set-jitter-and-loss-rate-of-channel-while-using-pointtopoint-in-ns3",
    "title": "How to set jitter and loss rate of channel while using PointToPoint in NS3?",
    "question": "I am new to NS3, learning NS3 from its tutorial. In the tutorial example\nfirst.cc\n, it shows how to use\nPointToPointHelper\nand\nUdpEchoClientHelper\nto make a P2P test, we can find how to set\nData Rate\nand\nDelay\nof channel. But I want to set jitter and loss rate of channel, is there any method?\nPointToPointHelper pointToPoint;\n    pointToPoint.SetDeviceAttribute (\"DataRate\", StringValue (\"5Mbps\"));\n    pointToPoint.SetChannelAttribute (\"Delay\", StringValue (\"2ms\"));\n\n    ....",
    "answer": "Loss Rate of Channel\nThe good news is that\nthe tutorial\nalready covers this\nns-3 provides ErrorModel objects which can be attached to Channels. We are using the RateErrorModel which allows us to introduce errors into a Channel at a given rate.\nPtr<RateErrorModel> em = CreateObject<RateErrorModel> ();\nem->SetAttribute (\"ErrorRate\", DoubleValue (0.00001));\ndevices.Get (1)->SetAttribute (\"ReceiveErrorModel\", PointerValue (em));\nThe above code instantiates a RateErrorModel Object, and we set the “ErrorRate” Attribute to the desired value. We then set the resulting instantiated RateErrorModel as the error model used by the point-to-point NetDevice. This will give us some retransmissions and make our plot a little more interesting.\nJitter\nJitter is a function of the processing and queuing delay encountered by the packets. It's not a quantity that you set directly. Rather, it is calculated based on measurements of latency of all packets across the life of a connection. The typical definition of jitter is the standard deviation of latency of all packets across the life a connection.\nSo,\nns-3\ndoes not offer a way to set jitter directly (though it could since it's a simulator, but I digress).\nBut there is hope: if you want to change the jitter, you need to change the processing and queuing delays. Processing delay is a bit iffy, but queuing delays can easily be changed by choosing the type of Queue on the NetDevice. Refer to the\nTxQueue\nAttribute of the\nPointToPointNetDevice\n."
  },
  {
    "url": "https://stackoverflow.com/questions/69778638/error-default-is-not-a-member-of-ns3yanswifiphyhelper",
    "title": "error: ‘Default’ is not a member of ‘ns3::YansWifiPhyHelper’",
    "question": "I'm learning ns-3 on a virtual machine with ubuntu linux 20.04 and ns-3.35. I wrote in c++.\nThe yans-wifi-helper.h is included in my file.\nAnd I wrote a line as below.\nYansWifiPhyHelper phy = YansWifiPhyHelper::Default();\nBut when compiling\nroot@kotoridsk233-vm:/home/kotoridsk233/ns3_install/ns-allinone-3.35/ns-3.35# ./waf\nWaf: Entering directory /home/kotoridsk233/ns3_install/ns-allinone-3.35/ns-3.35/build'\n[2968/3038] Compiling scratch/try.cc\n../scratch/try.cc: In function ‘int main(int, char**)’:\n../scratch/try.cc:30:46: error: ‘Default’ is not a member of ‘ns3::YansWifiPhyHelper’\n   30 |   YansWifiPhyHelper phy = YansWifiPhyHelper::Default();\n      |                                              ^~~~~~~\nWaf: Leaving directory /home/kotoridsk233/ns3_install/ns-allinone-3.35/ns-3.35/build'\nBuild failed\n -> task in 'try' failed with exit status 1 (run with -v to display more information)\nHowever, I read the doc of ns3::YansWifiPhyHelper. Default is one of the static public member functions.\nMy whole code is as below.(not finish yet)\n#include \"ns3/core-module.h\"\n#include \"ns3/point-to-point-module.h\"\n#include \"ns3/network-module.h\"\n#include \"ns3/applications-module.h\"\n#include \"ns3/mobility-module.h\"\n#include \"ns3/csma-module.h\"\n#include \"ns3/internet-module.h\"\n#include \"ns3/yans-wifi-helper.h\"\n#include \"ns3/ssid.h\"\n\nusing namespace ns3;\n\nNS_LOG_COMPONENT_DEFINE (\"trytodohomework\");\n\nint \nmain (int argc, char *argv[])\n{\n\n  CommandLine cmd;\n  cmd.Parse (argc, argv);\n  \n  Time::SetResolution (Time::NS);\n  LogComponentEnable (\"UdpEchoClientApplication\", LOG_LEVEL_INFO);\n  LogComponentEnable (\"UdpEchoServerApplication\", LOG_LEVEL_INFO);\n\n  NodeContainer wifinodes;\n  wifinodes.Create (100);\n\n  YansWifiChannelHelper channel = YansWifiChannelHelper::Default();\n  YansWifiPhyHelper phy = YansWifiPhyHelper::Default();\n  phy.SetPcapDataLinkType (WifiPhyHelper::DLT_IEEE802_11_RADIO);\n  phy.SetChannel (channel.Create());\n\n  WifiHelper wifi; \n  wifi.SetRemoteStationManager (\"ns3::IdealWifiManager\");\n  WifiMacHelper mac;\n\n  NetDeviceContainer WifiDevice;\n  Ssid ssid;\n  ssid = Ssid (\"wifi-network\");\n  phy.Set (\"ChannelNumber\", UintegerValue (36));\n  mac.SetType (\"ns3::StaWifiMac\",\n               \"QosSupported\", BooleanValue (true),\n               \"Ssid\", SsidValue (ssid));\n  WifiDevice = wifi.Install (phy, mac, wifinodes.Get (0));\n\n  MobilityHelper mobility;\n  mobility.SetPositionAllocator (\"ns3::GridPositionAllocator\",\n                              \"MinX\", DoubleValue (0.0),\n                              \"MinY\", DoubleValue (0.0),\n                              \"DeltaX\", DoubleValue (100),\n                              \"DeltaY\", DoubleValue (100),\n                              \"GridWidth\", UintegerValue (1000),\n                              \"LayoutType\", StringValue (\"RowFirst\"));\n\n  mobility.SetMobilityModel (\"ns3::ConstantPositionMobilityModel\");\n  mobility.Install(wifinodes);\n\n  InternetStackHelper stack;\n  stack.Install (wifinodes);\n\n  Ipv4AddressHelper address;\n  address.SetBase (\"10.1.1.0\", \"255.255.255.0\");\n  Ipv4InterfaceContainer WifiInterface;\n  WifiInterface = address.Assign (WifiDevice);\n\n  uint16_t port = 9;\n  UdpEchoServerHelper wifiserver (port);\n  ApplicationContainer wifiserverApp = wifiserver.Install (wifinodes.Get (0));\n  wifiserverApp.Start (Seconds (1.0));\n  wifiserverApp.Stop (Seconds (100.0));\n\n  UdpEchoClientHelper echoClient (WifiInterface.GetAddress(1),9);\n  echoClient.SetAttribute (\"DataRate\", StringValue (\"1000kb/s\"));\n  echoClient.SetAttribute (\"MaxPackets\", UintegerValue (1));\n  echoClient.SetAttribute (\"Interval\", TimeValue (Seconds (1.0)));\n  echoClient.SetAttribute (\"PacketSize\", UintegerValue (1048576));\n\n  ApplicationContainer clientApps = echoClient.Install (wifinodes.Get(99));\n  clientApps.Start (Seconds (1.0));\n  clientApps.Stop (Seconds (100.0));\n\n  Simulator::Run ();\n  Simulator::Destroy ();\n  return 0;\n}",
    "answer": "Use the following.\nYansWifiPhyHelper phy;\nphy.SetErrorRateModel (\"ns3::NistErrorRateModel\");"
  },
  {
    "url": "https://stackoverflow.com/questions/69762861/how-to-get-source-destination-ip-address-of-a-packet-in-ns3-when-i-am-using-mact",
    "title": "How to get source/destination IP address of a packet in NS3 when I am using MacTx TraceSource for PointToPointNetDevice?",
    "question": "I am trying to simulate a fattree network in NS3. I have\nUdpServerHelper\nand\nUdpClientHelper\nto generate traffic between two hosts. Then I call\nTraceConnectWithoutContext (\"MacTx\", MakeCallback (&SinkMethod))\non one of my NetDeviceContainer nodes and my\nSinkMethod (Ptr<const Packet> pkt)\nis successfully called. I can use\npkt->GetSize ()\nto see the packet size but although I took a considerable amount of time browsing for the solution, I could not figure out how I can see the source and destination addresses of the packet since the header seems to be empty.",
    "answer": "The Headers on the Packets can either be Peek()ed or Remove()d. But, you can only the Peek() the top-most header, here a link-layer header, eg. PppHeader.\nTo access higher-layer headers, the preceding header must be removed first. Something along these lines should do the trick:\nstatic void\nRxDrop(Ptr<const Packet> packet) {\n    /* \n     * Need to copy packet since headers need to be removed\n     * to be inspected. Alternatively, remove the headers,\n     * and add them back.\n     */\n    Ptr<Packet> copy = packet->Copy();\n\n    // Headers must be removed in the order they're present.\n    PppHeader pppHeader;\n    copy->RemoveHeader(pppHeader);\n    Ipv4Header ipHeader;\n    copy->RemoveHeader(ipHeader);\n\n    std::cout << \"Source IP: \";\n    ipHeader.GetSource().Print(std::cout);\n    std::cout << std::endl;\n\n    std::cout << \"Destination IP: \";\n    ipHeader.GetDestination().Print(std::cout);\n    std::cout << std::endl;\n}"
  },
  {
    "url": "https://stackoverflow.com/questions/69641838/tcp-packet-drop-ns3",
    "title": "TCP packet drop (ns3)",
    "question": "I am new to ns3 network simulator and wanted to know how to get the number of packet drops in a TCP connection. I know of the following command:\ndevices.Get (1)->TraceConnectWithoutContext (\"PhyRxDrop\", MakeBoundCallback (&RxDrop, stream));\nBut this is helpful only for a single TCP connection over a p2p link. In my topology, there is a single p2p connection but 2 applications using TCP over that same p2p link and I would like to know individually for each TCP connection the number of dropped packets. I have researched online quite a lot but was unable to find any resources. Kindly point to some resources or give the class name which I can use to detect TCP connection-specific packet losses.\nThe above command as of now combines the packet losses for both the connections and outputs them to the\nstream\nbecause they are over the same p2p link.",
    "answer": "The usage of\nRxDrop\ntells me you're using referring to fourth.cc in\nthe ns-3 tutorial\n. Connecting to the PhyRxDrop TraceSource will result in the requested CallBack being invoked for each dropped packet.\nns-3\ndoesn't have a packet filter such that the CallBack would only be invoked for some packets.\nHowever, you can determine which connection a packet corresponds to. Simply strip the packet headers, and inspect the port numbers. Remember every connection is defined by a unique 4-tuple: (host IP, host port, destination IP, destination port).\nstatic void\nRxDrop(Ptr<const Packet> packet) {\n    /* \n     * Need to copy packet since headers need to be removed\n     * to be inspected. Alternatively, remove the headers,\n     * and add them back.\n     */\n    Ptr<Packet> copy = packet->Copy();\n\n    // Headers must be removed in the order they're present.\n    PppHeader pppHeader;\n    copy->RemoveHeader(pppHeader);\n    Ipv4Header ipHeader;\n    copy->RemoveHeader(ipHeader);\n    TcpHeader tcpHeader;\n    copy->RemoveHeader(tcpHeader);\n\n    std::cout << \"Source IP: \";\n    ipHeader.GetSource().Print(std::cout);\n    std::cout << std::endl;\n    std::cout << \"Source Port: \" << tcpHeader.GetSourcePort() << std::endl;\n    std::cout << \"Destination IP: \";\n    ipHeader.GetDestination().Print(std::cout);\n    std::cout << std::endl;\n    std::cout << \"Destination Port: \" << tcpHeader.GetDestinationPort() << std::endl;\n}"
  },
  {
    "url": "https://stackoverflow.com/questions/68983258/capturing-ns3-return-exit-code-through-waf-as-a-variable-in-bash-script",
    "title": "Capturing NS3 return/exit code (through waf) as a variable in Bash script",
    "question": "I would like to capture the return/exit code of my NS3 simulation as a variable in my Bash script.\nCode\n#!/bin/bash\n\nrv=-1    #set initial return value\n./waf --run \"ns3-simulation-name --simulationInput1=value1 --simInput2=value2\"    #run ns3 simulation using waf\nrv=$?    #capture return value\necho -e \"return value captured from program rv=$rv\\n\"    #output return value\nThe Issue\nSince the NS3 simulation is run using\nwaf\n(\nhttps://gitlab.com/ita1024/waf/\n), the return code of the simulation is processed by\nwaf\n, which then produces a return code value of 0 to the bash script hence\nrv\nis always set to zero irrespective of the exit code produced by the simulation.\nRequest\nHow can the value of\nrv\nbe set to the exit code of the NS3 simulation and not that of the\nwaf\nexecution?\nI have much flexibility in what C++ code can be executed by the NS3 simulation, including controlling the return code value.\nCheers",
    "answer": "The problem is that the\nwscript\nwritten by ns3 doesn't care of the return code of the executed program.\nYou can either modify the\nwscript\nlike this:\n# near line 1426 on current repository\nif Options.options.run:\n    rv = wutils.run_program(\n        Options.options.run,\n        env, \n        wutils.get_command_template(env),                    \n        visualize=Options.options.visualize,\n   )\n   raise SystemExit(rv)\nAnd/or you can parse the output of the simulation to get whatever value you want (usually the best way to get results in shell, the return value is only for error handling). I don't know ns3, I can't help here."
  },
  {
    "url": "https://stackoverflow.com/questions/68818941/trouble-installing-ns-3-gym",
    "title": "Trouble installing ns-3 gym",
    "question": "I am trying to learn to work on\nns-3 gym\n, the framework which helps in integrating\nopenAigym\nand ns-3, by following the steps given\nhere\n. But in the fourth step it says to install ns3gym from the src folder, the issue is that I'm not able to find the openaigym folder inside the src folder.\nWhen I try to run the command it says not found.\nCommand used:\npip3 install ./src/opengym/model/ns3gym\nThe exact error displayed is:\nERROR: Invalid requirement: './src/opengym/model/ns3gym'\nHint: It looks like a path. File './src/opengym/model/ns3gym' does not exist.\nIt would be really helpful if someone could point the way or where i did wrong? Thanks.",
    "answer": "You must enter the path correctly on your computer after downloading the package to install.\nfor example:\npip3 install C:/Users/user-name/Desktop/.../src/opengym/model/ns3gym\nInstall ns3gym\nlocated\nin src/opengym/model/ns3gym (Python3 required)"
  },
  {
    "url": "https://stackoverflow.com/questions/68737648/memset-memcpy-not-reference",
    "title": "memset, memcpy not reference",
    "question": "I want to run first.cc (an example on ns3 library\nenter link description here\n, network simulation) on ubuntu latest version 21, gcc version 9.3.0\nHere is CMakeLists.txt content:\ncmake_minimum_required(VERSION 3.15)\nproject(cmake-demo LANGUAGES CXX)\nSET(CMAKE_CXX_COMPILER \"g++\")\nset(CMAKE_CXX_STANDARD 11)\nset(CMAKE_CXX_STANDARD_REQUIRED ON)\nset(SOURCE tutorial/first.cc)\ninclude_directories(\n  \"usr/include\"\n  \"/home/quan/ns-allinone-3.29/ns-3.29/build\"\n   \"/home/quan/ns-allinone-3.29/ns-3.29/build/ns3\"\n)\nlink_directories(\n\"/home/quan/ns-allinone-3.29/ns-3.29/build/lib\"\n )\nadd_executable(${PROJECT_NAME} ${SOURCE})\nhere is small code of example\n#include \"ns3/core-module.h\"\n#include \"ns3/network-module.h\"\n#include \"ns3/internet-module.h\"\n#include \"ns3/point-to-point-module.h\"\n#include \"ns3/applications-module.h\"\n\nusing namespace ns3;\n\nNS_LOG_COMPONENT_DEFINE (\"FirstScriptExample\");\n\nint\nmain (int argc, char *argv[])\n{\n   CommandLine cmd;\n   cmd.Parse (argc, argv);\n\n   Time::SetResolution (Time::NS);\n   LogComponentEnable (\"UdpEchoClientApplication\", LOG_LEVEL_INFO);\n   LogComponentEnable (\"UdpEchoServerApplication\", LOG_LEVEL_INFO);\n\n   NodeContainer nodes;\n   nodes.Create (2);\n\n   PointToPointHelper pointToPoint;\n   pointToPoint.SetDeviceAttribute (\"DataRate\", StringValue (\"5Mbps\"));\n   pointToPoint.SetChannelAttribute (\"Delay\", StringValue (\"2ms\"));\n\n   NetDeviceContainer devices;\n   devices = pointToPoint.Install (nodes);\n\n   InternetStackHelper stack;\n   stack.Install (nodes);\n\n   Ipv4AddressHelper address;\n   address.SetBase (\"10.1.1.0\", \"255.255.255.0\");\n\n   Ipv4InterfaceContainer interfaces = address.Assign (devices);\n\n   UdpEchoServerHelper echoServer (9);\n\n   ApplicationContainer serverApps = echoServer.Install (nodes.Get (1));\n   serverApps.Start (Seconds (1.0));\n   serverApps.Stop (Seconds (10.0));\n\n   UdpEchoClientHelper echoClient (interfaces.GetAddress (1), 9);\n   echoClient.SetAttribute (\"MaxPackets\", UintegerValue (1));\n   echoClient.SetAttribute (\"Interval\", TimeValue (Seconds (1.0)));\n   echoClient.SetAttribute (\"PacketSize\", UintegerValue (1024));\n\n   ApplicationContainer clientApps = echoClient.Install (nodes.Get (0));\n   clientApps.Start (Seconds (2.0));\n   clientApps.Stop (Seconds (10.0));\n\n   Simulator::Run ();\n   Simulator::Destroy ();\n   return 0;\n }\nbut when I build this example, I get some errors about memset, memcpy functions not reference\nhere is errors:\n[main] Building folder: examples \n    [build] Starting build\n    [proc] Executing command: /usr/bin/cmake --build /home/quan/ns-allinone-3.29/ns-3.29/examples/build --config Debug --target all -j 18 --\n    [build] [ 50%] Building CXX object CMakeFiles/cmake-demo.dir/tutorial/first.cc.o\n    [build] In file included from /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/hash-function.h:24,\n    [build]                  from /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/hash.h:29,\n    [build]                  from /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/type-id.h:29,\n    [build]                  from /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/object-base.h:23,\n    [build]                  from /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/object.h:29,\n    [build]                  from /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/scheduler.h:25,\n    [build]                  from /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/calendar-scheduler.h:24,\n    [build]                  from /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/core-module.h:19,\n    [build]                  from /home/quan/ns-allinone-3.29/ns-3.29/examples/tutorial/first.cc:17:\n    [build] /usr/include/c++/9/cstring:77:11: error: ‘::memchr’ has not been declared\n    [build]    77 |   using ::memchr;\n    [build]       |           ^~~~~~\n    [build] /usr/include/c++/9/cstring:78:11: error: ‘::memcmp’ has not been declared\n    [build]    78 |   using ::memcmp;\n    [build]       |           ^~~~~~\n    [build] /usr/include/c++/9/cstring:79:11: error: ‘::memcpy’ has not been declared\n    [build]    79 |   using ::memcpy;\n    [build]       |           ^~~~~~\n    [build] /usr/include/c++/9/cstring:80:11: error: ‘::memmove’ has not been declared\n    [build]    80 |   using ::memmove;\n    [build]       |           ^~~~~~~\n    [build] /usr/include/c++/9/cstring:81:11: error: ‘::memset’ has not been declared\n    [build]    81 |   using ::memset;\n    [build]       |           ^~~~~~\n    [build] /usr/include/c++/9/cstring:82:11: error: ‘::strcat’ has not been declared\n    [build]    82 |   using ::strcat;\n    [build]       |           ^~~~~~\n    [build] /usr/include/c++/9/cstring:83:11: error: ‘::strcmp’ has not been declared\n    [build]    83 |   using ::strcmp;\n    [build]       |           ^~~~~~\n    [build] /usr/include/c++/9/cstring:84:11: error: ‘::strcoll’ has not been declared\n    [build]    84 |   using ::strcoll;\n    [build]       |           ^~~~~~~\n    [build] /usr/include/c++/9/cstring:85:11: error: ‘::strcpy’ has not been declared\n    [build]    85 |   using ::strcpy;\n    [build]       |           ^~~~~~\n    [build] /usr/include/c++/9/cstring:86:11: error: ‘::strcspn’ has not been declared\n    [build]    86 |   using ::strcspn;\n    [build]       |           ^~~~~~~\n    [build] /usr/include/c++/9/cstring:87:11: error: ‘::strerror’ has not been declared\n    [build]    87 |   using ::strerror;\n    [build]       |           ^~~~~~~~\n    [build] /usr/include/c++/9/cstring:88:11: error: ‘::strlen’ has not been declared\n    [build]    88 |   using ::strlen;\n    [build]       |           ^~~~~~\n    [build] /usr/include/c++/9/cstring:89:11: error: ‘::strncat’ has not been declared\n    [build]    89 |   using ::strncat;\n    [build]       |           ^~~~~~~\n    [build] /usr/include/c++/9/cstring:90:11: error: ‘::strncmp’ has not been declared\n    [build]    90 |   using ::strncmp;\n    [build]       |           ^~~~~~~\n    [build] /usr/include/c++/9/cstring:91:11: error: ‘::strncpy’ has not been declared\n    [build]    91 |   using ::strncpy;\n    [build]       |           ^~~~~~~\n    [build] /usr/include/c++/9/cstring:92:11: error: ‘::strspn’ has not been declared\n    [build]    92 |   using ::strspn;\n    [build]       |           ^~~~~~\n    [build] /usr/include/c++/9/cstring:93:11: error: ‘::strtok’ has not been declared\n    [build]    93 |   using ::strtok;\n    [build]       |           ^~~~~~\n    [build] /usr/include/c++/9/cstring:94:11: error: ‘::strxfrm’ has not been declared\n    [build]    94 |   using ::strxfrm;\n    [build]       |           ^~~~~~~\n    [build] /usr/include/c++/9/cstring:95:11: error: ‘::strchr’ has not been declared\n    [build]    95 |   using ::strchr;\n    [build]       |           ^~~~~~\n    [build] /usr/include/c++/9/cstring:96:11: error: ‘::strpbrk’ has not been declared\n    [build]    96 |   using ::strpbrk;\n    [build]       |           ^~~~~~~\n    [build] /usr/include/c++/9/cstring:97:11: error: ‘::strrchr’ has not been declared\n    [build]    97 |   using ::strrchr;\n    [build]       |           ^~~~~~~\n    [build] /usr/include/c++/9/cstring:98:11: error: ‘::strstr’ has not been declared\n    [build]    98 |   using ::strstr;\n    [build]       |           ^~~~~~\n    [build] In file included from /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/hash.h:29,\n    [build]                  from /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/type-id.h:29,\n    [build]                  from /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/object-base.h:23,\n    [build]                  from /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/object.h:29,\n    [build]                  from /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/scheduler.h:25,\n    [build]                  from /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/calendar-scheduler.h:24,\n    [build]                  from /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/core-module.h:19,\n    [build]                  from /home/quan/ns-allinone-3.29/ns-3.29/examples/tutorial/first.cc:17:\n    [build] /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/hash-function.h: In member function ‘virtual uint32_t ns3::Hash::Function::Hash64::GetHash32(const char*, std::size_t)’:\n    [build] /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/hash-function.h:169:5: error: ‘memcpy’ was not declared in this scope\n    [build]   169 |     memcpy (&hash32, &hash64, sizeof (hash32));\n    [build]       |     ^~~~~~\n    [build] /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/hash-function.h:25:1: note: ‘memcpy’ is defined in header ‘<cstring>’; did you forget to ‘#include <cstring>’?\n    [build]    24 | #include <cstring>  // memcpy\n    [build]   +++ |+#include <cstring>\n    [build]    25 | #include \"simple-ref-count.h\"\n    [build] In file included from /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/address-utils.h:23,\n    [build]                  from /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/network-module.h:10,\n    [build]                  from /home/quan/ns-allinone-3.29/ns-3.29/examples/tutorial/first.cc:18:\n    [build] /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/buffer.h: In member function ‘void ns3::Buffer::Iterator::WriteU8(uint8_t, uint32_t)’:\n    [build] /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/buffer.h:893:12: error: ‘memset’ is not a member of ‘std’\n    [build]   893 |       std::memset (&(m_data[m_current]), data, len);\n    [build]       |            ^~~~~~\n    [build] /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/buffer.h:899:12: error: ‘memset’ is not a member of ‘std’\n    [build]   899 |       std::memset (buffer, data, len);\n    [build]       |            ^~~~~~\n    [build] In file included from /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/address-utils.h:25,\n    [build]                  from /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/network-module.h:10,\n    [build]                  from /home/quan/ns-allinone-3.29/ns-3.29/examples/tutorial/first.cc:18:\n    [build] /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/ipv6-address.h: In function ‘bool ns3::operator==(const ns3::Ipv6Address&, const ns3::Ipv6Address&)’:\n    [build] /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/ipv6-address.h:591:17: error: ‘memcmp’ is not a member of ‘std’; did you mean ‘memchr’?\n    [build]   591 |   return (!std::memcmp (a.m_address, b.m_address, 16));\n    [build]       |                 ^~~~~~\n    [build]       |                 memchr\n    [build] /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/ipv6-address.h: In function ‘bool ns3::operator!=(const ns3::Ipv6Address&, const ns3::Ipv6Address&)’:\n    [build] /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/ipv6-address.h:596:15: error: ‘memcmp’ is not a member of ‘std’; did you mean ‘memchr’?\n    [build]   596 |   return std::memcmp (a.m_address, b.m_address, 16);\n    [build]       |               ^~~~~~\n    [build]       |               memchr\n    [build] /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/ipv6-address.h: In function ‘bool ns3::operator<(const ns3::Ipv6Address&, const ns3::Ipv6Address&)’:\n    [build] /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/ipv6-address.h:601:16: error: ‘memcmp’ is not a member of ‘std’; did you mean ‘memchr’?\n    [build]   601 |   return (std::memcmp (a.m_address, b.m_address, 16) < 0);\n    [build]       |                ^~~~~~\n    [build]       |                memchr\n    [build] /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/ipv6-address.h: In function ‘bool ns3::operator==(const ns3::Ipv6Prefix&, const ns3::Ipv6Prefix&)’:\n    [build] /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/ipv6-address.h:606:17: error: ‘memcmp’ is not a member of ‘std’; did you mean ‘memchr’?\n    [build]   606 |   return (!std::memcmp (a.m_prefix, b.m_prefix, 16));\n    [build]       |                 ^~~~~~\n    [build]       |                 memchr\n    [build] /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/ipv6-address.h: In function ‘bool ns3::operator!=(const ns3::Ipv6Prefix&, const ns3::Ipv6Prefix&)’:\n    [build] /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/ipv6-address.h:611:15: error: ‘memcmp’ is not a member of ‘std’; did you mean ‘memchr’?\n    [build]   611 |   return std::memcmp (a.m_prefix, b.m_prefix, 16);\n    [build]       |               ^~~~~~\n    [build]       |               memchr\n    [build] In file included from /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/address-utils.h:27,\n    [build]                  from /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/network-module.h:10,\n    [build]                  from /home/quan/ns-allinone-3.29/ns-3.29/examples/tutorial/first.cc:18:\n    [build] /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/mac64-address.h: In function ‘bool ns3::operator==(const ns3::Mac64Address&, const ns3::Mac64Address&)’:\n    [build] /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/mac64-address.h:162:10: error: ‘memcmp’ was not declared in this scope\n    [build]   162 |   return memcmp (a.m_address, b.m_address, 8) == 0;\n    [build]       |          ^~~~~~\n    [build] /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/mac64-address.h:1:1: note: ‘memcmp’ is defined in header ‘<cstring>’; did you forget to ‘#include <cstring>’?\n    [build]   +++ |+#include <cstring>\n    [build]     1 | /* -*- Mode:C++; c-file-style:\"gnu\"; indent-tabs-mode:nil; -*- */\n    [build] /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/mac64-address.h: In function ‘bool ns3::operator!=(const ns3::Mac64Address&, const ns3::Mac64Address&)’:\n    [build] /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/mac64-address.h:166:10: error: ‘memcmp’ was not declared in this scope\n    [build]   166 |   return memcmp (a.m_address, b.m_address, 8) != 0;\n    [build]       |          ^~~~~~\n    [build] /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/mac64-address.h:166:10: note: ‘memcmp’ is defined in header ‘<cstring>’; did you forget to ‘#include <cstring>’?\n    [build] /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/mac64-address.h: In function ‘bool ns3::operator<(const ns3::Mac64Address&, const ns3::Mac64Address&)’:\n    [build] /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/mac64-address.h:170:10: error: ‘memcmp’ was not declared in this scope\n    [build]   170 |   return memcmp (a.m_address, b.m_address, 8) < 0;\n    [build]       |          ^~~~~~\n    [build] /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/mac64-address.h:170:10: note: ‘memcmp’ is defined in header ‘<cstring>’; did you forget to ‘#include <cstring>’?\n    [build] In file included from /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/address-utils.h:28,\n    [build]                  from /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/network-module.h:10,\n    [build]                  from /home/quan/ns-allinone-3.29/ns-3.29/examples/tutorial/first.cc:18:\n    [build] /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/mac48-address.h: In function ‘bool ns3::operator==(const ns3::Mac48Address&, const ns3::Mac48Address&)’:\n    [build] /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/mac48-address.h:205:10: error: ‘memcmp’ was not declared in this scope\n    [build]   205 |   return memcmp (a.m_address, b.m_address, 6) == 0;\n    [build]       |          ^~~~~~\n    [build] /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/mac48-address.h:1:1: note: ‘memcmp’ is defined in header ‘<cstring>’; did you forget to ‘#include <cstring>’?\n    [build]   +++ |+#include <cstring>\n    [build]     1 | /* -*- Mode:C++; c-file-style:\"gnu\"; indent-tabs-mode:nil; -*- */\n    [build] /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/mac48-address.h: In function ‘bool ns3::operator!=(const ns3::Mac48Address&, const ns3::Mac48Address&)’:\n    [build] /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/mac48-address.h:209:10: error: ‘memcmp’ was not declared in this scope\n    [build]   209 |   return memcmp (a.m_address, b.m_address, 6) != 0;\n    [build]       |          ^~~~~~\n    [build] /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/mac48-address.h:209:10: note: ‘memcmp’ is defined in header ‘<cstring>’; did you forget to ‘#include <cstring>’?\n    [build] /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/mac48-address.h: In function ‘bool ns3::operator<(const ns3::Mac48Address&, const ns3::Mac48Address&)’:\n    [build] /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/mac48-address.h:213:10: error: ‘memcmp’ was not declared in this scope\n    [build]   213 |   return memcmp (a.m_address, b.m_address, 6) < 0;\n    [build]       |          ^~~~~~\n    [build] /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/mac48-address.h:213:10: note: ‘memcmp’ is defined in header ‘<cstring>’; did you forget to ‘#include <cstring>’?\n    [build] In file included from /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/address-utils.h:29,\n    [build]                  from /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/network-module.h:10,\n    [build]                  from /home/quan/ns-allinone-3.29/ns-3.29/examples/tutorial/first.cc:18:\n    [build] /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/mac16-address.h: In function ‘bool ns3::operator==(const ns3::Mac16Address&, const ns3::Mac16Address&)’:\n    [build] /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/mac16-address.h:155:10: error: ‘memcmp’ was not declared in this scope\n    [build]   155 |   return memcmp (a.m_address, b.m_address, 2) == 0;\n    [build]       |          ^~~~~~\n    [build] /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/mac16-address.h:1:1: note: ‘memcmp’ is defined in header ‘<cstring>’; did you forget to ‘#include <cstring>’?\n    [build]   +++ |+#include <cstring>\n    [build]     1 | /* -*-  Mode: C++; c-file-style: \"gnu\"; indent-tabs-mode:nil; -*- */\n    [build] /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/mac16-address.h: In function ‘bool ns3::operator!=(const ns3::Mac16Address&, const ns3::Mac16Address&)’:\n    [build] /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/mac16-address.h:159:10: error: ‘memcmp’ was not declared in this scope\n    [build]   159 |   return memcmp (a.m_address, b.m_address, 2) != 0;\n    [build]       |          ^~~~~~\n    [build] /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/mac16-address.h:159:10: note: ‘memcmp’ is defined in header ‘<cstring>’; did you forget to ‘#include <cstring>’?\n    [build] /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/mac16-address.h: In function ‘bool ns3::operator<(const ns3::Mac16Address&, const ns3::Mac16Address&)’:\n    [build] /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/mac16-address.h:163:10: error: ‘memcmp’ was not declared in this scope\n    [build]   163 |   return memcmp (a.m_address, b.m_address, 2) < 0;\n    [build]       |          ^~~~~~\n    [build] /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/mac16-address.h:163:10: note: ‘memcmp’ is defined in header ‘<cstring>’; did you forget to ‘#include <cstring>’?\n    [build] In file included from /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/packet.h:27,\n    [build]                  from /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/net-device.h:28,\n    [build]                  from /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/node.h:29,\n    [build]                  from /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/application.h:28,\n    [build]                  from /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/application-container.h:26,\n    [build]                  from /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/network-module.h:12,\n    [build]                  from /home/quan/ns-allinone-3.29/ns-3.29/examples/tutorial/first.cc:18:\n    [build] /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/packet-metadata.h: In constructor ‘ns3::PacketMetadata::PacketMetadata(uint64_t, uint32_t)’:\n    [build] /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/packet-metadata.h:701:3: error: ‘memset’ was not declared in this scope\n    [build]   701 |   memset (m_data->m_data, 0xff, 4);\n    [build]       |   ^~~~~~\n    [build] /home/quan/ns-allinone-3.29/ns-3.29/build/ns3/packet-metadata.h:29:1: note: ‘memset’ is defined in header ‘<cstring>’; did you forget to ‘#include <cstring>’?\n    [build]    28 | #include \"ns3/type-id.h\"\n    [build]   +++ |+#include <cstring>\n    [build]    29 | #include \"buffer.h\"\n    [build] make[2]: *** [CMakeFiles/cmake-demo.dir/build.make:63: CMakeFiles/cmake-demo.dir/tutorial/first.cc.o] Error 1\n    [build] make[1]: *** [CMakeFiles/Makefile2:76: CMakeFiles/cmake-demo.dir/all] Error 2\n    [build] make: *** [Makefile:84: all] Error 2\n    [build] Build finished with exit code 2\nAny suggest will help me to fix this, thank in advance!",
    "answer": "You need to remove\n/home/quan/ns-allinone-3.29/ns-3.29/build/ns3\nfrom the include paths. Looking at the example codes, it always gets\nncs\nin the path and you don't need it to be added in\ninclude_directories\n. The\nstring.h\nfrom ns3 conflicts with one defined in STL"
  },
  {
    "url": "https://stackoverflow.com/questions/68538078/how-to-implement-sampling-in-ns3",
    "title": "How to implement sampling in ns3?",
    "question": "I wonder how to implement sampling in ns3. What exactly I want to implement is to create a simple network of switches and hosts using p2p links. Then, setting a probability (lets say 0.1) for an specific switch and expecting that every packet passing the switch will be captured with probability that I defined earlier. (Pretty much like the sampling in sflow or netflow).\nI browsed nsnam.org, and the only tool I found regarding my question is Flow Monitor which I think is not helpful for my purpose.",
    "answer": "There isn't a direct way to implement the behavior you want, but there is a solution.\nSet up a normal hook to get all packets going through one of the switches. Refer to\nthe tutorial\nto learn how to use the tracing system.\nThen, use a\nRandomVariable\nat the beginning of your function to determine whether you want ignore that packet or not. The RandomVariable will need to be in global scope or passed in as parameter to the function."
  },
  {
    "url": "https://stackoverflow.com/questions/68437605/how-to-use-gmp-with-ns3",
    "title": "How to use GMP with NS3?",
    "question": "When calling\n__gmpz_set_str()\nin a NS3, I got this error:\nundefined reference to\n__gmpz_set_str\ncollect2: error: ld returned 1 exit status\nI am already including\n#include <gmpxx.h>\nand I have also installed\nlibgmp3-dev\nand\nlibgmp-dev\n.\nAny idea?\nthis is the link to the waf:\nhttps://github.com/nsnam/ns-3-dev-git/blob/master/waf\nand the link to the wscript:\nhttps://github.com/nsnam/ns-3-dev-git/blob/master/wscript\n# This is the make file content:\n\n#Makefile wrapper for waf\n\nall:\n    ./waf\n\n#free free to change this part to suit your requirements\n\nconfigure:\n    ./waf configure --enable-examples --enable-tests\n\nbuild:\n    ./waf build\n\ninstall:\n    ./waf install\n\nclean:\n    ./waf clean\n\ndistclean:\n    ./waf distclean",
    "answer": "The compile flags need to be set at configure time, so the correct incantation is:\nLDFLAGS=-lgmp ./waf configure\nNow, you can simply run\n./waf\nto build the entire codebase, and the\n-lgmp\nflag will be used. If you\nreally\nwant to use make(1), then\nLDFLAGS=-lgmp make configure\nshould also work, but I recommend just using waf directly since it is the actual build system, not make."
  },
  {
    "url": "https://stackoverflow.com/questions/68259452/how-to-fix-this-error-while-trying-to-build-a-ns3-simulation",
    "title": "How to fix this error while trying to build a ns3 simulation?",
    "question": "I have a simulation called adhoc-simulation.cc in a folder called scratch so it should be running fine, however when I build it using this command\nsudo ./waf --run adhoc-simulation\nin the ns-3.33 folder I get this error:\nFileNotFoundError: [Errno 2] No such file or directory: '/home/*/ns-3-allinone/ns-3.33/build/ns3/yans-wifi-helper.h'",
    "answer": "I got the same error using latest version of ns3,I used\n./ns3 run filename\ncommand,it worked for me."
  },
  {
    "url": "https://stackoverflow.com/questions/68250032/is-there-any-specific-sensor-nodes-in-ns3-simulator-what-types-of-sensors-does",
    "title": "is there any specific sensor nodes in ns3 simulator? what types of sensors does ns3 have?",
    "question": "i want to do a simulation on IoT sensors in ns3. does ns3 has any specific sensors such as temp sensor or other sensors? or it just specifies as sensor nodes?",
    "answer": "There are no IoT-type sensor classes in ns-3 at the moment, but it appears there was desire for such functionality\nin 2013\n.\nAs an aside, ns-3 is a network simulator. It's not meant to simulate specific devices – rather, it simulates the network traffic of devices. If you can determine the traffic pattern of a device, than you can build an\nApplication\nthat generates this type of traffic, and install that Application on a Node. You may find inspiration for how to wrap your own Application by looking at the existing Applications. You might also be able to mimic the traffic pattern of IoT devices using an existing Application."
  },
  {
    "url": "https://stackoverflow.com/questions/68172306/how-i-could-calculate-packet-loss-in-ns-3",
    "title": "How I could calculate packet loss in ns-3",
    "question": "I am absolute beginner in ns-3. How to add code to calculate packet loss in tcp-variants-comparison.cc and store instantaneous results in a file to let me plot it per simulation time.",
    "answer": "Check Flow Monitor (chapter 16 of the ns3-model-library)\nhttps://www.nsnam.org/docs/models/html/flow-monitor.html\nThe simple version is, use this code at the end of your script to put information about your flows (dropped packets, delays, jitters...) in a .xml file\nFlowMonitorHelper flowHelper;\n  Ptr<FlowMonitor> flowMonitor = flowHelper.InstallAll();\n  Simulator::Stop(Seconds(stopSim));\n  Simulator::Run ();\n  flowMonitor->SerializeToXmlFile(\"flowmonitor.xml\", false, true);\n  Simulator::Destroy ();\n  return 0;\n}\nYou need to explicitly instruct the simulator to stop because the flowmonitor will keep generating events (it'll constantly check for dropped packets) otherwise the simulation will not end."
  },
  {
    "url": "https://stackoverflow.com/questions/68056201/is-it-possible-to-create-pointtopointdumbbell-in-ns3-but-have-different-applicat",
    "title": "Is it possible to create PointToPointDumbbell in ns3 but have different applications on the left nodes",
    "question": "Is it possible to create PointToPointDumbbell in ns3 but have different applications on the left nodes such as OnOffApplication, UdpClientServer, and so on",
    "answer": "Yes, this is possible.\nBegin by creating the dumbbell topology using\nPointToPointDumbbellHelper\n. Next, use the\nGetLeft(uint32_t)\nand\nGetRight(uint32_t)\nto get the individual Nodes on each side of the dumbbell.\nSimply install the application you want on that Node using\nNode::InstallApplication(Ptr<Application>)\nor using\nOnOffHelper::Install(Ptr<Node>)\n(or the Helper for whatever application it is you want to install)."
  },
  {
    "url": "https://stackoverflow.com/questions/67991572/ndnsim-content-store",
    "title": "ndnSIM : content store",
    "question": "which method to add data in content store in  forwarding strategy ndnSIM ?\ni have tried to use\ncs::Cs::insert(data);\nafter beforeSatisfiedInterest\nunfortunately I have no result",
    "answer": "You can't actually manually add data on the default NDNsim. The content store is setup to only accept data that satisfies an interest in the \"Pending Interest Table\".\nFor manually entering data to a CS, you'd need to make changes to NDNsim with something like\nthis\ndiscussed on the mailing list."
  },
  {
    "url": "https://stackoverflow.com/questions/67836987/ns3-lte-build-failure-when-running-python-code-using-sem-ns-3-simulation-execut",
    "title": "ns3-lte build failure when running python code using SEM (ns-3 simulation execution manager)",
    "question": "I'm trying to run a\npython\ncode using SEM, this code runs only in\nns3-mmwave-2.0\nmodule, however during the\nns3-mmwave\nbuilding, it shows an\nns3-lte\nerror.\nWhat could be the reason?, knowing that i can't use other versions of\nns3\nbecause the code im trying to run can only work on this\nmmwave\nmodule version 2.\nBuilding ns-3:  62%|████████████▎       | 1563/2535 [10:29<6:47:36, 25.16s/file]\nTraceback (most recent call last):\n  File \"ns3-mmwave-2.0/thz-sem.py\", line 103, in <module>\n    campaign = sem.CampaignManager.new(\n  File \"/home/dang/.local/lib/python3.8/site-packages/sem/manager.py\", line 116, in new\n    runner = CampaignManager.create_runner(ns_path, script,\n  File \"/home/dang/.local/lib/python3.8/site-packages/sem/manager.py\", line 209, in create_runner\n    return locals().get(runner_type,\n  File \"/home/dang/.local/lib/python3.8/site-packages/sem/runner.py\", line 56, in __init__\n    self.configure_and_build(path, optimized=optimized)\n  File \"/home/dang/.local/lib/python3.8/site-packages/sem/runner.py\", line 148, in configure_and_build\n    for current, total in pbar:\n  File \"/home/dang/.local/lib/python3.8/site-packages/tqdm/std.py\", line 1176, in __iter__\n    for obj in iterable:\n  File \"/home/dang/.local/lib/python3.8/site-packages/sem/runner.py\", line 169, in get_build_output\n    raise Exception(\"Compilation ended with an error\"\nException: Compilation ended with an error.\nSTDERR\nb\"In file included from ../../src/lte/model/epc-mme-application.cc:30:\\n../../src/lte/model/epc-s11-sap.h: In member function \\xe2\\x80\\x98void ns3::EpcMmeApplication::DoInitialUeMessage(uint64_t, uint16_t, uint64_t, uint16_t)\\xe2\\x80\\x99:\\n../../src/lte/model/epc-s11-sap.h:183:10: error: \\xe2\\x80\\x98msg.ns3::EpcS11SapSgw::CreateSessionRequestMessage::<anonymous>\\xe2\\x80\\x99 may be used uninitialized in this function [-Werror=maybe-uninitialized]\\n  183 |   struct CreateSessionRequestMessage : public GtpcMessage\\n      |          ^~~~~~~~~~~~~~~~~~~~~~~~~~~\\ncc1plus: all warnings being treated as errors\\n\\nBuild failed\\n -> task in 'ns3-lte' failed with exit status 1 (run with -v to display more information)\\n\"\nSTDOUT\nb''",
    "answer": "Fixing requires the initialization of the structures and variables.\nUpdate: Apparently there is a waf option to disable these kinds of warnings from being treated as errors:\n--disable-werror\n."
  },
  {
    "url": "https://stackoverflow.com/questions/67663065/codelite-not-recognizing-ns-3-files",
    "title": "Codelite not recognizing ns-3 files",
    "question": "I'm pretty new with C++ development, and I wanted to use an IDE. I downloaded codelite, and everything was working fine.\nThe issue\nRecently I started development an App for the NetworkSimulator3 or Ns3, that runs with Waf(\nhttps://waf.io/\n). Using the codelite just for my app, and doing the build&Run on the terminal with waf seems wrong.\nIn the end, codelite is not recognizing a butch of files of ns3, and keep pointing errors.\nWhat I tried to do\nI tried adding all Ns3 files in a single workspace, together with my app files, in hopes that everything would work. Instead I still got a bunch of \"No such file or directory\" errors, although these files exist and are added on the IDE\nOn the import, Ns3 demands us to call it like this:\n#import <ns3/packet.h>\nAlthough the .h is inside another folder:\nsrc/network/model/packet.h\nThere are a few wscripts files that probably work on these bindings, although I'm not 100% sure.\nSo I also tried:\nAdding the .h in the same folder of my app\nCreating a new virtual folder called ns3, and adding the headers there\nIncluding the folder with the headers in the compiler's include paths\nIncluding the folder with the headers in the linker like it was a library\nNothing worked so far\nI just wanted to open the Ns3 on an IDE so I could work without several errors showing. Maybe even with some autocomplete?\nCould you guys help me figure this out?\nEdit\nI also added a \"Custom build\", so I can execute and build my project using waf, but the IDE errors didn't disappear",
    "answer": "On the import, Ns3 demands us to call it like this: #import <ns3/packet.h> Although the .h is inside another folder: src/network/model/packet.h\nHeaders imported with <ns3/header.h> are copied from src/module/(model/helper) to build/ns3 when you build ns-3. You need to add build/ as an include folder (e.g. -I/path/to/ns-3-dev/build), which will make <ns3/header.h> work correctly.\nNot sure on the other issues, since I've never tried CodeLite.\nI just wanted to open the Ns3 on an IDE so I could work without several errors showing. Maybe even with some autocomplete?\nIf I may recommend, try the\nCMake buildsystem\n. Clone the code and create a cmake cache folder (e.g.\nmkdir cmake_cache\n), then generate the CodeLite project (e.g.\ncd cmake_cache && cmake -DCMAKE_EXPORT_COMPILE_COMMANDS=1 -G \"CodeLite - Ninja\" ..\n, or\n-G \"CodeLite - Unix Makefiles\"\n) and then open the project in cmake_cache with CodeLite. :)\nUpdate: just read on their blog that exporting compile commands is required for code completion when using cmake.\nhttps://codeliteide.blogspot.com/2014/02/codelite-ide-60-cmake-and-clang-code.html"
  },
  {
    "url": "https://stackoverflow.com/questions/67629920/ns-3-netanim-error-qt-qpa-xcb-could-not-connect-to-display-localhost0-0",
    "title": "NS-3 - NetAnim error: qt.qpa.xcb: could not connect to display localhost:0.0",
    "question": "I'm using\nWSL\nwith '\nxrdp & xfce4\n' running to access X-Server. I'm trying to run '\nNetAnim\n' for\nNS-3\n, using\nQt5\n.\nAs soon as I run:\n$ ./NetAnim\nIt gives an output:\nqt.qpa.xcb: could not connect to display localhost:0.0\nqt.qpa.plugin: Could not load the Qt platform plugin \"xcb\" in \"\" even though it was found.\nThis application failed to start because no Qt platform plugin could be initialized. Reinstalling the application may fix this problem.\n\nAvailable platform plugins are: eglfs, linuxfb, minimal, minimalegl, offscreen, vnc, xcb.\n\nAborted (core dumped)\nI've tried:\nexport DISPLAY=0:0\nStill gives the same output.",
    "answer": "Got it solved!\nWhat I did is:\nEnabled Virtualization in BIOS.\nReset the WSL.\nUpgraded WSL1 to WSL2.\nSet WSL: 2 as default, <deb_pack>: 2 default.\nUsing WSL2 doesn't really make fuss with Qt."
  },
  {
    "url": "https://stackoverflow.com/questions/67500740/how-to-change-the-point-to-point-link-data-rate-during-run-time",
    "title": "How to change the point-to-point link data rate during run time?",
    "question": "I have a query that tries to change a point-to-point link data rate during runtime. I tried\nthis solution\nbut\nSetDeviceAttribute\nwas not resolved for me.\nvoid\nModifyLinkRate(PointToPointNetDevice *dev) {\n   dev->SetDeviceAttribute(\"DataRate\", StringValue (\"1Mbps\"));\n   //dev->SetAttribute(\"DataRate\", StringValue (\"1Mbps\"));\n}\nint\nmain (int argc, char *argv[])\n{\n...\n   PointToPointHelper pointToPoint;\n   pointToPoint.SetDeviceAttribute (\"DataRate\", StringValue (linkRate));\n...\n   Simulator::Schedule(Seconds(2.0), &ModifyLinkRate, &pointToPoint );\n}",
    "answer": "In order to change the data rate of a point-to-point link, the\nPointToPointNetDevice\ninstalled in a node has to be retrieved. This can be done using the\nNetDeviceContainer\nwhere the node is associated. The example code is below:\nvoid\nModifyLinkRate(NetDeviceContainer *ptp, DataRate lr) {\n    StaticCast<PointToPointNetDevice>(ptp->Get(0))->SetDataRate(lr);\n}\nint\nmain (int argc, char *argv[])\n{\n...\n   PointToPointHelper pointToPoint;\n   pointToPoint.SetDeviceAttribute (\"DataRate\", StringValue (linkRate));\n...\n   NetDeviceContainer p2pDevices = pointToPoint.Install (p2pNodes);\n...\n    Simulator::Schedule(Seconds(2.0), &ModifyLinkRate, &p2pDevices,DataRate(\"20Mbps\"));\n}"
  },
  {
    "url": "https://stackoverflow.com/questions/66967848/g-fatal-error-killed-signal-terminated-program-cc1plus-when-trying-to-install",
    "title": "g++ fatal error: killed signal terminated program cc1plus when trying to install NS3 in ubuntu",
    "question": "I'm trying to install ns3 version 3.32 in my ubuntu 20.04 LTS (using oracle virtualbox). I used the following commands:\nsudo apt update\nsudo apt install build-essential autoconf automake libxmu-dev python3-pygraphviz cvs mercurial bzr git cmake p7zip-full python3-matplotlib python-tk python3-dev qt5-qmake qt-default gnuplot-x11 wireshark\ntar jxvf ns-allinone-3.32.tar.bz2\ncd ns-allinone-3.32/\n./build.py --enable-examples --enable-tests\nAfter that build command it started compiling a lot of files. Then it took an especially long time on [2431/2878] compilation, then I got this error:\ng++: fatal error: killed signal terminated program cc1plus\ncompilation terminated\nI tried again and again but it always stop there. I don't know what's wrong. I already gave 100gb storage to ubuntu and it has 2 processors and 2048mb base memory.",
    "answer": "Can confirm, I have been installing ns3 V3.33 and around [2447/2973] compilation this error came out.\nFor the solution I doubled the base memory of my VM (2048mb -> 4096mb), then the compilation finished successfully."
  },
  {
    "url": "https://stackoverflow.com/questions/66540196/how-can-i-shutdown-a-node-after-energy-depletion-in-ns-3",
    "title": "How can I shutdown a node after energy depletion in NS-3?",
    "question": "New to ns3, thanks!\nI added energyModel to my ns3 nodes, and they work well. But I found that when the remaining energy is 0 the node is still work (send and receive packet), I set the EnergyDepletionCallback but I don't how to shutdown the node or NetDevice in my callback.\nHere is my energy model:\nPtr<BasicEnergySource> energySource = CreateObject<BasicEnergySource>();\nPtr<WifiRadioEnergyModel> energyModel = CreateObject<WifiRadioEnergyModel>();\n\nenergySource->SetInitialEnergy (1);\nenergyModel->SetEnergySource (energySource);\nenergySource->AppendDeviceEnergyModel (energyModel);\n\nWifiRadioEnergyModel::WifiRadioEnergyDepletionCallback callback = \n  MakeCallback (&FqAodvExample::EnergyDepletionCallback, this);\n\nenergyModel->SetEnergyDepletionCallback (callback);\n\n// aggregate energy source to node\nnodes.Get (i)->AggregateObject (energySource);",
    "answer": "ok, I find the answer. In ns-3, there are no concepts of shutdown a node or device. But we can set the interface down to cut off the communication.\nHere is my code of EnergyDepletionCallback to set interface down:\nstd::pair<Ptr<Ipv4>, uint32_t> returnValue = interfaces.Get (i);\n  Ptr<Ipv4> ipv4 = returnValue.first;\n  uint32_t index = returnValue.second;\n  Ptr<Ipv4Interface> iface =  ipv4->GetObject<Ipv4L3Protocol> ()->GetInterface (index);\n  NS_LOG_UNCOND (Simulator::Now().GetSeconds() << \"s Set \" << iface->GetAddress(0).GetLocal() << \" down.\");\n  ipv4->SetDown (index);"
  },
  {
    "url": "https://stackoverflow.com/questions/66519622/how-to-run-gauss-markov-mobility-model-on-ns3-simulator",
    "title": "How to run gauss markov mobility model on ns3 simulator?",
    "question": "I am an absolute bigger in NS3 and also on stackoverflow. How do I run the gauss markov mobility model?\nThe command that I have in the terminal window is:    ~/ns-allinone-3.31/ns-3.31$ ./waf --run src/mobility/model/gauss-markov-mobility-model\nBut somehow model is not found. I'm sure that I've keyed in the right folder locations and filename. For the examples folder, it is totally fine.\nCan anybody provide guidance? I am unable to post pics as a new user.",
    "answer": "From the Docs\nGauss Markov Mobility Model\nMobilityHelper mobility;\nmobility.SetMobilityModel (\"ns3::GaussMarkovMobilityModel\",\n  \"Bounds\", BoxValue (Box (0, 150000, 0, 150000, 0, 10000)),\n  \"TimeStep\", TimeValue (Seconds (0.5)),\n  \"Alpha\", DoubleValue (0.85),\n  \"MeanVelocity\", StringValue (\"ns3::UniformRandomVariable[Min=800|Max=1200]\"),\n  \"MeanDirection\", StringValue (\"ns3::UniformRandomVariable[Min=0|Max=6.283185307]\"),\n  \"MeanPitch\", StringValue (\"ns3::UniformRandomVariable[Min=0.05|Max=0.05]\"),\n  \"NormalVelocity\", StringValue (\"ns3::NormalRandomVariable[Mean=0.0|Variance=0.0|Bound=0.0]\"),\n  \"NormalDirection\", StringValue (\"ns3::NormalRandomVariable[Mean=0.0|Variance=0.2|Bound=0.4]\"),\n  \"NormalPitch\", StringValue (\"ns3::NormalRandomVariable[Mean=0.0|Variance=0.02|Bound=0.04]\"));\nmobility.SetPositionAllocator (\"ns3::RandomBoxPositionAllocator\",\n  \"X\", StringValue (\"ns3::UniformRandomVariable[Min=0|Max=150000]\"),\n  \"Y\", StringValue (\"ns3::UniformRandomVariable[Min=0|Max=150000]\"),\n  \"Z\", StringValue (\"ns3::UniformRandomVariable[Min=0|Max=10000]\"));\nmobility.Install (wifiStaNodes);"
  },
  {
    "url": "https://stackoverflow.com/questions/66085962/ns-3-logging-no-logs-on-output",
    "title": "ns-3 logging - no logs on output",
    "question": "I'm trying to create new ns-3 module but somehow logs are not showing on output. I thought that it's problem with my code, so I copied first.cc and third.cc examples to the scratch dir and after running them, there was no logs too. I also tried to run them with an environment variable NS_LOG set to \"*\", but the output was same. When I try to print some text with std::clog or std::cout it is working but NS3 log macros are not (even NS_LOG_UNCOND).\nI'm using NS version 3.31 and same problem is on Debian GNU/Linux 10 and also on Ubuntu 20.04.\nHow can I fix that?\nThanks, Filip",
    "answer": "It appears that you're using the optimized build. According to the\nLogging documentation of v3.31\n,\nLogging statements are not compiled into optimized builds of ns-3. To use logging, one must build the (default) debug build of ns-3.\nThis is also the case for\nthe latest development version\nof ns-3. To switch to the debug build, run\n./waf configure --build-profile=debug --out=build/debug\nto set the build profile, followed by\n./waf\nto build. You can find more about the build profile in\nthe tutorial\n."
  },
  {
    "url": "https://stackoverflow.com/questions/65442691/ns3-how-to-modify-pointopoint-channel-datarate-during-simulation-run",
    "title": "NS3-How to modify pointopoint channel datarate during simulation run",
    "question": "I'm new to NS3 and looking at the first.cc tutorial.\nhttps://www.nsnam.org/doxygen/first_8cc_source.html\nIn the tutorial two nodes are setup using a point to point link.\nI'm interested in changing the datarate of the device/channel during simulation run() and analyzing the delay. E.g, i would like to modify the datarate to 3Mbps around 3 seconds into the simulation.\nI found the following link to be the same question I'm asking but there doesn't seem to be an answer.\nHow to change the data rate between two nodes during the simulation in NS-3?",
    "answer": "I think thenewjames' comment is correct. I haven't run this script, but here is an example to get you started.\nstatic void\nDecreaseDataRate(PointToPointNetDevice *dev) {\n    dev->SetDeviceAttribute (\"DataRate\", StringValue (\"3Mbps\"));\n}\n\nint\nmain(int argv, char* arg[]) {\n// setup simulation ...\nPointToPointHelper pointToPoint;\n// rest of setup\n\nSimulator::Schedule(Seconds(3), &DecreaseDataRate, &pointToPoint);\nSimulation::Start();\n}"
  },
  {
    "url": "https://stackoverflow.com/questions/65379050/ns3-how-to-create-a-custom-point-to-point-topology",
    "title": "ns3 How to create a custom point to point topology",
    "question": "Creating a point to point topology involves two nodes and the code generating such topology is like this:\n// Default Network Topology\n//\n//       10.1.1.0\n// n0 -------------- n1\n//    point-to-point\n//\n \nusing namespace ns3;\n\nNS_LOG_COMPONENT_DEFINE (\"FirstScriptExample\");\n\nint\nmain (int argc, char *argv[])\n{\n  CommandLine cmd (__FILE__);\n  cmd.Parse (argc, argv);\n  \n  Time::SetResolution (Time::NS);\n  LogComponentEnable (\"UdpEchoClientApplication\", LOG_LEVEL_INFO);\n  LogComponentEnable (\"UdpEchoServerApplication\", LOG_LEVEL_INFO);\n\n  NodeContainer nodes;\n  nodes.Create (2);\n\n  PointToPointHelper pointToPoint;\n  pointToPoint.SetDeviceAttribute (\"DataRate\", StringValue (\"5Mbps\"));\n  pointToPoint.SetChannelAttribute (\"Delay\", StringValue (\"2ms\"));\n\n  NetDeviceContainer devices;\n  devices = pointToPoint.Install (nodes);\n\n  InternetStackHelper stack;\n  stack.Install (nodes);\n\n  Ipv4AddressHelper address;\n  address.SetBase (\"10.1.1.0\", \"255.255.255.0\");\n\n  Ipv4InterfaceContainer interfaces = address.Assign (devices);\n\n  UdpEchoServerHelper echoServer (9);\n\n  ApplicationContainer serverApps = echoServer.Install (nodes.Get (1));\n  serverApps.Start (Seconds (1.0));\n  serverApps.Stop (Seconds (10.0));\n\n  UdpEchoClientHelper echoClient (interfaces.GetAddress (1), 9);\n  echoClient.SetAttribute (\"MaxPackets\", UintegerValue (1));\n  echoClient.SetAttribute (\"Interval\", TimeValue (Seconds (1.0)));\n  echoClient.SetAttribute (\"PacketSize\", UintegerValue (1024));\n\n  ApplicationContainer clientApps = echoClient.Install (nodes.Get (0));\n  clientApps.Start (Seconds (2.0));\n  clientApps.Stop (Seconds (10.0));\n\n  Simulator::Run ();\n  Simulator::Destroy ();\n  return 0;\n}\nThis code just creates two point to point nodes.\nBut how we can create a point to point topology with more than 2 nodes like this image:",
    "answer": "There are\nseveral layout helpers for PointToPointNetDevices\n, but none of them perfectly fit what you're trying to do.\nThe most straightforward way to achieve the topology you want is to create the nodes, and manually install PointToPointNetDevices. Something along the lines of\nNodeContainer nodes(7);\nPointToPointHelper pointToPoint;\nNetDeviceContainer devices;\n\ndevices.Add(pointToPoint.Install(nodes.Get(0), nodes.Get(1)));\ndevices.Add(pointToPoint.Install(nodes.Get(0), nodes.Get(2)));\ndevices.Add(pointToPoint.Install(nodes.Get(1), nodes.Get(3)));\ndevices.Add(pointToPoint.Install(nodes.Get(2), nodes.Get(3)));\ndevices.Add(pointToPoint.Install(nodes.Get(2), nodes.Get(4)));\ndevices.Add(pointToPoint.Install(nodes.Get(2), nodes.Get(6)));\ndevices.Add(pointToPoint.Install(nodes.Get(4), nodes.Get(6)));\ndevices.Add(pointToPoint.Install(nodes.Get(5), nodes.Get(5)));\n\n// the rest of your script"
  },
  {
    "url": "https://stackoverflow.com/questions/65323311/e-unable-to-locate-package-python-pygraphviz-e-package-ipython-has-no-instal",
    "title": "E: Unable to locate package python-pygraphviz E: Package 'ipython' has no installation candidate",
    "question": "I wanted to use ns3 for which some prerequisites have to be met in Ubuntu. (\nhttps://www.nsnam.org/wiki/Installation\n)\nFirst of all I cannot use\napt-get install python-pygraphviz python-kiwi python-pygoocanvas libgoocanvas-dev ipython\ncommand as it shows :E: Could not open lock file /var/lib/dpkg/lock-frontend - open (13: Permission denied)\nE: Unable to acquire the dpkg frontend lock (/var/lib/dpkg/lock-frontend), are you root?\nWhen I write the same command as root user,\nsudo apt-get install gir1.2-goocanvas-2.0 python-gi python-gi-cairo python-pygraphviz python3-gi python3-gi-cairo python3-pygraphviz gir1.2-gtk-3.0 ipython ipython3\nThe command line interface shows,\nReading package lists... Done\nBuilding dependency tree\nReading state information... Done\nPackage ipython is not available, but is referred to by another package.\nThis may mean that the package is missing, has been obsoleted, or\nis only available from another source\nE: Unable to locate package python-pygraphviz\nE: Package 'ipython' has no installation candidate\nWhat should I do ? Can anybody help me?",
    "answer": "This should work\n# Install pip\nsudo apt install -y python3-pip\n\n# Install ipython\npip3 install ipython\nSource:\nhttps://askubuntu.com/questions/1298398/e-package-ipython-has-no-installation-candidate-while-trying-to-install-tor"
  },
  {
    "url": "https://stackoverflow.com/questions/65049302/change-in-tcp-packet-size-in-ns3",
    "title": "change in TCP packet size in ns3",
    "question": "I am a new ns3 user. The program\nsixth.cc\ngenerates a pcap file\n1.136956 IP 10.1.1.1.49153 > 10.1.1.2.8080: Flags [.], seq 17177:17681, ack 1, win 32768, options [TS val 1133 ecr 1127,eol], length 504: HTTP\n1.403196 IP 10.1.1.1.49153 > 10.1.1.2.8080: Flags [.], seq 33280:33784, ack 1, win 32768, options [TS val 1399 ecr 1394,eol], length 504: HTTP\n1.436476 IP 10.1.1.1.49153 > 10.1.1.2.8080: Flags [.], seq 37440:37944, ack 1, win 32768, options [TS val 1432 ecr 1428,eol], length 504: HTTP\n2.533823 IP 10.1.1.1.49153 > 10.1.1.2.8080: Flags [.], seq 174184:174720, ack 1, win 32768, options [TS val 2530 ecr 2525,eol], length 536: HTTP\n2.543036 IP 10.1.1.1.49153 > 10.1.1.2.8080: Flags [.], seq 175760:176264, ack 1, win 32768, options [TS val 2539 ecr 2534,eol], length 504: HTTP\n2.608703 IP 10.1.1.1.49153 > 10.1.1.2.8080: Flags [.], seq 183544:184080, ack 1, win 32768, options [TS val 2605 ecr 2600,eol], length 536: HTTP\n5.804476 IP 10.1.1.1.49153 > 10.1.1.2.8080: Flags [.], seq 583440:583944, ack 1, win 32768, options [TS val 5800 ecr 5796,eol], length 504: HTTP\n6.453436 IP 10.1.1.1.49153 > 10.1.1.2.8080: Flags [.], seq 664560:665064, ack 1, win 32768, options [TS val 6449 ecr 6445,eol], length 504: HTTP\n7.367743 IP 10.1.1.1.49153 > 10.1.1.2.8080: Flags [.], seq 778424:778960, ack 1, win 32768, options [TS val 7364 ecr 7360,eol], length 536: HTTP\n7.393596 IP 10.1.1.1.49153 > 10.1.1.2.8080: Flags [.], seq 782080:782584, ack 1, win 32768, options [TS val 7389 ecr 7386,eol], length 504: HTTP\n8.158143 IP 10.1.1.1.49153 > 10.1.1.2.8080: Flags [.], seq 877224:877760, ack 1, win 32768, options [TS val 8155 ecr 8149,eol], length 536: HTTP\nCan anyone explain me if the MSS is changing from 536 bytes to  504 bytes and if so why?",
    "answer": "The pcap file generated in sixth.cc only shows packets that have been dropped. The default MSS is 536 bytes, so that's why the largest packet dropped is of that size. It just so happens that TCP decided to transmit segments of 504 bytes as well, and the corresponding packets were dropped by the receiver. Then later, the same happened with 536 byte segments as well.\nNaturally, the next question is: why did TCP decide to transmit a 504 byte segment in one case, and a 536 segment in another? I haven't debugged the program to verify this, but my speculation is that TCP's buffer only had 504 bytes to send, so that's all it sent. The MSS is a\nmaximum\nsegment size (not a\nminimum\n), so TCP can send packets smaller than 536 bytes. You can try to verify this by either\nsetting breakpoints in TcpSocketBase, or\nenabling debug messages\nfor TcpSocketBase, and looking for messages about Nagle's algorithm being invoked.\nSo, the MSS is not changing, but the size of the segment transmitted does change. Smaller 504 byte segments were probably transmitted since that's all TCP had in its buffer to send at that given time.\nOther details\nOn lines 208-210, a RateErrorModel is instantiated, and associated with the device 1. This model will randomly drop packets at the receiver NetDevice. So, in this simulation, packets may be dropped due to a buffer overflow, or randomly due to the RateErrorModel.\nOn lines 238-240, the PhyRxDrop TraceSource associated with device 1 is connected to\nRxDrop\n. A Callback to\nRxDrop\nis instantiated with one bound argument. The bound argument is a PcapFileWrapper, which can be thought of as a class that encapsulates a file, and makes adding packets to a pcap file easy."
  },
  {
    "url": "https://stackoverflow.com/questions/65049205/try-to-simulate-first-py-of-ns3-using-netanim",
    "title": "Try to simulate first.py of ns3 using netanim",
    "question": "Can you please help me out about the below error\nubuntu@ubuntu:~/Desktop/ns-allinone-3.32/ns-3.32$ ./waf --pyrun scratch/first.py\nWaf: Entering directory\n/home/ubuntu/Desktop/ns-allinone-3.32/ns-3.32/build'               Waf: Leaving directory\n/home/ubuntu/Desktop/ns-allinone-3.32/ns-3.32/build'\nBuild commands will be stored in build/compile_commands.json\n'build' finished successfully (1.500s)\nFile \"scratch/first.py\", line 66\nAnimationInterface netanim (\"my_first.xml\")\n^\nSyntaxError: invalid syntax\nhow can I fix this error please?",
    "answer": "I don't use the Python bindings, but take a look at\nthis page\nfrom the manual. You will probably need to do something along the lines of\nanim = ns.netanim.AnimationInterface(\"my_first.xml\")"
  },
  {
    "url": "https://stackoverflow.com/questions/64971605/nqoswifimachelper-was-not-declared-in-this-scope",
    "title": "NqosWifiMacHelper’ was not declared in this scope",
    "question": "I am trying to run this code on\nubuntu 20\n,\nns3.30.\nbut it showing this error. please help me out. Thanks\nCode:\n#include \"ns3/core-module.h\"\n#include \"ns3/point-to-point-module.h\"\n#include \"ns3/network-module.h\"\n#include \"ns3/applications-module.h\"\n#include \"ns3/wifi-module.h\"\n#include \"ns3/mobility-module.h\"\n#include \"ns3/csma-module.h\"\n#include \"ns3/internet-module.h\"\n#include \"ns3/propagation-loss-model.h\"\n#include \"ns3/aodv-module.h\"\nusing namespace ns3;\n\nuint32_t bytesTotal;\nuint32_t packetsReceived;\nuint32_t Node0Pending = 0;\nuint32_t Node1SendAck = 0;\nuint32_t Node1Pending = 0;\nuint32_t Node2SendAck = 0;\nuint16_t Pkt_no_last_seen_by_node2 = 0;\nuint16_t Pkt_no_being_sent_by_node1 = 0;\nuint16_t Pkt_no_last_seen_by_node1 = 0;\nuint16_t Pkt_no_being_sent_by_node0 = 1;\n\nuint32_t capacity = 3;\nuint16_t head = 0;\nuint16_t tail = 0;\nuint16_t globalcounter = 1;\nuint16_t isbufferempty = 1;\nNS_LOG_COMPONENT_DEFINE (\"FinalProject\");\n\n\nuint16_t node1_head = 0;\nuint16_t node1_tail = 0;\nuint16_t node1_globalcounter = 0;\nuint16_t node1_isbufferempty = 1;\n\n\n//----Experiment parameters\n\ndouble distance_between_node0_node2 = 10000; //x-axis distance\ndouble distance_between_node0_node1 = 3; //y-axis distance\n\ndouble duration = 500;\n\n//--------------------Custom header code begin------------//\n\nclass MyHeader : public Header\n{\npublic:\n  // new methods\n  void SetData (uint16_t data);\n  uint16_t GetData (void);\n  void SetPacketType (uint16_t data);\n  uint16_t GetPacketType (void);\n  void Setisbufferempty (uint16_t data);\n  uint16_t Getisbufferempty (void);\n  void Sethead (uint16_t data);\n  uint16_t Gethead (void);\n  void Settail (uint16_t data);\n  uint16_t Gettail (void);\n  void Setglobalcounter (uint16_t data);\n  uint16_t Getglobalcounter (void);\n  // new method needed\n  static TypeId GetTypeId (void);\n  virtual TypeId GetInstanceTypeId (void) const;\n  // overridden from Header\n  virtual uint32_t GetSerializedSize (void) const;\n  virtual void Serialize (Buffer::Iterator start) const;\n  virtual uint32_t Deserialize (Buffer::Iterator start);\n  virtual void Print (std::ostream &os) const;\nprivate:\n  uint16_t m_data;\n  uint16_t m_packettype;\n  uint16_t m_isbufferempty;\n  uint16_t m_head;\n  uint16_t m_tail;\n  uint16_t m_globalcounter;\n};\n\n//Implementation of public members of class MyHeader\nvoid\nMyHeader::SetData (uint16_t data)\n{\n  m_data = data;\n}\n\nuint16_t\nMyHeader::GetData (void)\n{\n  return m_data;\n}\n\nvoid\nMyHeader::SetPacketType (uint16_t data)\n{\n  m_packettype = data;\n}\n\nuint16_t\nMyHeader::GetPacketType (void)\n{\n  return m_packettype;\n}\n\nvoid\nMyHeader::Setisbufferempty (uint16_t data)\n{\n  m_isbufferempty = data;\n}\n\nuint16_t\nMyHeader::Getisbufferempty (void)\n{\n  return m_isbufferempty;\n}\n\nvoid\nMyHeader::Sethead (uint16_t data)\n{\n  m_head = data;\n}\n\nuint16_t\nMyHeader::Gethead (void)\n{\n  return m_head;\n}\n\nvoid\nMyHeader::Settail (uint16_t data)\n{\n  m_tail = data;\n}\n\nuint16_t\nMyHeader::Gettail (void)\n{\n  return m_tail;\n}\n\nvoid\nMyHeader::Setglobalcounter (uint16_t data)\n{\n  m_globalcounter = data;\n}\n\nuint16_t\nMyHeader::Getglobalcounter (void)\n{\n  return m_globalcounter;\n}\n\nuint32_t\nMyHeader::GetSerializedSize (void) const\n{\n // two bytes of data to store\n//  return 2;\n//  return 4;\n    return 12;\n}\n\nvoid\nMyHeader::Serialize (Buffer::Iterator start) const\n{\n  start.WriteHtonU16 (m_data);\n  start.WriteHtonU16 (m_packettype);\n  start.WriteHtonU16 (m_isbufferempty);\n  start.WriteHtonU16 (m_head);\n  start.WriteHtonU16 (m_tail);\n  start.WriteHtonU16 (m_globalcounter);\n}\n\nuint32_t\nMyHeader::Deserialize (Buffer::Iterator start)\n{\n  m_data = start.ReadNtohU16 ();\n  m_packettype = start.ReadNtohU16 ();\n  m_isbufferempty = start.ReadNtohU16 ();\n  m_head = start.ReadNtohU16 ();\n  m_tail = start.ReadNtohU16 ();\n  m_globalcounter = start.ReadNtohU16 ();\n  return 12;\n}\n\nvoid\nMyHeader::Print (std::ostream &os) const\n{\n  os << m_data;\n}\n\nTypeId\nMyHeader::GetTypeId (void)\n{\n  static TypeId tid = TypeId (\"ns3::MyHeader\")\n    .SetParent<Header> ()\n    .AddConstructor<MyHeader> ()\n    ;\n  return tid;\n}\n\nTypeId\nMyHeader::GetInstanceTypeId (void) const\n{\n  return GetTypeId ();\n}\n//--------------------Custom header code end------------//\n\n//This function keeps track of the position of a moving node using (x,y) coordinates\nvoid CourseChangeSink (Ptr<OutputStreamWrapper> stream, std::string context, Ptr<const MobilityModel> model)\n{\n        Vector position = model->GetPosition ();\n        NS_LOG_UNCOND (Simulator::Now ().GetSeconds () <<\n        \" Course change! x = \" << position.x << \", y = \" << position.y);\n        *stream->GetStream () << Simulator::Now ().GetSeconds () << \"\\t\" << position.x << \"\\t\" << position.y << std::endl;\n}\n\n\n//---Higher level code for Node 0 BEGIN\n\nstatic void Node0DataGen ()\n{\n//      NS_LOG_UNCOND(Simulator::Now ().GetSeconds () << \" Node 0 generating data.\");\n        if (isbufferempty == 1)\n        {\n//              NS_LOG_UNCOND(Simulator::Now ().GetSeconds () << \" Node 0 buffer is empty.\");\n                head = globalcounter;\n                tail = globalcounter;\n                isbufferempty = 0;\n        }\n        else\n        {\n//              NS_LOG_UNCOND(Simulator::Now ().GetSeconds () << \" Node 0 buffer is NOT empty.\");\n                if (((head - tail) + 1) >= (signed int)capacity)\n                {\n//                      NS_LOG_UNCOND(Simulator::Now ().GetSeconds () << \" Node 0 buffer is full - must remove elements\");\n                        tail = tail + 1;\n                        head = head + 1;\n                }\n                else\n                {\n//                      NS_LOG_UNCOND(Simulator::Now ().GetSeconds () << \" Node 0 buffer is NOT full.\");\n                        head = head + 1;\n                }\n        }\n        globalcounter = globalcounter + 1;\n        Simulator::Schedule (Seconds(1.00), &Node0DataGen);\n}\n\nstatic void Node0SendPacket (Ptr<Socket> socket, uint32_t pktSize)\n{\n        Ptr<Packet> p = Create<Packet> ();\n        MyHeader XXheader;\n        if (isbufferempty == 0)\n        {\n//             NS_LOG_UNCOND(Simulator::Now ().GetSeconds () << \" Node 0 sending a packet.\");\n               XXheader.SetPacketType (1); // 1 for data\n               XXheader.Setisbufferempty (isbufferempty);  // header fields\n               XXheader.Sethead (head);  // header fields\n               XXheader.Settail (tail);  // header fields\n               XXheader.Setglobalcounter (globalcounter);  // header fields\n               p->AddHeader (XXheader);\n               socket->Send (p);\n        }\n        else\n        {\n//               NS_LOG_UNCOND(Simulator::Now ().GetSeconds () << \" Node 0 has nothing to send.\");\n        }\n        Simulator::Schedule (Seconds(0.25), &Node0SendPacket, socket, pktSize);\n}\n\n\nstatic void Node0ReceivePacket (Ptr<OutputStreamWrapper> stream, Ptr<Socket> socket)\n{\n        NS_LOG_UNCOND(Simulator::Now ().GetSeconds () << \" Node 0 received a packet.\");\n        isbufferempty = 1;\n}\n\n//---Higher level code for node 0 END\n\n\n\n//---Higher level code for node 1 BEGIN\n\n//Advanced declaration\nstatic void Node1SendPacket (Ptr<Socket> socket, uint32_t pktSize);\n\nstatic void Node1AckLoop (Ptr<Socket> socket, Ptr<Socket> socket2, uint32_t pktSize)\n{\n        if (Node1SendAck == 1)\n        {\n                NS_LOG_UNCOND(Simulator::Now ().GetSeconds () << \" Node 1 sending an ACK.\");\n                Node1SendAck = 0;\n                socket->Send (Create<Packet> (pktSize));\n                Node1Pending = 1;\n                Simulator::Schedule (Seconds (0.0001), &Node1SendPacket, socket2, pktSize);\n        }\n        Simulator::Schedule (Seconds(0.01), &Node1AckLoop, socket, socket2, pktSize);\n}\n\nstatic void Node1ReceivePacket (Ptr<OutputStreamWrapper> stream, Ptr<Socket> socket)\n{\n//      NS_LOG_UNCOND(Simulator::Now ().GetSeconds () << \" Node 1 received a packet. UNIFIED receiver.\");\n\n        MyHeader header;\n        uint16_t type_of_packet;\n        Ptr<Packet> packet;\n        packet = socket->Recv();\n        packet->RemoveHeader(header);\n        type_of_packet = header.GetPacketType();\n        Pkt_no_being_sent_by_node0 = header.Getglobalcounter ();\n        if (type_of_packet == 1) //data\n        {\n                if (Pkt_no_last_seen_by_node1 < Pkt_no_being_sent_by_node0)\n                {\n                        NS_LOG_UNCOND(Simulator::Now ().GetSeconds () << \" The packet received by 1 is a *UNIQUE* DATA packet.\");\n                        Pkt_no_last_seen_by_node1 = Pkt_no_being_sent_by_node0;\n                        Pkt_no_being_sent_by_node1 = Pkt_no_last_seen_by_node1;\n                        Node1SendAck = 1;\n                        // strip packet contents and transfer contents to variables\n                        node1_isbufferempty = header.Getisbufferempty ();  // header fields\n                        node1_head = header.Gethead ();  // header fields\n                        node1_tail = header.Gettail ();  // header fields\n                        node1_globalcounter = header.Getglobalcounter ();  // header fields\n                }\n        }\n        else\n        {\n                NS_LOG_UNCOND(Simulator::Now ().GetSeconds () << \" The packet received by 1 is an ACK packet.\");\n                Node1Pending = 0;\n        }\n\n\n}\n\n\nstatic void Node1SendPacket (Ptr<Socket> socket, uint32_t pktSize)\n{\n        Ptr<Packet> p = Create<Packet> ();\n        MyHeader XXheader;\n        if (Node1Pending == 1)\n        {\n//              NS_LOG_UNCOND(Simulator::Now ().GetSeconds () << \"Node 1 sending a packet.\");\n                XXheader.SetPacketType (1); // 1 for data\n                XXheader.Setisbufferempty (node1_isbufferempty);  // header fields\n                XXheader.Sethead (node1_head);  // header fields\n                XXheader.Settail (node1_tail);  // header fields\n                XXheader.Setglobalcounter (node1_globalcounter);  // header fields\n                p->AddHeader (XXheader);\n                socket->Send (p);\n                Simulator::Schedule (Seconds(0.25), &Node1SendPacket, socket, pktSize);\n        }\n}\n\n//---Higher level code for node 1 END\n\n\n//---Higher level code for node 2 BEGIN\n\nstatic void Node2ReceivePacket (Ptr<OutputStreamWrapper> stream, Ptr<Socket> socket)\n{\n        uint16_t receivedpacket_isbufferempty;\n        uint16_t receivedpacket_head;\n        uint16_t receivedpacket_tail;\n        uint16_t receivedpacket_globalcounter;\n        Ptr<Packet> packet;\n        MyHeader header;\n\n        packet = socket->Recv();\n        packet->RemoveHeader(header);\n        receivedpacket_isbufferempty = header.Getisbufferempty();\n        receivedpacket_head = header.Gethead();\n        receivedpacket_tail = header.Gettail();\n        receivedpacket_globalcounter = header.Getglobalcounter();\n\n        if (Pkt_no_last_seen_by_node2 < receivedpacket_globalcounter)\n        {\n                Pkt_no_last_seen_by_node2 = receivedpacket_globalcounter;\n                NS_LOG_UNCOND(Simulator::Now ().GetSeconds () << \" Node 2 received a packet.\");\n                std::cout << \"*------------*\" <<  std::endl;\n                std::cout << \"The value of *isbufferempty* is \" << receivedpacket_isbufferempty << std::endl;\n                std::cout << \"The value of *head* is \" << receivedpacket_head << std::endl;\n                std::cout << \"The value of *tail* is \" << receivedpacket_tail << std::endl;\n                std::cout << \"The value of *globalcounter* is \" << receivedpacket_globalcounter << std::endl;\n                std::cout << \"*------------*\" <<  std::endl;\n                Node2SendAck = 1;\n        }\n}\n\nstatic void Node2AckLoop (Ptr<Socket> socket, uint32_t pktSize)\n{\n        Ptr<Packet> p = Create<Packet> ();\n        MyHeader XXheader;\n        if (Node2SendAck == 1)\n        {\n//              Pkt_no_last_seen_by_node2 = Pkt_no_being_sent_by_node1;\n                NS_LOG_UNCOND(Simulator::Now ().GetSeconds () << \" Node 2 sending an ACK.\");\n                Node2SendAck = 0;\n                XXheader.SetPacketType (0); // 0 for ack\n                p->AddHeader (XXheader);\n                socket->Send (p);\n        }\n        Simulator::Schedule (Seconds(0.01), &Node2AckLoop, socket, pktSize);\n}\n\n//---Higher level code for node 2 END\n\n\n//This is the main function\nint main (int argc, char *argv[])\n{\n\n        double txp = 1.5; //transmission power dB\n        std::string phyMode (\"DsssRate1Mbps\");\n\n        //Set Non-unicastMode rate to unicast mode\n        Config::SetDefault (\"ns3::WifiRemoteStationManager::NonUnicastMode\",StringValue (phyMode));\n\n        // 1. Create the nodes\n        NodeContainer adhocNodes;\n        adhocNodes.Create(3);  //All 3 nodes are members of adhocNodes\n        NodeContainer mobileNode = NodeContainer (adhocNodes.Get(1)); //Node 1 is defined as the mobileNode (i.e., the bus)\n        NodeContainer stationaryNodes = NodeContainer (adhocNodes.Get(0), adhocNodes.Get(2)); //Node 0 and Node 2 are defined as stationaryNodes (i.e., the villages)\n\n        // 2. Set up physical layer\n        WifiHelper wifi;\n        wifi.SetStandard (WIFI_PHY_STANDARD_80211b); //Use 802.11 standard\n        YansWifiPhyHelper wifiPhy =  YansWifiPhyHelper::Default ();\n        wifiPhy.Set (\"RxGain\", DoubleValue (-10) ); //Set up the gain at the receiver (in dB)\n\n        // 3. Set up propagation loss model\n        YansWifiChannelHelper wifiChannel;\n\n\n        std::string lossModel = \"ns3::RangePropagationLossModel\"; //Range propagation loss model\n        std::string atr1 = \"MaxRange\";\n        wifiChannel.AddPropagationLoss (lossModel, atr1, DoubleValue(200)); // maximum transmission range = 200 m\n\n        wifiChannel.SetPropagationDelay (\"ns3::ConstantSpeedPropagationDelayModel\"); //set up the propagation delay model\n        wifiPhy.SetChannel (wifiChannel.Create ());\n\n        wifiPhy.Set (\"TxPowerStart\",DoubleValue (txp)); //set up the transmission power\n        wifiPhy.Set (\"TxPowerEnd\", DoubleValue (txp));\n\n\n        // 4. Set up MAC layer and install wireless devices\n        NqosWifiMacHelper wifiMac = NqosWifiMacHelper::Default ();\n        wifi.SetRemoteStationManager (\"ns3::ConstantRateWifiManager\",\n                                      \"DataMode\",StringValue (\"DsssRate2Mbps\"),\n                                      \"ControlMode\",StringValue (\"DsssRate1Mbps\"));\n        wifiMac.SetType (\"ns3::AdhocWifiMac\"); //Set MAC to ad hoc mode\n        NetDeviceContainer devices = wifi.Install (wifiPhy, wifiMac, adhocNodes);\n\n        // 5. Set up mobility model for Node 1\n        MobilityHelper mobilityMobileNode;\n\n        Ptr<ListPositionAllocator> positionAllocMobileNode = CreateObject<ListPositionAllocator> ();\n        positionAllocMobileNode->Add (Vector (0.0, distance_between_node0_node1, 0.0)); //3D coordinates (x,y,z). Use only the x-y plane\n        mobilityMobileNode.SetPositionAllocator (positionAllocMobileNode);\n\n        mobilityMobileNode.Install (mobileNode);\n\n\n        // 6. Connect trace source to trace sink for Node 1\n        std::ostringstream oss;\n        oss <<\n        \"/NodeList/\" << mobileNode.Get (0)->GetId () <<\n        \"/$ns3::MobilityModel/CourseChange\";\n\n        AsciiTraceHelper asciiTraceHelper;\n        Ptr<OutputStreamWrapper> locationStream = asciiTraceHelper.CreateFileStream (\"Location.txt\");\n\n        Config::Connect (oss.str (), MakeBoundCallback (&CourseChangeSink, locationStream));\n\n        // 7. Assign positions to Node 0 and Node 2\n        MobilityHelper mobilityStaNodes;\n        mobilityStaNodes.SetMobilityModel (\"ns3::ConstantPositionMobilityModel\");\n        Ptr<ListPositionAllocator> positionAllocStaNodes = CreateObject<ListPositionAllocator> ();\n        positionAllocStaNodes->Add (Vector (0.0, 0.0, 0.0)); //3D coordinates (x,y,z). Use only the x-y plane\n        positionAllocStaNodes->Add (Vector (distance_between_node0_node2, 0.0, 0.0)); //3D coordinates (x,y,z). Use only the x-y plane\n        mobilityStaNodes.SetPositionAllocator(positionAllocStaNodes);\n        mobilityStaNodes.Install (stationaryNodes);\n\n        // 8. Set up  the routing protocol (AODV)\n        AodvHelper aodv;\n        Ipv4ListRoutingHelper list;\n        InternetStackHelper internet;\n        aodv.Set(\"EnableHello\", BooleanValue(false));\n        aodv.Set(\"GratuitousReply\", BooleanValue(false));\n        aodv.Set(\"ActiveRouteTimeout\", ns3::TimeValue(Seconds(600)));\n        list.Add (aodv, 100);\n\n        internet.SetRoutingHelper (list);\n        internet.Install (adhocNodes);\n\n        // 9. Assign IP addresses to nodes\n        Ipv4AddressHelper address;\n        address.SetBase (\"10.1.1.0\", \"255.255.255.0\");\n        Ipv4InterfaceContainer interfaces;\n        interfaces = address.Assign (devices);\n\n        // 10. Receive sides here; we connect the receiving sockets of each node to their respective callbacks\n        // These callbacks basically define what the node does next upon receiving a packet\n\n        //---node 0's receive side BEGIN\n        TypeId tid0 = TypeId::LookupByName (\"ns3::UdpSocketFactory\");\n        Ptr<Socket> Node0Recv = Socket::CreateSocket (adhocNodes.Get (0), tid0);\n        InetSocketAddress local0 = InetSocketAddress (Ipv4Address::GetAny (), 9);\n        Node0Recv->Bind (local0);\n        Ptr<OutputStreamWrapper> Node0rcvdStream = asciiTraceHelper.CreateFileStream (\"Node0_Rcvd.txt\");\n        Node0Recv->SetRecvCallback (MakeBoundCallback (&Node0ReceivePacket, Node0rcvdStream));\n        //---node 0's receive side END\n\n        //---node 1's receive side BEGIN\n        TypeId tid1 = TypeId::LookupByName (\"ns3::UdpSocketFactory\");\n        Ptr<Socket> Node1Recv = Socket::CreateSocket (adhocNodes.Get (1), tid1);\n        InetSocketAddress local1 = InetSocketAddress (Ipv4Address::GetAny (), 9);\n        Node1Recv->Bind (local1);\n        Ptr<OutputStreamWrapper> Node1rcvdStream = asciiTraceHelper.CreateFileStream (\"Node1_Rcvd.txt\");\n        Node1Recv->SetRecvCallback (MakeBoundCallback (&Node1ReceivePacket, Node1rcvdStream));\n        //---node 1's receive side  END\n\n        //---node 2's receive side BEGIN\n        TypeId tid2 = TypeId::LookupByName (\"ns3::UdpSocketFactory\");\n        Ptr<Socket> Node2Recv = Socket::CreateSocket (adhocNodes.Get (2), tid2);\n        InetSocketAddress local2 = InetSocketAddress (Ipv4Address::GetAny (), 9);\n        Node2Recv->Bind (local2);\n        Ptr<OutputStreamWrapper> Node2rcvdStream = asciiTraceHelper.CreateFileStream (\"Node2_Rcvd.txt\");\n        Node2Recv->SetRecvCallback (MakeBoundCallback (&Node2ReceivePacket, Node2rcvdStream));\n        //---node 2's receive side END\n\n\n        // 11. Generate traffic\n        uint32_t packetSize = 200; //bytes\n\n    //Start the node 0 ---> node 1 connection\n    //fire up Node0SendPacket\n        Ptr<Socket> source = Socket::CreateSocket (adhocNodes.Get (0), tid0);\n        InetSocketAddress SocketAddressof1 = InetSocketAddress (interfaces.GetAddress (1, 0), 9);\n        source->Connect (SocketAddressof1);\n        Node0Pending = 1;\n        Simulator::Schedule (Seconds (0.0001), &Node0SendPacket, source, packetSize);\n\n    //Start node 1's ACK loop (node 1 ---> node 0, socket 9)\n    //We define the node 1---> node 2 connection here as well (socket 9)\n    //We need 2 sockets: the first one is used by Node 1 to send ACKs to Node 0\n    //The second one is used by Node 1 the send the packet to Node 2\n    //Fire up Node1AckLoop\n        Ptr<Socket> sourceSocketforNode1 = Socket::CreateSocket (adhocNodes.Get (1), tid1);\n        InetSocketAddress SocketAddressof0 = InetSocketAddress (interfaces.GetAddress (0, 0), 9);\n        sourceSocketforNode1->Connect (SocketAddressof0);\n\n        Ptr<Socket> sourceSocketforNode1SECOND = Socket::CreateSocket (adhocNodes.Get (1), tid1);\n        InetSocketAddress SocketAddressof2 = InetSocketAddress (interfaces.GetAddress (2, 0), 9);\n        sourceSocketforNode1SECOND->Connect (SocketAddressof2);\n\n        Simulator::Schedule (Seconds (0.0001), &Node1AckLoop, sourceSocketforNode1, sourceSocketforNode1SECOND, packetSize);\n\n    //Start node 2's ACK loop (node 2---> node 1, socket 9)\n    //Fire up Node2AckLoop\n        Ptr<Socket> sourceSocketforNode2 = Socket::CreateSocket (adhocNodes.Get (2), tid2);\n        sourceSocketforNode2->Connect (SocketAddressof1);\n        Simulator::Schedule (Seconds (0.0001), &Node2AckLoop, sourceSocketforNode2, packetSize);\n\n//        wifiPhy.EnableAsciiAll(asciiTraceHelper.CreateFileStream (\"PacketsContent.txt\"));\n\n        Simulator::Schedule (Seconds(0.0001), &Node0DataGen);\n\n        // 12. Run the simulation\n        Simulator::Stop (Seconds (duration));\n        Simulator::Run ();\n        Simulator::Destroy ();\n\n        return 0;\n}\nError:\n./scratch/code.cc: In function ‘int main(int, char**)’:\n../scratch/code.cc:462:9: error: ‘NqosWifiMacHelper’ was not declared\nin this scope   462 |         NqosWifiMacHelper wifiMac =\nNqosWifiMacHelper::Default ();\n|         ^~~~~~~~~~~~~~~~~ ../scratch/code.cc:466:9: error: ‘wifiMac’ was not declared in this scope   466 |\nwifiMac.SetType (\"ns3::AdhocWifiMac\"); //Set MAC to ad hoc mode\n|         ^~~~~~~",
    "answer": "The compiler is complaining that it can't find a definition of NqosWifiMacHelper. Normally, this would be solved by adding\n#include \"ns3/nqos-wifi-mac-helper.h\"\nto your script, but there is a larger problem.\nNqosWifiMacHelper was\ndeprecated\n, and subsequently\nremoved\n. It appears that the last version that supported it was\nns-3.27\n. I recommend using a different device helper since this one has been removed.\nIf you still want to use NqosWifiMacHelper, you can try to port it to the version of ns-3 you're using, or you can checkout the older version."
  },
  {
    "url": "https://stackoverflow.com/questions/64625165/extract-the-information-regarding-rts-cts-and-ack-from-xml-file-generated-with",
    "title": "Extract the information regarding rts, cts and ack from xml file generated with flow monitor in ns3",
    "question": "While doing network simulation using ns-3 for IEEE802.11, there is a pcap file generated. I am able to filter all the information regarding rts, cts and ack from that pcap file using WireShark. But I need to extract the same information using flow monitor module (from the XML file generated). But I couldn't find any way for that. Is it possible to get that info using flow monitor or not?\nMy code is similar to the file ns-allinone-3.31/ns-3.31/examples/wireless/wifi-tcp.cc but enabled rts/cts and added flow monitor.\n#include \"ns3/command-line.h\"\n#include \"ns3/config.h\"\n#include \"ns3/string.h\"\n#include \"ns3/log.h\"\n#include \"ns3/yans-wifi-helper.h\"\n#include \"ns3/ssid.h\"\n#include \"ns3/mobility-helper.h\"\n#include \"ns3/on-off-helper.h\"\n#include \"ns3/yans-wifi-channel.h\"\n#include \"ns3/mobility-model.h\"\n#include \"ns3/packet-sink.h\"\n#include \"ns3/packet-sink-helper.h\"\n#include \"ns3/tcp-westwood.h\"\n#include \"ns3/internet-stack-helper.h\"\n#include \"ns3/ipv4-address-helper.h\"\n#include \"ns3/ipv4-global-routing-helper.h\"\n#include \"ns3/flow-monitor.h\"\n#include \"ns3/flow-monitor-module.h\"\n\n\nNS_LOG_COMPONENT_DEFINE (\"wifi-tcp\");\n\nusing namespace ns3;\n\nPtr<PacketSink> sink;                         /* Pointer to the packet sink application */\nuint64_t lastTotalRx = 0;                     /* The value of the last total received bytes */\n\nvoid\nCalculateThroughput ()\n{\n  Time now = Simulator::Now ();                                         /* Return the simulator's virtual time. */\n  double cur = (sink->GetTotalRx () - lastTotalRx) * (double) 8 / 1e5;     /* Convert Application RX Packets to MBits. */\n  std::cout << now.GetSeconds () << \"s: \\t\" << cur << \" Mbit/s\" << std::endl;\n  lastTotalRx = sink->GetTotalRx ();\n  Simulator::Schedule (MilliSeconds (100), &CalculateThroughput);\n}\n\nint\nmain (int argc, char *argv[])\n{\n  uint32_t payloadSize = 1472;                       /* Transport layer payload size in bytes. */\n  std::string dataRate = \"100Mbps\";                  /* Application layer datarate. */\n  std::string tcpVariant = \"TcpNewReno\";             /* TCP variant type. */\n  std::string phyRate = \"HtMcs7\";                    /* Physical layer bitrate. */\n  double simulationTime = 10;                        /* Simulation time in seconds. */\n  bool pcapTracing = true;                          /* PCAP Tracing is enabled or not. */\n\n  /* Command line argument parser setup. */\n  CommandLine cmd (__FILE__);\n  cmd.AddValue (\"payloadSize\", \"Payload size in bytes\", payloadSize);\n  cmd.AddValue (\"dataRate\", \"Application data ate\", dataRate);\n  cmd.AddValue (\"tcpVariant\", \"Transport protocol to use: TcpNewReno, \"\n                \"TcpHybla, TcpHighSpeed, TcpHtcp, TcpVegas, TcpScalable, TcpVeno, \"\n                \"TcpBic, TcpYeah, TcpIllinois, TcpWestwood, TcpWestwoodPlus, TcpLedbat \", tcpVariant);\n  cmd.AddValue (\"phyRate\", \"Physical layer bitrate\", phyRate);\n  cmd.AddValue (\"simulationTime\", \"Simulation time in seconds\", simulationTime);\n  cmd.AddValue (\"pcap\", \"Enable/disable PCAP Tracing\", pcapTracing);\n  cmd.Parse (argc, argv);\n\n  tcpVariant = std::string (\"ns3::\") + tcpVariant;\n  // Select TCP variant\n  if (tcpVariant.compare (\"ns3::TcpWestwoodPlus\") == 0)\n    {\n      // TcpWestwoodPlus is not an actual TypeId name; we need TcpWestwood here\n      Config::SetDefault (\"ns3::TcpL4Protocol::SocketType\", TypeIdValue (TcpWestwood::GetTypeId ()));\n      // the default protocol type in ns3::TcpWestwood is WESTWOOD\n      Config::SetDefault (\"ns3::TcpWestwood::ProtocolType\", EnumValue (TcpWestwood::WESTWOODPLUS));\n    }\n  else\n    {\n      TypeId tcpTid;\n      NS_ABORT_MSG_UNLESS (TypeId::LookupByNameFailSafe (tcpVariant, &tcpTid), \"TypeId \" << tcpVariant << \" not found\");\n      Config::SetDefault (\"ns3::TcpL4Protocol::SocketType\", TypeIdValue (TypeId::LookupByName (tcpVariant)));\n    }\n\n  /* Configure TCP Options */\n  std::string RtsCtsThreshold=\"256\";\n  std::string FragmentationThreshold=\"1000\";\n  Config::SetDefault(\"ns3::WifiRemoteStationManager::RtsCtsThreshold\",StringValue(RtsCtsThreshold));\n  Config::SetDefault(\"ns3::WifiRemoteStationManager::FragmentationThreshold\",StringValue(FragmentationThreshold));\n\n  Config::SetDefault (\"ns3::TcpSocket::SegmentSize\", UintegerValue (payloadSize));\n\n  WifiMacHelper wifiMac;\n  WifiHelper wifiHelper;\n  wifiHelper.SetStandard (WIFI_PHY_STANDARD_80211n_5GHZ);\n\n  /* Set up Legacy Channel */\n  YansWifiChannelHelper wifiChannel;\n  wifiChannel.SetPropagationDelay (\"ns3::ConstantSpeedPropagationDelayModel\");\n  wifiChannel.AddPropagationLoss (\"ns3::FriisPropagationLossModel\", \"Frequency\", DoubleValue (5e9));\n\n  /* Setup Physical Layer */\n  YansWifiPhyHelper wifiPhy = YansWifiPhyHelper::Default ();\n  wifiPhy.SetChannel (wifiChannel.Create ());\n  wifiPhy.SetErrorRateModel (\"ns3::YansErrorRateModel\");\n  wifiHelper.SetRemoteStationManager (\"ns3::ConstantRateWifiManager\",\n                                      \"DataMode\", StringValue (phyRate),\n                                      \"ControlMode\", StringValue (\"HtMcs0\"));\n\n  NodeContainer networkNodes;\n  networkNodes.Create (2);\n  Ptr<Node> apWifiNode = networkNodes.Get (0);\n  Ptr<Node> staWifiNode = networkNodes.Get (1);\n\n  /* Configure AP */\n  Ssid ssid = Ssid (\"network\");\n  wifiMac.SetType (\"ns3::ApWifiMac\",\n                   \"Ssid\", SsidValue (ssid));\n\n  NetDeviceContainer apDevice;\n  apDevice = wifiHelper.Install (wifiPhy, wifiMac, apWifiNode);\n\n  /* Configure STA */\n  wifiMac.SetType (\"ns3::StaWifiMac\",\n                   \"Ssid\", SsidValue (ssid));\n\n  NetDeviceContainer staDevices;\n  staDevices = wifiHelper.Install (wifiPhy, wifiMac, staWifiNode);\n\n  /* Mobility model */\n  MobilityHelper mobility;\n  Ptr<ListPositionAllocator> positionAlloc = CreateObject<ListPositionAllocator> ();\n  positionAlloc->Add (Vector (0.0, 0.0, 0.0));\n  positionAlloc->Add (Vector (1.0, 1.0, 0.0));\n\n  mobility.SetPositionAllocator (positionAlloc);\n  mobility.SetMobilityModel (\"ns3::ConstantPositionMobilityModel\");\n  mobility.Install (apWifiNode);\n  mobility.Install (staWifiNode);\n\n  /* Internet stack */\n  InternetStackHelper stack;\n  stack.Install (networkNodes);\n\n  Ipv4AddressHelper address;\n  address.SetBase (\"10.0.0.0\", \"255.255.255.0\");\n  Ipv4InterfaceContainer apInterface;\n  apInterface = address.Assign (apDevice);\n  Ipv4InterfaceContainer staInterface;\n  staInterface = address.Assign (staDevices);\n\n  /* Populate routing table */\n  Ipv4GlobalRoutingHelper::PopulateRoutingTables ();\n\n  /* Install TCP Receiver on the access point */\n  PacketSinkHelper sinkHelper (\"ns3::TcpSocketFactory\", InetSocketAddress (Ipv4Address::GetAny (), 9));\n  ApplicationContainer sinkApp = sinkHelper.Install (apWifiNode);\n  sink = StaticCast<PacketSink> (sinkApp.Get (0));\n\n  /* Install TCP/UDP Transmitter on the station */\n  OnOffHelper server (\"ns3::TcpSocketFactory\", (InetSocketAddress (apInterface.GetAddress (0), 9)));\n  server.SetAttribute (\"PacketSize\", UintegerValue (payloadSize));\n  server.SetAttribute (\"OnTime\", StringValue (\"ns3::ConstantRandomVariable[Constant=1]\"));\n  server.SetAttribute (\"OffTime\", StringValue (\"ns3::ConstantRandomVariable[Constant=0]\"));\n  server.SetAttribute (\"DataRate\", DataRateValue (DataRate (dataRate)));\n  ApplicationContainer serverApp = server.Install (staWifiNode);\n\n  // Flow monitor\n  Ptr<FlowMonitor> flowMonitor;\n  FlowMonitorHelper flowHelper;\n  flowMonitor = flowHelper.InstallAll();\n\n  /* Start Applications */\n  sinkApp.Start (Seconds (0.0));\n  serverApp.Start (Seconds (1.0));\n  Simulator::Schedule (Seconds (1.1), &CalculateThroughput);\n\n  /* Enable Traces */\n  if (pcapTracing)\n    {\n      wifiPhy.SetPcapDataLinkType (WifiPhyHelper::DLT_IEEE802_11_RADIO);\n      wifiPhy.EnablePcap (\"AccessPoint\", apDevice);\n      wifiPhy.EnablePcap (\"Station\", staDevices);\n    }\n\n  /* Start Simulation */\n  Simulator::Stop (Seconds (simulationTime + 1));\n  Simulator::Run ();\n\n  flowMonitor->SerializeToXmlFile(\"1.xml\", true, true);\n\n  double averageThroughput = ((sink->GetTotalRx () * 8) / (1e6 * simulationTime));\n\n  Simulator::Destroy ();\n\n  if (averageThroughput < 50)\n    {\n      NS_LOG_ERROR (\"Obtained throughput is not in the expected boundaries!\");\n      exit (1);\n    }\n  std::cout << \"\\nAverage throughput: \" << averageThroughput << \" Mbit/s\" << std::endl;\n  return 0;\n}\nThanks in advance :)",
    "answer": "802.11 pcaps that include control frames (rts/cts/ack) are link layer.\nFlow monitor is meant for transport layer, so you can't really get that data with it.\nYou can use wireshark/tshark to extract the data you want from the pcaps. Or maybe try pyshark to do it from a python script."
  },
  {
    "url": "https://stackoverflow.com/questions/64301600/m-m-1-queue-implemenation-using-ns3",
    "title": "M/M/1 queue implemenation using NS3",
    "question": "How to implement the M/M/1 queue model using NS3. I need it for the p2p simulation. Any reference or source code would also work. Or are there any other simulators to model M/M/1 queues?",
    "answer": "There is no M/M/1 queue example in the ns-3 mainline, but I have written one as a course lab exercise.  See section IV of Lab 1 at\nhttps://depts.washington.edu/funlab/resources/ee-595-wireless-networks-for-4g5g/\n.  The code corresponding to this is at\nhttps://gitlab.com/tomhenderson/ns-3-ee-595\n(checkout the 'course' branch)."
  },
  {
    "url": "https://stackoverflow.com/questions/64223309/maximum-number-of-nodes-in-ns-3",
    "title": "Maximum number of nodes in NS-3",
    "question": "What is the maximum limit of nodes in the most recent version of\nNS-3\n? I have found in some (older) sources saying that the\nmaximum limit of 6000 nodes\n. Is this still the case? If so, what is the main reason not allowing to increase this limit?",
    "answer": "There is no limit such as the 6000 that you cite.  The practical limit is based on how much memory you have in your simulation server.  Even then, the limit can be extended by the use of distributed (parallel) simulation if the simulation scenario allows it.  The largest ns-3 simulations on a supercomputer approached a network size of one billion nodes (see\nhttps://dl.acm.org/doi/abs/10.1145/2756509.2756525\n)."
  },
  {
    "url": "https://stackoverflow.com/questions/64066721/an-error-occurred-when-executing-randomwalk2dmobility-in-ns3",
    "title": "An error occurred when executing Randomwalk2dmobility in NS3",
    "question": "I am a newbie to NS3. I want to understand the execution status of handover in the Randomwalk2d module and visualize it. The default is two Ue and two enb, but errors will always occur during execution. Can anyone help me solve the problem?\nThis is my code link:\nhttps://drive.google.com/file/d/163NQOyvs0bTh2J4P9_vpS4Y7iqocB3HJ/view?usp=sharing\nWhen I execute the command :\n./waf --run scratch/lte_handover --visualize\n, the following error  appear\n../scratch/lte_handover.cc:In funtion 'int main(int, char**)':\n../scratch/lte_handover.cc:296:78: error: expected ')' before ';' token\n\"Bounds\",RectangleValue (Rectangle (0,2000,0,2000)));\n^\nBuild failed\n->task in 'lte_handover' failed with exit status 1 (run with -v to display more information)\nFollow the instructions to enter the command :\n./waf --run scratch/lte_handover -v\n, and the following information appears\nSeveral tasks use the same identifier. Please check the information on\nhttps://waf.io/apidocs/Task.html?highlight=uid#waflib.Task.Task.uid\nobject 'SuidBuild_task'(\n{task 139759060979784: SuidBuild_task  -> }) defined in 'tap-creator'\nobject 'SuidBuild_task'(\n{task 139759060980008: SuidBuild_task  -> }) defined in 'tap-creator'\nobject 'SuidBuild_task'(\n{task 139759065638504: SuidBuild_task  -> }) defined in 'tap-creator'",
    "answer": "Seems that you have an extra\n)\nin that line above. You are not closing this command as you commented all the lines\nueMobility.SetPositionAllocator (\"ns3::RandomRectanglePositionAllocator\",  // <-- close\nueMobility.SetMobilityModel (\"ns3::RandomWalk2dMobilityModel\",\"Bounds\", RectangleValue (Rectangle (0,2000,0,2000)));"
  },
  {
    "url": "https://stackoverflow.com/questions/63923274/sumo-tracefile-mobility-with-ns3",
    "title": "SUMO tracefile mobility with ns3",
    "question": "I'm trying to include a SUMO generated mobility (I generated the file mobility.tcl) into ns3 but it doesn't work and I got this error\ncond=\"!(0 != model)\", msg=\"node 0 does not have a MobilityModel\", file=../src/buildings/helper/buildings-helper.cc, line=53\nPs: I have followed ns2-mobility-trace.cc  and\nhttps://www.opensourceforu.com/2017/11/tracing-vehicular-mobility-ns-3/\nCan you help me, please",
    "answer": "Please see NS-3 mobility models docs for how to install the custom models\nhttps://www.nsnam.org/docs/models/html/mobility.html#ns-2-mobilityhelper"
  },
  {
    "url": "https://stackoverflow.com/questions/63890360/how-i-run-the-following-ns3-project-form-github",
    "title": "How I run the following Ns3 project form GitHub",
    "question": "I need to where put folers ,files in ns3 of the following project from github step by step to run it.\nhttps://github.com/gdbranco/RA5G_NS3",
    "answer": "This is a fork of my fork. You need CMake to configure it and build (waf probably won't work correctly as this was very early on CMake support development and I've changed a ton of files).\nInstructions are available here:\nhttps://gabrielcarvfer.github.io/NS3/installation\nNot sure what you want from it specifically, but feel free to reach out to Guilherme. He's awesome."
  },
  {
    "url": "https://stackoverflow.com/questions/63848816/ns3-cant-run-vanet-routing-compare-cc",
    "title": "NS3_Can't run vanet-routing-compare.cc",
    "question": "I'm new to NS3. I studied\nvanet-routing-compair.cc\nscript. I tried to run it by these commands (vanet-routing-compare.cc is in scratch folder).\n./waf --run scratch/vanet-routing-compare\n    ./waf --run \"vanet-routing-compare --scenario=1 --saveconfig=scenario1.txt\"\nBut I'm getting confused with the results. I get following error messages.\nmsg=\"Could not connect callback to /NodeList/*/DeviceList/*/ns3::WifiNetDevice/Phy/PhyTxDrop\", file=../src/core/model/config.cc, line=920 terminate called without an active exception\n\nCommand ['/home/azra/Desktop/ns-allinone-3.31/ns-3.31/build/scratch/vanet-routing-compare'] terminated with signal SIGIOT. Run it under a debugger to get more information (./waf --run <program> --gdb\").\nAnd by using the gdb debugger, I see this message.\nThe program being debugged has been started already.\nStart it from the beginning? (y or n) y\nStarting program: /home/azra/Desktop/ns-allinone-3.31/ns-3.31/build/scratch/vanet-routing-    compare --scenario=1 --saveconfig=scenario1.txt\n[Thread debugging using libthread_db enabled]\nUsing host libthread_db library \"/lib/x86_64-linux-gnu/libthread_db.so.1\".\nmsg=\"Could not connect callback to /NodeList/*/DeviceList/*/ns3::WifiNetDevice /Phy/PhyTxDrop\", file=../src/core/model/config.cc, line=920\nterminate called without an active exception\n\nProgram received signal SIGABRT, Aborted.\n__GI_raise (sig=sig@entry=6) at ../sysdeps/unix/sysv/linux/raise.c:51\n51 }\nI appreciate who can help me understand why this is happening and how I can solve it.",
    "answer": "I got the same error in version 3.31, but the version 3.30 is ok. Maybe you can also try version 3.30."
  },
  {
    "url": "https://stackoverflow.com/questions/63348078/plotting-graph-from-text-file-using-r",
    "title": "Plotting graph from Text file using R",
    "question": "I am using an NS3 based simulator called NDNsim. I can generate certain trace files that can be used to analyze performance, etc. However I need to visualize the data generated.\nI am a complete Novice with R, and would like a way to visualize. Here is how the\noutput looks\nfrom which I would to plot. Any help is appreciated.",
    "answer": "It's pretty difficult to know what you're looking for, since you have almost 50,000 measurements across 9 variables. Here's one way of getting a lot of that information on the screen:\ndf <- read.table(paste0(\"https://gist.githubusercontent.com/wuodland/\",\n                        \"9b2c76650ea37459f869c59d5f5f76ea/raw/\",\n                        \"6131919c105c95f8ba6967457663b9c37779756a/rate.txt\"),\n                 header = TRUE)\n\nlibrary(ggplot2)\n\nggplot(df, aes(x = Time, y = Kilobytes, color = Type)) + \n  geom_line() + \n  facet_wrap(~FaceDescr)"
  },
  {
    "url": "https://stackoverflow.com/questions/63115329/building-quic-protocol-on-ns-3",
    "title": "Building Quic protocol on ns-3",
    "question": "I am new to using ns-3. I want to test a certain self-contained implementation of the quic protocol available on github. How can I integrate the code with ns-3 for testing under different conditions?",
    "answer": "It's difficult to say given that you haven't linked the implementation, but if it's something standard like\nthis implementation\n, then just follow the instructions in the README.\nThe steps essentially amount to adding the TCP implementation to\n./ns-3-dev/src\n, and then telling waf about the existence of those files by adding them to the corresponding wscript file."
  },
  {
    "url": "https://stackoverflow.com/questions/62756037/ns3-how-to-get-the-following-attributes-of-node",
    "title": "NS3 how to get the following attributes of node",
    "question": "I am new to\nNS3\n. I am trying to get these parameters from a node can someone please help me to get these parameters?\n1 Computing Power\n2 Numbers of Transactions\n3 Energy Consumed for One Transaction\n4 Node Latency\n5 Bandwidth\n6 Residual Energy",
    "answer": "All the available class methods are laid out in the\nNS-3 Docs"
  },
  {
    "url": "https://stackoverflow.com/questions/62649493/how-to-drop-specific-packet-captured-in-ns-3-mesh-node",
    "title": "How to drop specific packet captured in NS-3 mesh node?",
    "question": "I'm using NS-3 v3.28.1 to simulation a WiFi Mesh network. The grid topology (actually only one line, with IEEE 802.11s stack installed at each node, HWMP protocol) contains 3 WiFi Mesh nodes,\nNode0\n,\nNode1\nand\nNode2\n. Then I bind a UDP socket (acting as\nreceiver\n) in\nNode0\n, and another (acting as\nsender\n) in\nNode2\n.\nNode2\nsend a UDP packet to\nNode0\nthrough\nNode1\nevery 10ms. The topology as follow:\nNode0\n(\nreceiver\n)   <---\nNode1\n<----\nNode2\n(\nsender\n)\n10.1.1.1/24\n10.1.1.2/24\n10.1.1.3/24\nThen I set a MonitorSnifferRx function on\nNode1\nto listen udp packets sent from\nNode2\nto\nNode0\nusing\nConfig::ConnectWithoutContext\n:\nConfig::ConnectWithoutContext (\"/NodeList/1/DeviceList/*/Phy/MonitorSnifferRx\", MakeCallback (&DecodeRxPktCB));\nIn\nNode1\ncallback function DecodeRxPktCB, I can decode the udp packet sent from\nNode2\nto\nNode0\n.\nMy question is\n:\nwhen a specific UDP packet captured (with content match some rules) in\nNode1\n's MonitorSnifferRx callback function, how can I drop it thus it will not transfer to\nNode0\n?  I see that the first parameter in MonitorSnifferRx callback function is \"Ptr<\nconst\nPacket > packet\", with const value only can read.",
    "answer": "You can use the\nNS-3 Packet\nclass to grab the information you need and filter it.\nIf you can, I'd recommend adding a packet tag (or ByteTag) on the sender, making it easier for your middle node to filter it. Packet tag details are also on the link above."
  },
  {
    "url": "https://stackoverflow.com/questions/62543669/how-to-set-node-position-in-netanim-i-always-get-use-setconstantposition-if-it",
    "title": "How to set node position in NetAnim? I always get Use SetConstantPosition if it is stationary error",
    "question": "I am new to ns-3. I am trying to understand from the very basic. I created a network simulation containing two switches, then I want to visualize it using NetAnim.\nFollowings are my code\n/* -*- Mode:C++; c-file-style:\"gnu\"; indent-tabs-mode:nil; -*- */\n/*\n * This program is free software; you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 2 as\n * published by the Free Software Foundation;\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA\n */\n\n#include \"ns3/core-module.h\"\n#include \"ns3/point-to-point-module.h\"\n#include \"ns3/network-module.h\"\n#include \"ns3/applications-module.h\"\n#include \"ns3/mobility-module.h\"\n#include \"ns3/csma-module.h\"\n#include \"ns3/internet-module.h\"\n#include \"ns3/yans-wifi-helper.h\"\n#include \"ns3/ssid.h\"\n#include \"ns3/netanim-module.h\"\n#include \"stdio.h\"\n\nusing namespace ns3;\n\nNS_LOG_COMPONENT_DEFINE (\"HMTMRSim\");\n\nint \nmain (int argc, char *argv[])\n{\n\n  std::cout << \"create switches\" << std::endl;\n  NodeContainer switches;\n  switches.Create(2); // create two switches\n\n  AnimationInterface anim(\"myanim.xml\");\n\n  std::cout << \"set position for switches\" << std::endl;\n\n  anim.SetConstantPosition(switches.Get(0), 48.0, 70.0, 0);\n  anim.SetConstantPosition(switches.Get(1), 48.0, 90.0, 0);\n\n  anim.UpdateNodeDescription(0, \"Main\");\n  anim.UpdateNodeDescription(1, \"Rack0\");\n\n  anim.UpdateNodeSize(0, 10, 10);\n  anim.UpdateNodeColor(0, 0, 0, 255);\n  Simulator::Run ();\n  Simulator::Destroy ();\n  return 0;\n}\nWhen I run it, it works without problem, but I get this warning\nWaf: Leaving directory `/Users/arwankhoiruddin/Downloads/ns-allinone-3.30.1/ns-3.30.1/build'\nBuild commands will be stored in build/compile_commands.json\n'build' finished successfully (18.508s)\ncreate switches\nAnimationInterface WARNING:Node:0 Does not have a mobility model. Use SetConstantPosition if it is stationary\nAnimationInterface WARNING:Node:1 Does not have a mobility model. Use SetConstantPosition if it is stationary\nAnimationInterface WARNING:Node:0 Does not have a mobility model. Use SetConstantPosition if it is stationary\nAnimationInterface WARNING:Node:\nWhen I open in NetAnim (shown in the picture below), it seems to ignore the position that I defined in my code. As you see in the following properties, the first node (node 0) has position of (x,y) = (81.00, 83.00).\nI am aware that I can change the position by changing the value in properties, but later using ns-3, I want to create quite a complex network, so it will be difficult to set them manually.\nIn internet, I found this suggestion, i.e. adding mobility to replace the SetConstantPosition. However, the result in NetAnim is still similar.\nMobilityHelper mobility;\nPtr<ListPositionAllocator> positionAlloc = CreateObject<ListPositionAllocator>();\npositionAlloc->Add(Vector(0.0, 0.0, 0.0));\npositionAlloc->Add(Vector(5.0, 0.0, 0.0));\nmobility.SetPositionAllocator(positionAlloc);\nmobility.SetMobilityModel(\"ns3::ConstantPositionMobilityModel\");\nmobility.Install(switches);\nPlease let me know how to set the position from my code and get rid of the warning.\nThank you for your kind helps",
    "answer": "I posted the same question in NS3 Google Group. Few days later, I got a great answer from Liu XinXin (many thanks for the help - her StackOverflow account is xxliu95). Here's the code that she posted\nint \nmain (int argc, char *argv[])\n{\n  std::cout << \"create switches\" << std::endl;\n  NodeContainer switches;\n  switches.Create(2); // create two switches\n\n  MobilityHelper mobility;\n  mobility.SetMobilityModel (\"ns3::ConstantPositionMobilityModel\");\n  mobility.Install (switches);\n\n  AnimationInterface anim(\"myanim.xml\");\n\n  std::cout << \"set position for switches\" << std::endl;\n\n  Ptr<ConstantPositionMobilityModel> s1 = switches.Get (0)->GetObject<ConstantPositionMobilityModel> ();\n  Ptr<ConstantPositionMobilityModel> s2 = switches.Get (1)->GetObject<ConstantPositionMobilityModel> ();\n\n  s1->SetPosition (Vector ( 48.0, 70.0, 0  ));\n  s2->SetPosition (Vector ( 48.0, 90.0, 0  ));\n\n  anim.UpdateNodeDescription(0, \"Main\");\n  anim.UpdateNodeDescription(1, \"Rack0\");\n\n  Simulator::Run ();\n  Simulator::Destroy ();\n  return 0;\n}\nThis is what I got in NetAnim"
  },
  {
    "url": "https://stackoverflow.com/questions/62462249/how-i-fix-ns3s-program-waf-not-found-in-path-error-that-it-appears-within",
    "title": "How I fix ns3's \" Program \"/waf\" not found in PATH\" error that it appears within eclipse?",
    "question": "I use ns3.30 and I configured it to build and run within Eclipse. However, I continuously get this error\n\"Error: Program \"/waf\" not found in PATH\nPATH=[/bin:/home/flower/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/usr/games:/usr/local/games:/snap/bin]\"\ndespite that everything working fine. Does that mean that am I may face a problem with my ns3 project later?, or, can I safely discard that error?",
    "answer": "The path\n/waf\nrefers to\nwaf\nin the root directory. The problem is that you don't have a\nwaf\nin the root directory. Change the path to\n./waf\nto refer to\nwaf\nthe current working directory.\nIf you don't fix this, then any script you write will first have to be manually compiled by running\n./waf\nfrom the terminal."
  },
  {
    "url": "https://stackoverflow.com/questions/62460824/can-ns3-be-paired-with-real-distributed-algorithms",
    "title": "Can NS3 be paired with real distributed algorithms?",
    "question": "I have a distributed algorithm written by myself and I want to test how will it perform under different network situations. I find the network simulator 3, which is primarily used for network research. I'm curious, can I set it up to run some real algorithms for the Node/NetDevice and transmit real data between them?",
    "answer": "It is possible indeed. I did something similar for my master's degree (although in my case the distributed program was written in Java, you can have a look at it\nhere\nif you're interested; JNA was needed to do so).\nBasically, you should write your own\nApplication\n, which should contain the actual program you want to execute on the nodes. Different nodes can also run different applications.\nThere are some predefined Applications shipped with ns-3, such as\nOn-Off Application\n; you can take a look at them to understand how to build a new one. You can also take a look at\na simple library I wrote\n, which contains a simple Application that can send arbitrary data with arbitrary parameters (send rate, data rate, maximum bandwidth, etc...)."
  },
  {
    "url": "https://stackoverflow.com/questions/62372602/dsrc-and-wifi-lte-cellular-in-vehicular-communication",
    "title": "DSRC and WIFI (LTE/Cellular) in vehicular communication",
    "question": "Can NS -2.35 simulate both DSRC and WIFI vehicular communication in the same environement?\nIf not, is there any software simulation capable of ?",
    "answer": "Veins 5.0 can be used to model wirelessly-networked road traffic (cars, trucks, bikes, trains, pedestrians). By default, Veins 5.0 includes models of DSRC, but it can be used together with projects like INET (for WiFi), SimuLTE (for 4G+ mobile broadband networking), or Veins VLC (for visible light communication). See\nhttp://veins.car2x.org/\nfor more information."
  },
  {
    "url": "https://stackoverflow.com/questions/62359072/ns2-random-delay-for-links",
    "title": "NS2: Random delay for links",
    "question": "I want to simulate the above network in NS2 and as you can see nodes 2 and 6 have links with variable delays. These variable delays should be random values between 5ms and 25ms.\nThis is how I make the links:\n#Create six nodes\nset n1 [$ns node]\nset n2 [$ns node]\nset n3 [$ns node]\nset n4 [$ns node]\nset n5 [$ns node]\nset n6 [$ns node]\n\n\n#Create links between the nodes\n$ns duplex-link $n1 $n3 100Mb 5ms DropTail\n$ns duplex-link $n2 $n3 100Mb ? DropTail\n\n$ns duplex-link $n3 $n4 100Kb 1ms DropTail\n\n$ns duplex-link $n4 $n5 100Mb 5ms DropTail\n$ns duplex-link $n4 $n6 100Mb ? DropTail\nI don't know what to put instead of those question marks to get what I want.",
    "answer": "I found out that this is the way to do it.\n#Create six nodes\nset n0 [$ns node]\nset n1 [$ns node]\nset n2 [$ns node]\nset n3 [$ns node]\nset n4 [$ns node]\nset n5 [$ns node]\n\nset recvr_delay1 [new RandomVariable/Uniform];\n$recvr_delay1 set min_ 5ms\n$recvr_delay1 set max_ 25ms\n\nset recvr_delay2 [new RandomVariable/Uniform];\n$recvr_delay2 set min_ 5ms\n$recvr_delay2 set max_ 25ms\n\n# TODO: make these delays random\n#Create links between the nodes\n$ns duplex-link $n0 $n2 100Mb 5ms DropTail\n$ns duplex-link $n1 $n2 100Mb $recvr_delay1 DropTail\n\n$ns duplex-link $n2 $n3 100Kb 1ms DropTail\n\n$ns duplex-link $n3 $n4 100Mb 5ms DropTail\n$ns duplex-link $n3 $n5 100Mb $recvr_delay2 DropTail"
  },
  {
    "url": "https://stackoverflow.com/questions/61670851/ns3-python3-has-no-module-named-ns",
    "title": "ns3, Python3 has no module named 'ns'",
    "question": "I am using a virtual box to build network simulator 3(ns3), Ubuntu version: Linux Server 20.04 LTS\nthe Linux command that I had executed are\nsudo apt-get update\nsudo apt-get upgrade\nsudo apt-get install gcc g++ python python3 -y\nsudo apt-get install python3-setuptools git mercurial -y\nsudo apt-get install zip unzip  \napt-get install cmake libc6-dev libc6-dev-i386 libclang-6.0-dev llvm-6.0-dev automake -y\n\nsudo apt-get install -y python-gi-cairo \nsudo apt-get install -y gir1.2-gtk-3.0  \nsudo apt-get install -y python-dev  \nsudo apt-get install -y python3-dev \nsudo apt-get install -y qt5-default \nsudo apt-get install -y python3-pygraphviz\nsudo apt install python3-pip\nsudo apt-get install -y graphviz libgraphviz-dev\nsudo pip3 install pygraphviz --install-option='--include-path=/usr/include/graphviz' --install-option='--library-path=/usr/lib/graphviz'\nThen I use the bake to install the ns3 through following this page:\ninstall ns3 with bake\nalthough the \"bake.py show\" tell me that pygraphvix is Missing, but since it is not an essential dependency, so I ignore it and continue build the ns3\nafter i successfully built the ns3, I follow the instruction\nhere\nto execute the \"./waf shell\" command in the folder \"/source/ns-3.29\"\nthen I run the command and get the error:\nroot@ns3simulator:/home/ns3/source/ns-3.29# python3 examples/wireless/mixed-wired-wireless.py\nTraceback (most recent call last):\n  File \"examples/wireless/mixed-wired-wireless.py\", line 54, in <module>\n    import ns.applications\nModuleNotFoundError: No module named 'ns'\nCould anyone please help me for this?Thanks in advance.",
    "answer": "The problem\n\"import ns.applications\"\nModuleNotFoundError: No module named 'ns'\nis because there is a problem with the ns-3 installation and it is not able to do python binding itself and you need to manually configure it.\nIn my case, I have python 2.7 also installed\nGo to\n-> cd  [PATH-to-your-ns3.29]\n-> /usr/bin/python2.7 ./waf configure\nit will enable the python binding like this\nWaf configuration\nafter this when you can see the python binding enabled you can run your python script without any error.\nHope it helps !!!"
  },
  {
    "url": "https://stackoverflow.com/questions/61558617/whats-the-difference-between-connectionsuccess-and-connectioncreated-in-soc",
    "title": "What's the difference between \"ConnectionSuccess\" and ”ConnectionCreated\" in Socket?",
    "question": "I saw the source code of the implementation of Socket class in NS-3 and I saw there are two member functions:\n/**\n   * \\brief Notify through the callback (if set) that the connection has been\n   *        established.\n   */\n  void NotifyConnectionSucceeded (void);\nand\n/**\n   * \\brief Notify through the callback (if set) that a new connection has been\n   *        created.\n   * \\param socket The socket receiving the new connection.\n   * \\param from The address of the node initiating the connection.\n   */\n  void NotifyNewConnectionCreated (Ptr<Socket> socket, const Address &from);\nSo what's the main difference between these two functions? and is there any difference between \"ConnectionSucceed\" and \"ConnectionCreated\"?",
    "answer": "From the\nns-3 TCP model documentation\n:\nNotifyConnectionSucceeded: SetConnectCallback\n, 1st argument\nCalled in the SYN_SENT state, before moving to ESTABLISHED. In other words, we have sent the SYN, and we received the SYN-ACK: the socket prepares the sequence numbers, sends the ACK for the SYN-ACK, tries to send out more data (in another segment) and then invokes this callback. After this callback, it invokes the NotifySend callback.\nNotifyNewConnectionCreated: SetAcceptCallback\n, 2nd argument\nInvoked when from SYN_RCVD the socket passes to ESTABLISHED, and after setting up the congestion control, the sequence numbers, and processing the incoming ACK. If there is some space in the buffer, NotifySend is called shortly after this callback. The Socket pointer, passed with this callback, is the newly created socket, after a Fork().\nSo, what @Paul Sanders says is essentially correct:\nNotifyConnectionSucceeded\nis called when the TcpSocket that initiated the connection (ie. sent SYN) receives SYN+ACK. On the other hand,\nNotifyNewConnectionCreated\nis called when a TcpSocket that sent SYN+ACK receives the ACK that completes the 3-way handshake. Look at\ntcp-socket-base.cc\nto see exactly how these methods are used.\nThe above is particular to TCP, and as you rightly point out, these methods belong to Socket. Other types of Sockets will use these methods differently. For example,\nUdpSockets\nuse\nNotifyConnectionSucceeded\n, but do not support\nNotifyNewConnectionCreated\n."
  },
  {
    "url": "https://stackoverflow.com/questions/61166596/at-where-tcp-new-reno-set-the-threshold-value-once-a-packet-is-dropped-in-ns3",
    "title": "At where TCP New Reno set the threshold value once a packet is dropped in NS3",
    "question": "In TCP New Reno it set the threshold value to half of the current CWND once a packet drop is identified. I need to find the method, that does the task.\nIn\ntcp-l4-protocol.h\nit uses\nTcpClassicRecovery\nas the recovery method. In\nTcpClassicRecovery\nentering phase, it uses the following code segment to set the current CWND,\nvoid\nTcpClassicRecovery::EnterRecovery (Ptr<TcpSocketState> tcb, uint32_t dupAckCount,\n                                uint32_t unAckDataCount, uint32_t lastSackedBytes)\n{\n  NS_LOG_FUNCTION (this << tcb << dupAckCount << unAckDataCount << lastSackedBytes);\n  NS_UNUSED (unAckDataCount);\n  NS_UNUSED (lastSackedBytes);\n  tcb->m_cWnd = tcb->m_ssThresh;\n  tcb->m_cWndInfl = tcb->m_ssThresh + (dupAckCount * tcb->m_segmentSize);\n}\nThen I assume before calling the\nEnterRecovery\nmethod, the cwnd is already updated. I need to find the place that cwnd is updated.\nI also updated\nTcpNewReno::GetSsThresh\nand analyzed the output. But it's also not the method I need as it doesn't cut the cwnd to half.\nNOTE: I'm using\nseventh.cc\nto inspect cwnd. It always drops the cwnd to 1072. The graph I'm getting is also included. What I need to do is drop the cwnd to half of the value once a packet is dropped. Maybe the\nseventh.cc\nis not using the default\ntcp-l4-protocol.h\n. If so how I can change it?",
    "answer": "I found the answer. The problem was with the\nseventh.cc\n. It does not use the default layer 4 TCP protocol.\nTo run the default layer 4 TCP protocol (TCP New Reno), I found an example, which is\ntcp-large-transfer.cc\n. It's located in\nns-3.30/examples/tcp/tcp-large-transfer.cc\n."
  },
  {
    "url": "https://stackoverflow.com/questions/61076500/udp-throughput-calculation-in-ns3",
    "title": "UDP Throughput Calculation in NS3",
    "question": "I have a client/server topology in NS3 and I want to calculate the throughput of UDP traffic on the server.\nThis line of code\nsink = StaticCast<PacketSink> (tcpServerApp.Get (0));\ndoes not work because it can only be used in calculating the throughput of TCP packets. How can I calculate throughput for the received UDP traffic on the server?\nThanks",
    "answer": "You can calculate the throughput of UDP packets using the following code. You should use this code after\nSimulation::Run();\nuint64_t rxBytes = 0;\n\n      rxBytes = payloadSize * DynamicCast<UdpServer> (serverApp.Get (0))->GetReceived ();\n      double throughput = (rxBytes * 8) / (simulationTime * 1000000.0); //Mbit/s\n      std::cout << \"throughput = \" << throughput << \" Mbit/s\" << std::endl;"
  },
  {
    "url": "https://stackoverflow.com/questions/61052646/where-i-can-find-the-source-code-of-tcp-new-reno-and-run-it-on-ns3",
    "title": "Where I can find the source code of TCP New Reno and run it on NS3",
    "question": "I have planned to do some congestion control tunning on the existing transport layer protocol. In this case, I have chosen TCP New Reno. Mainly I have two problems regarding that.\n1) The main problem is how I can find the source code of TCP New Reno.\n2) Another thing is even if I found the source code how I can use it inside NS3 between two nodes (in seventh.cc, they have not specified the protocol. It takes the default one. I need to use the TCP New Reno)\nI tried searching but there is very little information relating to the problem. I found some kind of source code from NS3 documentation. But I don't think that is the real source code for the TCP New Reno.\ntcp-newreno.h  >> taken from\nhttps://www.nsnam.org/docs/release/3.18/doxygen/tcp-newreno_8h_source.html\ntcp-newreno.cc >> taken from\nhttps://www.nsnam.org/docs/release/3.18/doxygen/tcp-newreno_8cc_source.html#l00247",
    "answer": "The links you provide have the actual source code for TcpNewReno, but they are from version 3.18. The current version is 3.30.1. So, the code you found is out of date. If you are using the latest version of\nns-3\n(which I recommend), then\nTcpNewReno\nis implemented in\n./src/internet/model/tcp-congestion-ops.cc\n. If you look at the API documentation of\nTcpNewReno\n, you will find links to the source code for each member/function. The API documentation is indispensable.\nThe default protocol is\nTcpNewReno\n, so there is no need to set it. You can verify the default in two ways:\nThe\nTCP model documentation\nsays \"several congestion control algorithms are supported, with NewReno the default\" under the\nns-3 TCP\nsection.\nYou can verify that the default TCP\nSocketType\nis set as\nTcpNewReno\nin\n./src/internet/model/tcp-l4-protocol.cc\nin the\nGetTypeId\nfunction.\nThat being said, if you want to change the default, you can do so by calling\nConfig::SetDefault\nin your script's main function like so\nConfig::SetDefault (\"ns3::TcpL4Protocol::SocketType\", StringValue (\"ns3::TcpNewReno\"));\nFollowup\nIf I need to edit the CWND calculation algorithm in TCPNewReno, where do I need to do the changes?\nIf you want to create a new Congestion Control algorithm, I suggest that you do NOT change the existing\nTcpNewReno\ncode. Instead, make a subclass of TcpNewReno. Define and declare this subclass in new files,\n./src/internet/model/tcp-placeholder.{h,cc}\n. Then, you need to add these new files in\n./src/internet/wscript\n. After that, these new files should compile when you build with\n./waf\n. Again, to actually use this new Congestion Control algorithm, you need to make the\nConfig::SetDefault\ncall above.\nBecause later on after the developments, I need to get the changed source code of the TCPNewReno and put it inside an actual device. How Can I do that?\nThis is probably not happening. While\nns-3\ntries to mimic real world implementations in how they work, the code you write in\nns-3\nwill almost certainly not work as-is on any operating system. If you want to test a new congestion control algorithm on real devices, you will need to learn how to program that device specifically.\nDepending on what you're doing, you may find using the\nNetwork Simulation Cradle\nhelpful."
  },
  {
    "url": "https://stackoverflow.com/questions/60964197/syntax-error-while-building-ns3-29-on-ubuntu-18-04-4",
    "title": "Syntax Error while building ns3.29 on ubuntu 18.04.4",
    "question": "I've installed all per-requisites\nfrom\n. Build fails with the following error by using\n./waf\ncommand.\nTraceback (most recent call last):\n  File \"/usr/lib/python3.6/py_compile.py\", line 125, in compile\n    _optimize=optimize)\n  File \"<frozen importlib._bootstrap_external>\", line 741, in source_to_code\n  File \"<frozen importlib._bootstrap>\", line 219, in _call_with_frames_removed\n  File \"/usr/local/lib/python3/dist-packages/visualizer/visualizer/svgitem.py\", line 123\n    raise AttributeError, 'unknown property %s' % pspec.name\n                        ^\nSyntaxError: invalid syntax\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"<string>\", line 3, in <module>\n  File \"/usr/lib/python3.6/py_compile.py\", line 129, in compile\n    raise py_exc\npy_compile.PyCompileError:   File \"/usr/local/lib/python3/dist-packages/visualizer/visualizer/svgitem.py\", line 123\n    raise AttributeError, 'unknown property %s' % pspec.name\n                        ^\nSyntaxError: invalid syntax\nI will appreciate any help. Thank you.",
    "answer": "You can disable python. First you need to clean your previous failed build and then configure by disabling the python.\n./waf distclean\n./waf --disable-python configure\n./waf"
  },
  {
    "url": "https://stackoverflow.com/questions/60906845/ns-3-importerror-no-module-named-cflags",
    "title": "NS-3 ImportError: No module named cflags",
    "question": "I'm trying to run compile and build an NS-3 project using\n./waf\nin Ubuntu 18.04, but I'm receiving the following error message:\nWaf: The wscript in '/home/user/workspace/ns3-802.11ad' is unreadable\nTraceback (most recent call last):\n  File \"/home/user/workspace/ns3-802.11ad/.waf-1.8.19-b1fc8f7baef51bd2db4c2971909a568d/waflib/Scripting.py\", line 100, in waf_entry_point\n    set_main_module(os.path.normpath(os.path.join(Context.run_dir,Context.WSCRIPT_FILE)))\n  File \"/home/user/workspace/ns3-802.11ad/.waf-1.8.19-b1fc8f7baef51bd2db4c2971909a568d/waflib/Scripting.py\", line 125, in set_main_module\n    Context.g_module=Context.load_module(file_path)\n  File \"/home/user/workspace/ns3-802.11ad/.waf-1.8.19-b1fc8f7baef51bd2db4c2971909a568d/waflib/Context.py\", line 354, in load_module\n    try:exec(compile(code,path,'exec'),module.__dict__)\n  File \"/home/user/workspace/ns3-802.11ad/wscript\", line 53, in <module>\n    import cflags # override the build profiles from waf\nImportError: No module named cflags\ncould anybody help me out?",
    "answer": "It seems to me that your download was corrupted somehow.\nTry again, and check that the following holds true:\narshad@a4arshad:~/Downloads$ md5sum ns-allinone-3.29.tar.bz2 \n1f4b667035fdb79471c7319f38595289  ns-allinone-3.29.tar.bz2\narshad@a4arshad:~/Downloads$ ls -l ns-allinone-3.29\ntotal 36\ndrwxr-xr-x  6 arshad arshad 4096 Mar 30 16:57 bake\n-rwxr-xr-x  1 arshad arshad 5940 Sep  5  2018 build.py\n-rw-r--r--  1 arshad arshad  575 Sep  5  2018 constants.py\ndrwxr-xr-x  3 arshad arshad 4096 Mar 30 16:57 netanim-3.108\ndrwxr-xr-x 10 arshad arshad 4096 Mar 30 16:57 ns-3.29\ndrwxr-xr-x 10 arshad arshad 4096 Mar 30 16:57 pybindgen-0.17.0.post58+ngcf00cc0\n-rw-r--r--  1 arshad arshad  924 Sep  5  2018 README\n-rw-r--r--  1 arshad arshad  561 Sep  5  2018 util.py\nOr you can try this:\n./waf distclean\n./waf configure\n./waf"
  },
  {
    "url": "https://stackoverflow.com/questions/60894176/what-is-the-best-way-to-simulate-ddos-tcp-syn-flooding-attack",
    "title": "what is the best way to simulate DDoS TCP SYN Flooding attack",
    "question": "I want to simulate a network that is under DDoS TCP SYN Flooding attack and evaluate the performance of a new solution and compare it with other solutions.\ni was planning to do it using NS3 but i read somewhere in the internet that i can't do it well using a descret event network simulator (NS3 is a descret event network simulator), i want to know why ? and what is the best alternative ?",
    "answer": "Unfortunately, DoS attacks cannot be simulated in\nns-3\n. By extension, DDoS attacks cannot be simulated either.\nHow does a DoS attack work?\nTo understand why\nns-3\ncan't simulate a DoS attack, we need to first understand how a DoS attack works. As you mention, TCP SYN flooding is one way of simulating a DoS attack. Why does this work? Well, any computer had a finite number of resources, for example, memory and disk space. When a computer receives a SYN, it creates a socket to facilitate communication. Given that there are a finite number of resources, only a finite number of sockets can be created. So, a DoS attack works by overwhelming a computer on the network with SYNs, thereby forcing the computer to allocate many sockets that won't be used. At some point, the computer must simply refuse any connect, even legitimate connections. This is when a DoS attack has succeeded.\nWhy can't\nns-3\nsimulate it?\nIn\nns-3\n, there is no concept of a\nNode\nhaving finite resources, per say.\nQueues\nwithin\nNodes\ncan have finite size, but there is no way to limit the number of active connections on a\nNode\n. Ergo, there is no way to simulate a DoS attack.\nA (Potential) Solution\nContribute to\nns-3!\nVisit the\ngitlab repo\n, and try to add the functionality you desire.\nResponse to Comment(s)\nTCP in\nns-3\nI was using \"number of active connections\" as equivalent to \"number of sockets\". These terms are not entirely equivalent, but for the purpose of this answer, it's okay.\nIn a SYN flood, the number of packets being received is\nnot\nthe concern. Rather, the problem is that each SYN received spawns a half-open socket, and only a finite number of sockets can exist on the computer.\nYou are suggesting saturating the\nQueue\nthat receives packets. You could send a bunch of packets to saturate this\nQueue\n, and that\nwill\ndisrupt the\nNode\nto\nsome\nextent, but this will not simulate a SYN flood. A SYN flood works because too many half-open sockets are spawned, not because a packet queue is full.\nAgain, a SYN flood works because a real computer can only have a finite number of sockets. In\nns-3,\nthere is no limit to the number fo sockets on a\nNode\n.\nThe\nns-3\nmodel\nIt seems that you may not be familiar with\nns-3\n's model. I don't blame you; there is a steep learning curve. In\nns-3\n, a\nNode\nis the equivalent of a computer/server/router on the network. Attached to\nNodes\nare\nApplications\n. In turn,\nApplications\ncreate\nSockets\nto facilitate communication over a network.\nLet's now look at\nTcpSocket\n, a subclass of\nSocket\n.\nTcpSocket\nmaintains its state with the help of\nTcpTxBuffer\n,\nTcpRxBuffer\n, and other class variables. The\nBuffers\nare the classic buffers used by TCP to ensure reliable, ordered, and error checked delivery/reception of data. The size of these\nBuffers\nis limited, however\nthere is no limit to the number of\nTcpSockets\nattached to an\nApplication\n, nor is there a limit to the number of\nApplications\nattached to a\nNode\n.\nIf such a limit existed, that would aid in simulating memory usage, but no such model exists in\nns-3\n.\nThis\npost on the\nns-3\nGoogle Groups also describes why you can't simulate SYN floods without changing the source code. Search that Google Group for more posts about DoS attacks. The linked post describes how you may be able to simulate other types of DoS attacks, but SYN floods are not explicitly supported."
  },
  {
    "url": "https://stackoverflow.com/questions/60791009/traffic-modelling-on-ns-3-network-simulator",
    "title": "Traffic modelling on ns-3 network Simulator",
    "question": "I am trying to simulate traffic of voice, video, and data in order to check the differences between EDCF and traditional CSMA/CA.\nI am using an on off helper based on the example of\nhttp://www.scielo.org.co/pdf/dyna/v84n202/0012-7353-dyna-84-202-00055.pdf\nfor the video but on setAttribute(“OffTime”, StringValue(“ns3::LogNormalRandomVariable[Mu=0.4026,Sigma=0.0352]”));\nI get error 'Attribute value \"0.4026,Sigma=0.0352\" is not properly formatted'\nAny ideas for the error or suggestions on  how to model the three types of traffic?\nThanks for your time",
    "answer": "I couldn't find the version of ns3 in your provided reference. Also, the reference paper was published in September 2017. I think, they have used ns3.26 probably. \nSo, I've tried with ns3.29 and couldn't reproduce the above error. I've got somewhat different error. But I could fixed it by putting a space before '['.\nThe second solution I found by using\nMu\nand\nSigma\nseparately.\nonoff.SetAttribute (\"OffTime\", StringValue(\"ns3::LogNormalRandomVariable[Mu=0.4026]\"));\nonoff.SetAttribute (\"OffTime\", StringValue(\"ns3::LogNormalRandomVariable[Sigma=0.0352]\"));"
  },
  {
    "url": "https://stackoverflow.com/questions/60534272/iot-simulation-using-ns3",
    "title": "IoT simulation using NS3",
    "question": "how can I use NS3 to simulate IoT, is there some model that should be added?\nI'm studying RPL protocol security, and I found that the simulation could be done using NS3, but I don't know is there a model specific to IoT.\nthank you",
    "answer": "Currently, LR-WPAN (IEEE 802.15.4) module is available in ns3, which is one of the IoT technologies. You can use RPL in Tree or/and mesh typologies due to the RPL nature. Also, LoRaWAN module is available for ns3 (you can find on github), which is also IoT technology. However, LoRaWAN currently supports star of star topology. If you extend it to multi-hop, then you can use RPL as routing protocol in LoRaWAN."
  },
  {
    "url": "https://stackoverflow.com/questions/60488487/error-cannot-take-the-address-of-an-rvalue-of-type-void-two-classes-with-sam",
    "title": "error: cannot take the address of an rvalue of type 'void'. Two classes with same workflow but one throws error",
    "question": "I have two functions with a similar workflow. One is an altered example from NS3 and the other a spin on the alteration for a producer node.\nMy producer\nvoid\nProactiveProducer::SendData(Name dataName)\n{\n  // dataName.append(m_postfix);\n  // dataName.appendVersion();\n  if (!m_active)\n    return;\n\n  NS_LOG_FUNCTION_NOARGS();\n\n  auto data = make_shared<Data>();\n  data->setName(dataName);\n  data->setFreshnessPeriod(::ndn::time::milliseconds(m_freshness.GetMilliSeconds()));\n\n  data->setContent(make_shared< ::ndn::Buffer>(m_virtualPayloadSize));\n\n  Signature signature;\n  SignatureInfo signatureInfo(static_cast< ::ndn::tlv::SignatureTypeValue>(255));\n\n  if (m_keyLocator.size() > 0) {\n    signatureInfo.setKeyLocator(m_keyLocator);\n  }\n\n  signature.setInfo(signatureInfo);\n  signature.setValue(::ndn::makeNonNegativeIntegerBlock(::ndn::tlv::SignatureValue, m_signature));\n\n  data->setSignature(signature);\n\n  NS_LOG_INFO(\"node(\" << GetNode()->GetId() << \") responding with Data: \" << data->getName());\n\n  // to create real wire encoding\n  data->wireEncode();\n\n  m_transmittedDatas(data, this, m_face);\n  m_appLink->onReceiveData(*data); \n\n  ScheduleNextPacket();\n}\n\nvoid\nProactiveProducer::ScheduleNextPacket()\n{\n  NS_LOG_DEBUG (\"m_sendEvent: \" << m_sendEvent.IsRunning());\n  if (m_firstTime) {\n    m_sendEvent = Simulator::Schedule(Seconds(0.0), &ProactiveProducer::SendData(m_prefix), this);\n    m_firstTime = false;\n  } else if (!m_sendEvent.IsRunning()) {\n    m_sendEvent = Simulator::Schedule(Seconds(1.0 / m_frequency), &ProactiveProducer::SendData(m_prefix), this);\n  }\n}\nNS3 consumer\nvoid\nModConsumer::SendPacket()\n{\n  // if the application isn't running don't do anything\n  if (!m_active)\n    return;\n\n  NS_LOG_FUNCTION_NOARGS();\n\n  // Will be an invalid packet\n  uint32_t seq = std::numeric_limits<uint32_t>::max(); // invalid\n\n  /*\n    if the integer is positice the loop runs infinitely --> poor code\n    - when the size of the list goes to 0 it will exit and therefore seq will be max int\n    - the consumer seems to work based off of packets to be retransmitted.\n    - removes the first entry in list of packets to be retransmitted\n    - removes packet from list of retransmissions\n    - then transmits that?\n  */\n  while (m_retxSeqs.size()) {\n    seq = *m_retxSeqs.begin();\n    m_retxSeqs.erase(m_retxSeqs.begin());\n    break;\n  }\n\n  // will check fail conditions or increment sequence\n  if (seq == std::numeric_limits<uint32_t>::max()) {\n    // NS_LOG_DEBUG (\"Reached max Sequence: \" << seq << \" max_seq: \" << m_seq);\n    if (m_seqMax != std::numeric_limits<uint32_t>::max()) {\n      if (m_seq >= m_seqMax) {\n        NS_LOG_DEBUG (\"maximum sequence number has been requested, m_seq: \" << m_seq << \" m_seqMax: \" << m_seqMax);\n        return; // we are totally done\n      }\n    }\n\n    seq = m_seq++;\n  }\n\n  shared_ptr<Name> nameWithSequence = make_shared<Name>(m_interestName);\n  nameWithSequence->appendSequenceNumber(seq);\n\n  shared_ptr<Interest> interest = make_shared<Interest>();\n  interest->setNonce(m_rand->GetValue(0, std::numeric_limits<uint32_t>::max()));\n  interest->setName(*nameWithSequence);\n  interest->setCanBePrefix(false);\n  time::milliseconds interestLifeTime(m_interestLifeTime.GetMilliSeconds());\n  interest->setInterestLifetime(interestLifeTime);\n  interest->setMustBeFresh(true);\n\n  // NS_LOG_DEBUG (\"Requesting Interest: \\n\" << *interest);\n  // NS_LOG_INFO(\"> Interest for \" << seq);\n\n  WillSendOutInterest(seq);\n\n  m_transmittedInterests(interest, this, m_face);\n  m_appLink->onReceiveInterest(*interest);\n\n  ScheduleNextPacket();\n}\n\n// Yes this is a different class, pasting for convenience\nvoid\nModConsumerCbr::ScheduleNextPacket()\n{\n  NS_LOG_DEBUG (\"m_sendEvent: \" << m_sendEvent.IsRunning());\n  if (m_firstTime) {\n    m_sendEvent = Simulator::Schedule(Seconds(0.0), &ModConsumer::SendPacket, this);\n    m_firstTime = false;\n  } else if (!m_sendEvent.IsRunning()) {\n    m_sendEvent = Simulator::Schedule(Seconds(1.0 / m_frequency), &ModConsumer::SendPacket, this);\n  }\n}\nWhen I run the code, the compiler throws the following error for the producer class\nerror: cannot take the address of an rvalue of type 'void'\n    m_sendEvent = Simulator::Schedule(Seconds(0.0), &ProactiveProducer::SendData(m_prefix), this);\nI think I understand why the error would be thrown. I'm passing a function of type void. It shouldn't be addressable. So I can't understand how the consumer compiles and functions correctly. Any suggestions as to what I'm missing would be greatly appreciated. I'm new to C++.",
    "answer": "Change this line\nm_sendEvent = Simulator::Schedule(Seconds(0.0), &ProactiveProducer::SendData(m_prefix), this);\nto this\nm_sendEvent = Simulator::Schedule(Seconds(0.0), &ProactiveProducer::SendData, this, m_prefix);\nReference:\nhttps://www.nsnam.org/doxygen/classns3_1_1_simulator.html#aec5dd434c42edd6c38ef249d2960c321"
  },
  {
    "url": "https://stackoverflow.com/questions/60439575/how-to-simulate-audio-and-video-calls-in-ns3",
    "title": "How to simulate audio and video calls in NS3?",
    "question": "I want to generate different types of traffic for analyzing OFDMA transmission in NS3. How can I simulate video and audio calls?",
    "answer": "The first three options that come to mind are:\nIf you want to be as close to reality as possible, try out the\nDirect Code Execution (DCE) Module\n. I've never used it, so I'm not sure how well it's supported.\nUse the\nOnOffApplication\n. The\nOnOffApplication\nallows you to set\nonTime\n,\noffTime\n, and a\nDataRate\n(among other variables). You can determine the rate at which data is sent for your audio or video program, and then provide those rates to the\nOnOffApplication\n. You may find the\nOnOffHelper\nconvenient to set various parameters of an\nOnOffApplication\n.\nCreate your own\nApplication\n. This option may be of particular interest since you could simulate variable bitrate audio/video calls. If you choose this option, I highly suggest you checkout the ns-3 tutorial for the\nwalkthrough of\nfifth.cc\nto learn more about how to create your own\nApplication\n.\nThe second option is probably easiest to use, but may not be as accurate as the first, or as flexible as the third."
  },
  {
    "url": "https://stackoverflow.com/questions/60426596/building-error-in-ns3-with-exit-status-1",
    "title": "Building error in ns3 with exit status 1:",
    "question": "After installing ns3 succesfully i tried to compile it again with a new file(wifi-dl-ofdma.cc) in the scratch folder.\nWhen i try to run it with -\n./waf --run scratch/wifi-dl-ofdma\n(no extension required for c++ file)\nBuild terminate with this-\n**Build failed\n -> task in 'wifi-dl-ofdma' failed (exit status 1): \n    {task 139886228468752: cxx wifi-dl-ofdma.cc -> wifi-dl-ofdma.cc.3.o}\n['/usr/bin/g++', '-O0', '-ggdb', '-g3', '-Wall', '-Werror', '-std=c++11', '-Wno-error=deprecated-declarations', '-fstrict-aliasing', '-Wstrict-aliasing', '-pthread', '-pthread', '-I.', '-I..', '-I/usr/include/gtk-2.0', '-I/usr/lib/x86_64-linux-gnu/gtk-2.0/include', '-I/usr/include/gio-unix-2.0', '-I/usr/include/cairo', '-I/usr/include/pango-1.0', '-I/usr/include/atk-1.0', '-I/usr/include/pixman-1', '-I/usr/include/libpng12', '-I/usr/include/gdk-pixbuf-2.0', '-I/usr/include/harfbuzz', '-I/usr/include/glib-2.0', '-I/usr/lib/x86_64-linux-gnu/glib-2.0/include', '-I/usr/include/freetype2', '-DNS3_BUILD_PROFILE_DEBUG', '-DNS3_ASSERT_ENABLE', '-DNS3_LOG_ENABLE', '-DHAVE_SYS_IOCTL_H=1', '-DHAVE_IF_NETS_H=1', '-DHAVE_NET_ETHERNET_H=1', '-DHAVE_PACKET_H=1', '-DHAVE_IF_TUN_H=1', '-DHAVE_GTK2=1', '../scratch/wifi-dl-ofdma.cc', '-c', '-o', '/home/deepak/ns-allinone-3.27/ns-3.27/build/scratch/wifi-dl-ofdma.cc.3.o']**\nI am not able to undernstand the error.",
    "answer": "Since you have not mentioned the ns3 and gcc versions. I've had the same issue earlier when I was trying to build an old version of ns3 (ns3.26 on Ubuntu 18) with new gcc compiler. I fixed this issue with the following commands:\nCXXFLAGS=\"-Wall\" ./waf configure\n./waf -vv\nYou can find details on\nthis link"
  },
  {
    "url": "https://stackoverflow.com/questions/60148908/ns3-log-time-precision",
    "title": "NS3 log Time precision",
    "question": "I am using NS3.20 to find the time stamps of packet being sent from a node to another node in a FAT-TREE topology using the command\nNS_LOG= \"*=level_info|prefix_func|prefix_time|prefix_node\" ./waf --run scratch/fat-tree &> save-log.txt\nAfter grepping few selected lines containing info about pkt 196.The output is of the form\nTimestamp, Nodeid, Functioncalled, DevNo, pktid\nExample lines are as follows\n1.74547s 34 CsmaChannel:TransmitStart(): UID is 196)\n1.74548s 34 CsmaChannel:TransmitEnd(): UID is 196)\n1.74548s 23 Node:ReceiveFromDevice(): Node 23 ReceiveFromDevice:  dev 2 (type=ns3::CsmaNetDevice) Packet UID 196\n1.74548s 23 BridgeNetDevice:ReceiveFromDevice(): UID is 196\n1.74548s 23 CsmaChannel:TransmitStart(): UID is 196)\n1.74548s 34 CsmaChannel:PropagationCompleteEvent(): UID is 196)\n.\n.\n.\nFor my research I need the time stamps to be in nanoseconds. Is there a way to configure this?\nNB : I tried cout, and fout within the functions but it just prints time without the node_id which is useless for me.\nPlease help",
    "answer": "First, I will suggest using the latest  version of ns-3, ns-3.30.1. Generally, it is a good idea to stay up-to-date. That being said my solution was tested using ns-3.30.1, so it is quite possible it doesn't work with ns-3.20. If it doesn't work, refer to the comments in\nsample-log-time-format.cc\n.\nI referenced §11.3 of the\nns-3 manual\n, which pointed me to the example,\n./src/core/examples/sample-log-time-format.cc\n. Based off of that example, here is a minimal reproducible example of your desired output.\n/* -*- Mode:C++; c-file-style:\"gnu\"; indent-tabs-mode:nil; -*- */\n// set the time format and precision of LOG macros\n// https://stackoverflow.com/questions/60148908\n// this example is adapted from ./src/core/examples/sample-log-time-format.cc\n\n#include \"ns3/simulator.h\"\n#include \"ns3/log.h\"\n#include \"ns3/random-variable-stream.h\"\n\nusing namespace ns3;\n\nvoid\nReplacementTimePrinter (std::ostream &os)\n{\n    os << Simulator::Now ().GetNanoSeconds () << \" ns\";\n}\n\nvoid\nReplaceTimePrinter (void)\n{\n    std::cout << \"Replacing time printer function after Simulator::Run ()\" << std::endl;\n    LogSetTimePrinter (&ReplacementTimePrinter);\n}\n\nint\nmain (int argc, char *argv[])\n{\n    LogComponentEnable (\"RandomVariableStream\", LOG_LEVEL_ALL);\n    LogComponentEnableAll (LOG_PREFIX_TIME);\n    Ptr<UniformRandomVariable> uniformRv = CreateObject<UniformRandomVariable> ();\n    Simulator::Schedule (Seconds (0), &ReplaceTimePrinter);\n\n    // schedule some bogus events to demonstrate the new TimePrinter\n    Simulator::Schedule (NanoSeconds (1), &UniformRandomVariable::SetAntithetic, uniformRv, false);\n    Simulator::Schedule (NanoSeconds (123), &UniformRandomVariable::SetAntithetic, uniformRv, false);\n    Simulator::Schedule (NanoSeconds (123456), &UniformRandomVariable::SetAntithetic, uniformRv, false);\n    Simulator::Schedule (NanoSeconds (123456789), &UniformRandomVariable::SetAntithetic, uniformRv, false);\n\n    Simulator::Run ();\n    Simulator::Destroy ();\n}\nUse\n./waf --run <program-name>\nto run your program, and output should be\nRandomVariableStream:RandomVariableStream(0x7fc0aee287d0)\nRandomVariableStream:UniformRandomVariable(0x7fc0aee287d0)\nRandomVariableStream:SetStream(0x7fc0aee287d0, -1)\nRandomVariableStream:SetAntithetic(0x7fc0aee287d0, 0)\nReplacing time printer function after Simulator::Run ()\n1 ns RandomVariableStream:SetAntithetic(0x7fc0aee287d0, 0)\n123 ns RandomVariableStream:SetAntithetic(0x7fc0aee287d0, 0)\n123456 ns RandomVariableStream:SetAntithetic(0x7fc0aee287d0, 0)\n123456789 ns RandomVariableStream:SetAntithetic(0x7fc0aee287d0, 0)\nRandomVariableStream:~RandomVariableStream(0x7fc0aee287d0)\nNotice that rather than directly calling\nLogSetTimePrinter\nin our simulator code, we schedule an Event that will call\nLogSetTimePrinter\ninstead with\nSimulator::Schedule (Seconds (0), &ReplaceTimePrinter);\nI wasn't sure why this is the case, but on further inspection of\nit's documentation\n, it appears that\nGetImpl()\ncalls\nLogSetTimePrinter\n.\nGetImpl()\nis called by\nSimulator::Run()\nwhich means that\nSimulator::Run()\nwill \"override\" any calls to\nLogSetTimePrinter\nbefore\nSimulator::Run()\nis called. Thus, we need to create an Event that sets the\nTimePrinter\nafter the\nSimulatorImpl\nhas been created."
  },
  {
    "url": "https://stackoverflow.com/questions/60079868/how-to-add-flowmonitor-in-on-off-application",
    "title": "How to add flowmonitor in on-off application?",
    "question": "Can anyone suggest how to add flow monitor in on-off application in NS-3. Modified Example file build successfully but didn't write any *.xml file, Below is the code :\nAny suggestions ? What is wrong here ? it looks like the API is correct.\nAsciiTraceHelper ascii;\n  Ptr<OutputStreamWrapper> osw = ascii.CreateFileStream ( (tr_name + \".tr\").c_str());\n  UanPhyDual.EnableAsciiAll (osw);\n\n  std::string tr_name (\"ULSR\");\n  Ptr<FlowMonitor> flowmon;\n  FlowMonitorHelper flowmonHelper;\n  flowmon = flowmonHelper.InstallAll ();\n  flowmon->CheckForLostPackets ();\n  std::map<FlowId, FlowMonitor::FlowStats> stats = flowmon->GetFlowStats ();\n  for (std::map<FlowId, FlowMonitor::FlowStats>::const_iterator m_numNodes = stats.begin (); m_numNodes != stats.end (); ++m_numNodes)\n    {\n        NS_LOG_UNCOND(\"Flow ID: \" << m_numNodes->first << \" Position of sink: \" << sink.Get (0) << \" Dst Addr \" << sinkDev.Get (0));\n        NS_LOG_UNCOND(\"Tx Packets = \" << m_numNodes->second.txPackets);\n        NS_LOG_UNCOND(\"Rx Packets = \" << m_numNodes->second.rxPackets);\n        NS_LOG_UNCOND(\"Throughput: \" << m_numNodes->second.rxBytes * 8.0 / (m_numNodes->second.timeLastRxPacket.GetSeconds()-m_numNodes->second.timeFirstTxPacket.GetSeconds()) / 1024  << \" Kbps\");\n    }\n\n\n  Simulator::Stop (m_simTime + Seconds (0.6));\n\n  Simulator::Run ();\n\n  flowmon->SerializeToXmlFile ((tr_name + \".flowmon\").c_str(), true, true);\n\n  Simulator::Destroy ();\n\n  return m_bytesTotal;\n}\nHere is the output of the command prompt:\n[2772/2852] Compiling scratch/uan-rc-example.cc\n[2807/2852] Linking build/scratch/uan-rc-example\nWaf: Leaving directory `/home/jay/Documents/dev/workspace/ns-allinone-3.30/ns-3.30/build'\nBuild commands will be stored in build/compile_commands.json\n'build' finished successfully (4.457s)\nparam=1:  Received 910000 bytes at sink\nThanks. Any help ?",
    "answer": "If I'm understanding the problem correctly, you're trying to get the print statements in the for-loop to run. FlowMonitor collects statistics of the simulation as it runs. You have placed the for-loop before the\nSimulator::Run()\ncall, so you are trying to print the statistics of the simulation before it has run! My guess is that\nflowmon->GetFlowStats()\nreturns an empty map, so you don't have a null pointer that would cause your program to crash: the for loop simply finds that the map is empty, and doesn't run.\nThe solution is simple: move the following code to after the call to\nSimulator::Run()\n:\nflowmon->CheckForLostPackets ();\nstd::map<FlowId, FlowMonitor::FlowStats> stats = flowmon->GetFlowStats ();\nfor (std::map<FlowId, FlowMonitor::FlowStats>::const_iterator m_numNodes = stats.begin (); m_numNodes != stats.end (); ++m_numNodes)\n{\n      NS_LOG_UNCOND(\"Flow ID: \" << m_numNodes->first << \" Position of sink: \" << sink.Get (0) << \" Dst Addr \" << sinkDev.Get (0));\n      NS_LOG_UNCOND(\"Tx Packets = \" << m_numNodes->second.txPackets);\n      NS_LOG_UNCOND(\"Rx Packets = \" << m_numNodes->second.rxPackets);\n      NS_LOG_UNCOND(\"Throughput: \" << m_numNodes->second.rxBytes * 8.0 / (m_numNodes->second.timeLastRxPacket.GetSeconds()-m_numNodes->second.timeFirstTxPacket.GetSeconds()) / 1024  << \" Kbps\");\n}\nYou also have to move the\nflowmon->checkForLostPackets()\ncall since that is how FlowMonitor will do a final roll call to determine which packets are missing (ie. dropped)\nafter\nthe simulation has completed running."
  },
  {
    "url": "https://stackoverflow.com/questions/59910471/need-help-understanding-specific-code-in-ns-3",
    "title": "Need help understanding specific code in NS-3",
    "question": "I am new to ns-3 and I am trying to edit the examples third.cc to make a simple simulation.\nHowever I need more than the specified no. of 18 wifiStaNodes . However I don't understand this code snippet to modify the parameters.\nmobility.SetPositionAllocator (\"ns3::GridPositionAllocator\",\n\"MinX\", DoubleValue (0.0),\n                              \"MinY\", DoubleValue (0.0),\n                              \"DeltaX\", DoubleValue (5.0),\n                              \"DeltaY\", DoubleValue (10.0),\n                              \"GridWidth\", UintegerValue (3),\n                              \"LayoutType\", StringValue (\"RowFirst\"));\nCan somebody please explain how this arrangement of the grid makes it possible for creating only 18 nodes?",
    "answer": "You can find these attributes in\nsrc/mobility/model/constant-position-mobility-model.cc\nwhere the explanation is as follows:\nMinX= The x coordinate where the grid starts.                              \nMinY = The y coordinate where the grid starts.\nDeltaX= The x space between objects.\nDeltaY= The y space between objects.\nGridWidth= The number of objects laid out on a line.\nLayoutType= The type of layout. (i.e., RowFirst or ColumnFirst)\nBased on value of\nGridWidth\nthe objects in each row/column are laid out, respectively. In your case, it would be 6 rows, each row containing 3 objects (nodes)."
  },
  {
    "url": "https://stackoverflow.com/questions/59909443/problem-in-building-aquasim-module-in-ns3",
    "title": "Problem in building Aquasim module in NS3",
    "question": "I am getting the following error while building aquasim\nIn file included from ./ns3/object-base.h:23:0,\n                 from ./ns3/object.h:29,\n                 from ./ns3/energy-source.h:30,\n                 from ../src/aqua-sim-ng/model/aqua-sim-energy-model.cc:21:\n\n\n    ./ns3/type-id.h: In instantiation of ‘static ns3::ObjectBase*     ns3::TypeId::AddConstructor()::Maker::Create() [with T = ns3::AquaSimEnergyModel]’:\n    ./ns3/type-id.h:659:3:   required from ‘ns3::TypeId ns3::TypeId::AddConstructor() [with T = ns3::AquaSimEnergyModel]’\n    ../src/aqua-sim-ng/model/aqua-sim-energy-model.cc:42:42:   required from here\n    ./ns3/type-id.h:656:27: error: invalid new-expression of abstract class type   ‘ns3::AquaSimEnergyModel’\n\n\n       ObjectBase * base = new T ();\n                           ^~~~~~~~\n    In file included from ../src/aqua-sim-ng/model/aqua-sim-energy-model.cc:26:0:\n../src/aqua-sim-ng/model/aqua-sim-energy-model.h:45:7: note:   because the following virtual    functions are pure within ‘ns3::AquaSimEnergyModel’:\n    class AquaSimEnergyModel : public DeviceEnergyModel\n       ^~~~~~~~~~~~~~~~~~\n    In file included from ./ns3/device-energy-model-container.h:26:0,\n                 from ./ns3/energy-source.h:34,\n                 from ../src/aqua-sim-ng/model/aqua-sim-energy-model.cc:21:\n\n    ./ns3/device-energy-model.h:106:16: note:   virtual void   ns3::DeviceEnergyModel::HandleEnergyChanged()\n\n     virtual void HandleEnergyChanged (void) = 0;\n                ^~~~~~~~~~~~~~~~~~~\n\n    Waf: Leaving directory `/home/udit/ns-allinone-3.30.1/ns-3.30.1/build'\n    Build failed\n    -> task in 'ns3-aqua-sim-ng' failed with exit status 1 (run with -v to display more   information)",
    "answer": "try to build ns3 according to this,\nhttps://www.nsnam.org/wiki/HOWTO_build_old_versions_of_ns-3_on_newer_compilers\nor please provide more details of your NS3 version and GCC compiler."
  },
  {
    "url": "https://stackoverflow.com/questions/59632211/one-server-and-multiple-clients-in-ns-3",
    "title": "One server and multiple clients in NS-3",
    "question": "I want to simulate a server that receives packets from multiple clients and process the data of these packets simultaneously together in NS-3. I have simulated one single server and client in NS-3 by modifying udp-echo-server and udp-echo-client applications in NS-3. Now, for implementing multiple clients, I modified the end lines of StartApplication function in udp-echo-server application as follows:\nif((childpid=fork())==0)\n    {\n       m_socket->SetRecvCallback (MakeCallback(&UdpEchoServer::HandleRead, this));\n       m_socket6->SetRecvCallback (MakeCallback(&UdpEchoServer::HandleRead, this));\n    }\nBut it does not work. Actually, by connecting two clients, it just reads the first client and ignores the second client. It just runs StartApplication function once. Can anyone help me with this?\nThanks",
    "answer": "The fundamental problem with what you're trying to do is that ns-3 is a single threaded simulator. You should not use\nfork\nto\nsimulate\nforking. If you want multiple clients, you have to explicitly create them. I have quickly whipped up a simple example:\n/* -*- Mode:C++; c-file-style:\"gnu\"; indent-tabs-mode:nil; -*- */\n\n// simple udp multi-client, single-server simulation to answer \n// https://stackoverflow.com/q/59632211/13040392\n\n#include \"ns3/core-module.h\"\n#include \"ns3/internet-module.h\"\n#include \"ns3/point-to-point-module.h\"\n#include \"ns3/ipv4-global-routing-helper.h\"\n#include \"ns3/applications-module.h\"\n#include \"ns3/point-to-point-grid.h\"\n#include \"ns3/flow-monitor-module.h\"\n\nusing namespace ns3;\n\nNS_LOG_COMPONENT_DEFINE(\"UdpMultiClient\");\n\nint\nmain(int argc, char *argv[]) {\n    // create grid structure of network\n    // not necessary. Could just create topology manually\n    PointToPointHelper p2pLink;\n    PointToPointGridHelper grid (2, 2, p2pLink);\n    InternetStackHelper stack;\n    grid.InstallStack(stack);\n\n    // assign IP addresses to NetDevices\n    grid.AssignIpv4Addresses (Ipv4AddressHelper (\"10.1.1.0\", \"255.255.255.0\"),\n                              Ipv4AddressHelper (\"10.2.1.0\", \"255.255.255.0\"));\n    Ipv4GlobalRoutingHelper::PopulateRoutingTables();\n\n    // configure and install server app\n    int serverPort = 8080;\n    UdpEchoServerHelper serverApp (serverPort);\n    serverApp.Install(grid.GetNode(0,0));\n    Address serverAddress = InetSocketAddress(grid.GetIpv4Address(0,0), serverPort);\n\n    // configure and install client apps\n    UdpEchoClientHelper clientApp (serverAddress);\n    clientApp.Install(grid.GetNode(0,1));\n    clientApp.Install(grid.GetNode(1,0));\n    clientApp.Install(grid.GetNode(1,1));\n\n    // install FlowMonitor to collect simulation statistics\n    FlowMonitorHelper flowHelper;\n    Ptr<FlowMonitor> flowMonitor = flowHelper.InstallAll();\n\n    // configure and run simulation\n    Simulator::Stop(Seconds(10));\n    NS_LOG_UNCOND(\"Starting simulation.\");\n    Simulator::Run();\n    Simulator::Destroy();\n    NS_LOG_UNCOND(\"Simulation completed.\");\n\n    // simulation complete\n    // get statistics of simlation from FlowMonitor\n    flowMonitor->CheckForLostPackets();\n    std::map<FlowId, FlowMonitor::FlowStats> stats = flowMonitor->GetFlowStats();\n    uint64_t txPacketsum = 0;\n    uint64_t rxPacketsum = 0;\n    uint64_t DropPacketsum = 0;\n    uint64_t LostPacketsum = 0;\n    double Delaysum = 0;\n    for (std::map<FlowId, FlowMonitor::FlowStats>::const_iterator i = stats.begin(); i != stats.end(); ++i) {\n        txPacketsum += i->second.txPackets;\n        rxPacketsum += i->second.rxPackets;\n        LostPacketsum += i->second.lostPackets;\n        DropPacketsum += i->second.packetsDropped.size();\n        Delaysum += i->second.delaySum.GetSeconds();\n    }\n    NS_LOG_UNCOND(std::endl << \"  SIMULATION STATISTICS\");\n    NS_LOG_UNCOND(\"  All Tx Packets: \" << txPacketsum);\n    NS_LOG_UNCOND(\"  All Rx Packets: \" << rxPacketsum);\n    NS_LOG_UNCOND(\"  All Delay: \" << Delaysum / txPacketsum);\n    NS_LOG_UNCOND(\"  All Lost Packets: \" << LostPacketsum);\n    NS_LOG_UNCOND(\"  All Drop Packets: \" << DropPacketsum);\n    NS_LOG_UNCOND(\"  Packets Delivery Ratio: \" << ((rxPacketsum * 100) / txPacketsum) << \"%\");\n    NS_LOG_UNCOND(\"  Packets Lost Ratio: \" << ((LostPacketsum * 100) / txPacketsum) << \"%\");\n    // flowMonitor->SerializeToXmlFile(\"test.xml\", true, true);\n\n    return 0;\n}\nAs a quick note, in\nUdpEchoClientHelper clientApp (serverAddress);\nclientApp.Install(grid.GetNode(0,1));\nclientApp.Install(grid.GetNode(1,0));\nclientApp.Install(grid.GetNode(1,1));\nwe installed the\nUdpEchoClient\non three\nNodes\n. According to the documentation for this\nApplication\n,\nUdpEchoClient\nsends a packet every 1000000000 ns = 1 s by default. Since we set the length of the simulation to 10 seconds using\nSimulator::Stop(Seconds(10));\n, we expect that each client will send 10 packets to the server. So, a total of 30 packets should be sent by clients. Also, since we are using\nUdpEchoServerHelper\non the server, each packet will be echoed back by the server. Therefore, a total of 30 x 2 = 60 packets should be transmitted on the network.\nThe output of the script is\nStarting simulation.\nSimulation completed.\n\n  SIMULATION STATISTICS\n  All Tx Packets: 60\n  All Rx Packets: 60\n  All Delay: 0.0423177\n  All Lost Packets: 0\n  All Drop Packets: 0\n  Packets Delivery Ratio: 100%\n  Packets Lost Ratio: 0%\nThis answer actually demonstrates several features of ns-3, so feel free to ask any followup questions. I highly encourage you to check out the\nns-3 documentation\nfor classes you haven't encountered yet."
  },
  {
    "url": "https://stackoverflow.com/questions/59475240/comparing-florainet-and-ns3-for-lorawan",
    "title": "Comparing Flora(inet) and Ns3 for lorawan",
    "question": "I am new to inet and Ns3.\nI am currently deciding between Flora (omnet++ based) and LoRaWAN (ns3 based). Which one is better in terms of features and vice versa. Also which one is easy to learn quickly.\nWould really appreciate if someone could guide me..I am not focusing on machine learning, but just resource allocation problems..Have a nice day",
    "answer": "Based on my personal experience Flora (Omnet++) has the following limitations.\nFlora doesn't consider mobility\nFlora doesn't take into account any type of interference (Intra/Inter spreading factor interference)\nA LoRaWAN gateway should implement 8 parallel reception paths, but it is not considered in Flora.\nIn the case of ADR, network server should assign Spreading factors. This feature is not supported in Flora.\nFlora doesn't support ADR in unconfirmed mode.\nSimulation with multiple gateways has problems.\nFlora doesn't provide a long range as defined by LoRaWAN.\nThe above features are implemented in ns3 based LoRaWAN. As compared to ns3 LoRaWAN, Flora implementation is difficult."
  },
  {
    "url": "https://stackoverflow.com/questions/59040124/how-to-extract-ip-address-from-queuediscitem-in-ns3",
    "title": "how to extract ip address from QueueDiscItem in ns3?",
    "question": "I'm new to NS3 and i was trying to extract ip address of a packet from QueueDiscItem,\nwhen i have:\nPtr< QueueDiscItem > item initiated and call:\nitem->Print(std::cout);\nthe output i get is\n\"tos 0x0 DSCP Default ECN Not-ECT ttl 63 id 265 protocol 6 offset (bytes) 0 flags [none] length: 76 10.1.4.2 > 10.1.2.1 0x7fffc67ec880 Dst addr 02-06-ff:ff:ff:ff:ff:ff proto 2048 txq\"\nbut when i call:\nIpv4Header header;\nitem->GetPacket()->PeekHeader(header);\nheader.Print(std::cout);\nthe output i get is\n\"tos 0x0 DSCP Default ECN Not-ECT ttl 0 id 0 protocol 0 offset (bytes) 0 flags [none] length: 20 102.102.102.102 > 102.102.102.102\"",
    "answer": "How to get the\nHeader\ndata\nAccording to the\nlist of TraceSources\n, the TraceSources associated with QueueDiscItems are for Queues. I'm guessing you were trying to attach to one of those TraceSources.\nA\nQueueDiscItem\nencapsulates several things: a\nPtr<Packet>\n, a MAC address, and several more things. Since you are using IPv4, the\nQueueDiscItem\nis actually an\nIpv4QueueDiscItem\n(the latter is a subclass of the former). So, let's start by casting the\nQueueDiscItem\nto an\nIpv4QueueDiscItem\nby\nPtr<const Ipv4QueueDiscItem> ipItem = DynamicCast<const Ipv4QueueDiscItem>(item);\nNext, you need to know that at this point in the simulation, the\nIpv4Header\nhas not\nbeen added to the\nPtr<Packet>\nyet. This is probably a design choice (that I don't understand). So, how can we get this information? Well, the\nIpv4QueueDiscItem\nencapsulates the\nIpv4Header\n, and at some point before passing the\nPtr<Packet>\nto L2, the header is added to the packet. This\nHeader\ncan be retrieved by\nconst Ipv4Header ipHeader = ipItem->GetHeader();\nSo, now we have the\nIpv4Header\nof the packet you're interested in. Now, we can safely get the address from the\nIpv4QueueDiscItem\nby\nipHeader.GetSource();\nipHeader.GetDestination();\nIn summary, your TraceSource function should look something like this:\nvoid\nEnqueueTrace (Ptr<const QueueDiscItem> item) {\n    Ptr<const Ipv4QueueDiscItem> ipItem = DynamicCast<const Ipv4QueueDiscItem>(item);\n    const Ipv4Header ipHeader = ipItem->GetHeader();\n    NS_LOG_UNCOND(\"Packet received at \" << Simulator::Now() << \" going from \" << ipHeader.GetSource() << \" to \" << ipHeader.GetDestination());\n}\nWhy does\nitem->Print(std::cout);\nwork?\nAll of the above makes sense, but why does\nitem->Print(std::cout);\nprint the correct addresses? First, it is important to realize that here\nPrint()\nis a function of the\nQueueDiscItem\n, not the\nPacket\n. If we go to\nthe source\nof this function, we find that\nPrint()\njust prints the\nHeader\nif it has already been added."
  },
  {
    "url": "https://stackoverflow.com/questions/58983336/ns3-network-simulator-with-xg-pon-module",
    "title": "NS3 Network Simulator with XG-PON module",
    "question": "I am new in the field of networking. I am working on NS3 simulator, version 3.27. I downloaded it, build it and run the examples first.cc, second.cc etc (location: /home/user/ns-allinone-3.27/ns-3.27/examples/tutorial).\nNow, I want to link the XG-PON module along with NS3. I downloaded the module from sourceforge.net. And copied the folder to the \"src\" folder in NS3. I tried building the simulator again using the command\n./build.py --enable-examples --enable-tests\n. But doing this gives the following error.\n'configure' finished successfully (2.415s)\n =>  /usr/bin/python waf build\nWaf: Entering directory `/home/divya/ns-allinone-3.26/ns-3.26/build'\nWaf: Leaving directory `/home/divya/ns-allinone-3.26/ns-3.26/build'\nsource not found: 'test/xgpon-pool-allocation-test.cc' in bld(features=['cxx', 'cxxshlib', 'ns3module', 'ns3testlib'], ns3_dir_location='src/xgpon', pcfilegen=bld(features='ns3pcfile', idx=4, meths=[], prec=defaultdict(<type 'list'>, {}), _name='', source='', module='ns3-xgpon-test', mappings={}, path=/home/divya/ns-allinone-3.26/ns-3.26/src/xgpon, target='') in /home/divya/ns-allinone-3.26/ns-3.26/src/xgpon, use=['ns3-xgpon'], mappings={}, uselib='', meths=['_add_test_code', 'apply_bundle', 'process_rule', 'process_source', 'apply_link', 'apply_implib', 'process_use', 'propagate_uselib_vars', 'apply_incpaths_ns3testlib', 'apply_incpaths', 'apply_vnum', 'collect_compilation_db_tasks', 'install_boost', 'set_macosx_deployment_target'], prec=defaultdict(<type 'list'>, {}), source=['test/xgpon-pool-allocation-test.cc', 'test/xgpon-olt-dba-engine-giant-test.cc'], test=True, install_path='${LIBDIR}', module_deps=['xgpon'], dependencies=['xgpon'], path=/home/divya/ns-allinone-3.26/ns-3.26/src/xgpon, vnum=None, posted=True, is_static=False, target='../../ns3.26-xgpon-test-debug', idx=3, _name='ns3-xgpon-test', is_ns3_module_test_library=True, module_name='ns3-xgpon') in /home/divya/ns-allinone-3.26/ns-3.26/src/xgpon\nTraceback (most recent call last):\n  File \"./build.py\", line 171, in <module>\n    sys.exit(main(sys.argv))\n  File \"./build.py\", line 162, in main\n    build_ns3(config, build_examples, build_tests, args, build_options)\n  File \"./build.py\", line 82, in build_ns3\n    run_command([sys.executable, \"waf\", \"build\"] + build_options)\n  File \"/home/divya/ns-allinone-3.26/util.py\", line 25, in run_command\n    raise CommandError(\"Command %r exited with code %i\" % (argv, retval))\nutil.CommandError: Command ['/usr/bin/python', 'waf', 'build'] exited with code 1\nAny help is highly appreciated.",
    "answer": "The Waf build tool is complaining that it cannot find one of the source files (test/xgpon-pool-allocation-test.cc) that is listed in the wscript for the xgpon module.  The solution is to either remove this file from the list of buildable test files in the wscript, or find out why it is missing and insert it into the test directory."
  },
  {
    "url": "https://stackoverflow.com/questions/58968886/unable-to-understand-constructor-syntax-of-a-getter-method-in-ns-3-source-code",
    "title": "Unable to understand Constructor() syntax of a getter method in ns-3 source code",
    "question": "Below is the code snippet\nTypeId\nUdpEchoClient::GetTypeId (void)\n{\n  static TypeId tid = TypeId (\"ns3::UdpEchoClient\")\n    .SetParent<Application> ()\n    .SetGroupName(\"Applications\")\n    .AddConstructor<UdpEchoClient> ()\n    .AddAttribute (\"MaxPackets\", \n                   \"The maximum number of packets the application will send\",\n                   UintegerValue (100),\n                   MakeUintegerAccessor (&UdpEchoClient::m_count),\n                   MakeUintegerChecker<uint32_t> ())\n    .AddAttribute (\"Interval\", \n                   \"The time to wait between packets\",\n                   TimeValue (Seconds (1.0)),\n                   MakeTimeAccessor (&UdpEchoClient::m_interval),\n                   MakeTimeChecker ())\n    .AddAttribute (\"RemoteAddress\", \n                   \"The destination Address of the outbound packets\",\n                   AddressValue (),\n                   MakeAddressAccessor (&UdpEchoClient::m_peerAddress),\n                   MakeAddressChecker ())\n    .AddAttribute (\"RemotePort\", \n                   \"The destination port of the outbound packets\",\n                   UintegerValue (0),\n                   MakeUintegerAccessor (&UdpEchoClient::m_peerPort),\n                   MakeUintegerChecker<uint16_t> ())\n    .AddAttribute (\"PacketSize\", \"Size of echo data in outbound packets\",\n                   UintegerValue (100),\n                   MakeUintegerAccessor (&UdpEchoClient::SetDataSize,\n                                         &UdpEchoClient::GetDataSize),\n                   MakeUintegerChecker<uint32_t> ())\n    .AddTraceSource (\"Tx\", \"A new packet is created and is sent\",\n                     MakeTraceSourceAccessor (&UdpEchoClient::m_txTrace),\n                     \"ns3::Packet::TracedCallback\")\n    .AddTraceSource (\"Rx\", \"A packet has been received\",\n                     MakeTraceSourceAccessor (&UdpEchoClient::m_rxTrace),\n                     \"ns3::Packet::TracedCallback\")\n    .AddTraceSource (\"TxWithAddresses\", \"A new packet is created and is sent\",\n                     MakeTraceSourceAccessor (&UdpEchoClient::m_txTraceWithAddresses),\n                     \"ns3::Packet::TwoAddressTracedCallback\")\n    .AddTraceSource (\"RxWithAddresses\", \"A packet has been received\",\n                     MakeTraceSourceAccessor (&UdpEchoClient::m_rxTraceWithAddresses),\n                     \"ns3::Packet::TwoAddressTracedCallback\")\n  ;\n  return tid;\n}\nparticularly this below segment\nstatic TypeId tid = TypeId (\"ns3::UdpEchoClient\")\n    .SetParent<Application> ()\n    .SetGroupName(\"Applications\")\nWhat is \"Application\" here in this SetParent() method?  The declaration of SetParent() is :\nTypeId SetParent (TypeId tid);\nand\ntemplate <typename T>\n    TypeId SetParent (void);\nCan somebody explain this GetTypeId(), what is going on here with nested dot(.) operators over a TypeId constructor?\nHere is the link to files :\n[1]\nhttps://github.com/signetlabdei/quic-ns-3/blob/master/src/applications/model/udp-echo-client.cc\n[2]\nhttps://github.com/signetlabdei/quic-ns-3/blob/master/src/core/model/type-id.h\n[3]\nhttps://github.com/signetlabdei/quic-ns-3/blob/master/src/core/model/type-id.cc\n[4]\nhttps://github.com/signetlabdei/quic-ns-3/blob/master/src/applications/model/udp-echo-client.h",
    "answer": "Can somebody explain this GetTypeId(), what is going on here with nested dot(.) operators over a TypeId constructor?\nIf you look into the declaration of the symbols in the header file you'll notice that all those \"nested dot operators\" are just methods of the class\nTypeId\nreturning a\nTypeId\n:\ntemplate <typename T> TypeId SetParent (void);\nIf you look into the source code of the method:\nTypeId \nTypeId::SetParent (TypeId tid)\n{\n  NS_LOG_FUNCTION (this << tid.GetUid ());\n  IidManager::Get ()->SetParent (m_tid, tid.m_tid);\n  return *this; //here the copy takes place\n}\nit comes clear that it returns a copy of itself.\nBut why does it return a copy of itself? When looking into the header file again it comes clear that the struct TypeId just has one value it holds:\nclass TypeId\n{\n// lots and lots of method declarations\n// [...]\n/** The TypeId value. */ \n  uint16_t m_tid;\n};\nThe copy is therefore just a tool to achieve the nesting of the operators.\nSo what does it do? As I haven't written this code I can't be 100% sure but for me it seems that it holds some meta information about passed types that you can change during runtime (e.g. change the constructor or the super class)"
  },
  {
    "url": "https://stackoverflow.com/questions/58929005/ns-3-build-finishing-successfully-but-program-not-running",
    "title": "ns-3 build finishing successfully but program not running",
    "question": "When I am running the command\n./waf --run hello-simulator\n\nWaf: Entering directory `/home/n/build'\nWaf: Leaving directory `/home/n/build'\nBuild commands will be stored in build/compile_commands.json\n'build' finished successfully (6.072s)\nBuild is finishing successfully but no output of the program showing.",
    "answer": "I faced the same problem, turns out my\nwaf\nwas not properly configured. so try the below commands to configure it again. (reason for this maybe sudden interruption or just wrong sequence of configuration)\nconfiguring waf\ncd ns-3.32 (your version might be different)\n  CXXFLAGS=\"-O3\" ./waf configure\n  ./waf -d optimised configure; ./waf\n  ./waf --disable-python configure\n  ./waf --enable-sudo configure\n  ./waf distclean\n  rm -rf build\n  ./build.py"
  },
  {
    "url": "https://stackoverflow.com/questions/58894139/a-tcp-based-client-server-system-using-ns3",
    "title": "A tcp based client-server system using ns3",
    "question": "I am completely new to ns3. All the tutorials that are given in the repo mainly consist of echo servers where they are sending a packet of specific size and receiving the echo. I want to design a real world scenario where the server offers some service. e.g. the client node takes a string in lower case as input and sends to server. The server changes it to upper case and returns to client and client prints it on console. How to model this exact situation in ns3 ? I could not get any solution even after searching for a lot of time and I am not getting any way of actually interacting with the user in ns3.",
    "answer": "Your question is very general and cannot be answered in a few lines. You can find the ns3 repository here\nLoRaWAN ns-3 module\n. It contains end devices, a gateway, and a server. A server is responsible for interacting with end devices in many ways. For example, the network server can control the end device's data rate, transmit power, and bandwidth. It also notifies end devices with downlink acknowledgment through a gateway. Based on my opinion, this module can be helpful for your mentioned scenario. If you do not want to violate the tcp/ip protocol stack you should modify the MAC commands used in this module to fulfill your needs."
  },
  {
    "url": "https://stackoverflow.com/questions/58772263/measure-the-battery-level-on-ns-3",
    "title": "Measure the battery level on ns-3",
    "question": "I am trying to build a MANET on NS-3. Is it feasible to measure the batteries of the wireless nodes and calculate the energy consumption? Can I use other standards, like Bluetooth, Zigbee, LoRA again by measuring the battery? So for example start the simulation using WiFi/Bluetooth/Zigbee/LoRA with the nodes having 100% battery, and with the use of trnasmition/receiving packets, to measure when the battery goes lower..70%, 30% ?",
    "answer": "Yes, ns-3 has a\nmodule\nfor working with energy consumption, it's in\nsrc/energy\n. Already having some\npower consumption models\nimplemented:\nRakhmatov Vrudhula non-linear battery model\nModel a generic Lithium Ion Battery\nLinear model\nYou can look at some examples of how to implement the templates in\nsrc/energy/examples\n. Recalling that ns-3 has no proprietary technology modules like ZigBee and Bluetooth, it currently implements a common communications module\nLR-WPAN\nbased on the IEEE 802.15.4 standard.\nThere is also an unofficial\nLoRaWAN\nmodule that works on ns-3."
  },
  {
    "url": "https://stackoverflow.com/questions/58708751/vanet-simple-cbr-application-no-output-empty-pcap-files",
    "title": "VANET simple CBR application, no output (empty pcap files)?",
    "question": "I have a problem .. \ni wanted to simulate a VANET network (only two nodes), that use\nOnOffApplication\n(in order to simulte video streaming traffic)\nI tried the following code, no error appear, however, the pcap files are empty ? and not packets were sent at all. Any suggestion please ?\nint main (int argc, char *argv[])\n  {\n  std::string phyMode (\"OfdmRate6MbpsBW10MHz\");\n\n\n  bool verbose = false;\n  NodeContainer c;\n  c.Create (2);\n\n  // The below set of helpers will help us to put together the wifi NICs we want\n  YansWifiPhyHelper wifiPhy =  YansWifiPhyHelper::Default ();\n  YansWifiChannelHelper wifiChannel = YansWifiChannelHelper::Default ();\n  Ptr<YansWifiChannel> channel = wifiChannel.Create ();\n  wifiPhy.SetChannel (channel);\n  // ns-3 supports generate a pcap trace\n  wifiPhy.SetPcapDataLinkType (WifiPhyHelper::DLT_IEEE802_11);\n  NqosWaveMacHelper wifi80211pMac = NqosWaveMacHelper::Default ();\n  Wifi80211pHelper wifi80211p = Wifi80211pHelper::Default ();\n  if (verbose)\n    {\n      wifi80211p.EnableLogComponents ();      // Turn on all Wifi 802.11p logging\n    }\n\n  wifi80211p.SetRemoteStationManager (\"ns3::ConstantRateWifiManager\",\n                                      \"DataMode\",StringValue (phyMode),\n                                      \"ControlMode\",StringValue (phyMode));\n  NetDeviceContainer devices = wifi80211p.Install (wifiPhy, wifi80211pMac, c);\n\n  // Tracing\n  wifiPhy.EnablePcap (\"wave-simple-80211p\", devices);\n\n  MobilityHelper mobility;\n  Ptr<ListPositionAllocator> positionAlloc = CreateObject<ListPositionAllocator> ();\n  positionAlloc->Add (Vector (0.0, 0.0, 0.0));\n  positionAlloc->Add (Vector (5.0, 0.0, 0.0));\n  mobility.SetPositionAllocator (positionAlloc);\n  mobility.SetMobilityModel (\"ns3::ConstantPositionMobilityModel\");\n  mobility.Install (c);\n\n  InternetStackHelper internet;\n  internet.Install (c);\n\n\n  Address serverAddress;\n  Ipv4AddressHelper ipv4;\n  NS_LOG_INFO (\"Assign IP Addresses.\");\n  ipv4.SetBase (\"192.168.1.0\", \"255.255.255.0\");\n  Ipv4InterfaceContainer i = ipv4.Assign (devices);\n  serverAddress = Address (i.GetAddress (1));\n\n\n // Create router nodes, initialize routing database and set up the routing\n  // tables in the nodes.\n  Ipv4GlobalRoutingHelper::PopulateRoutingTables ();\n\n  // Create the OnOff application to send UDP datagrams of size\n  // 210 bytes at a rate of 448 Kb/s\n  NS_LOG_INFO (\"Create Applications.\");\n  uint16_t port = 9;   // Discard port (RFC 863)\n  OnOffHelper onoff (\"ns3::UdpSocketFactory\", \n                     Address (InetSocketAddress (i.GetAddress (0), port)));\n  onoff.SetConstantRate (DataRate (\"448kb/s\"));\n  ApplicationContainer apps = onoff.Install (c.Get (0));\n  apps.Start (Seconds (1.0));\n  apps.Stop (Seconds (10.0));\n\n  // Create a packet sink to receive these packets\n  PacketSinkHelper sink (\"ns3::UdpSocketFactory\",\n                         Address (InetSocketAddress (i.GetAddress(1), port)));\n  apps = sink.Install (c.Get (1));\n  apps.Start (Seconds (1.0));\n  apps.Stop (Seconds (10.0));\n\n\n  AsciiTraceHelper ascii;\n  wifiPhy.EnableAsciiAll (ascii.CreateFileStream (\"simple-global-routing.tr\"));\n  wifiPhy.EnablePcapAll (\"simple-global-routing\");\n\n  // // Flow Monitor\n  // FlowMonitorHelper flowmonHelper;\n  // if (enableFlowMonitor)\n    // {\n      // flowmonHelper.InstallAll ();\n    // }\n\n  NS_LOG_INFO (\"Run Simulation.\");\n  Simulator::Stop (Seconds (11));\n  Simulator::Run ();\n  NS_LOG_INFO (\"Done.\");\n\n\nNS_LOG_INFO (\"Done.\");\n  Simulator::Destroy ();\n\n\n  return 0;\n}\nWhat Should i do exactly ?",
    "answer": "The problem is only with the way you choose to address the different nodes using\nOnOffHelper\n,\nPacketSinkHelper\nand\nApplicationContainer\nto contain the two nodes in your case.\nOnOffHelper onoff (\"ns3::UdpSocketFactory\", \n                     Address (InetSocketAddress (i.GetAddress (0), port)));\n  onoff.SetConstantRate (DataRate (\"448kb/s\"));\n  ApplicationContainer apps = onoff.Install (c.Get (0));\n  apps.Start (Seconds (1.0));\n  apps.Stop (Seconds (10.0));\n\n  // Create a packet sink to receive these packets\n  PacketSinkHelper sink (\"ns3::UdpSocketFactory\",\n                         Address (InetSocketAddress (i.GetAddress(1), port)));\n  apps = sink.Install (c.Get (1));\nIn this case the\nstation 1\n: 192.16.1.1 is the source and\nstation 2\n: 192.16.1.2 is the sink. But you used the ip address and port to itself (\nAddress (InetSocketAddress (i.GetAddress(0), port)\nand Address (InetSocketAddress (i.GetAddress(1), port)). It should instead be\nOnOffHelper onoff (\"ns3::UdpSocketFactory\", \n                         Address (InetSocketAddress (i.GetAddress (1), port)));\n      onoff.SetConstantRate (DataRate (\"448kb/s\"));\n      ApplicationContainer apps = onoff.Install (c.Get (0));\n      apps.Start (Seconds (1.0));\n      apps.Stop (Seconds (10.0));\n\n\n      PacketSinkHelper sink (\"ns3::UdpSocketFactory\",\n                             Address (InetSocketAddress (i.GetAddress(0), port)));\n      apps = sink.Install (c.Get (1));\nor vice-versa. You can actually have a look at what's going by activating flow-monitor and pcap files are also created now."
  },
  {
    "url": "https://stackoverflow.com/questions/58290892/can-not-compile-the-code-because-it-is-deprecated-in-c11",
    "title": "Can not compile the code because it is deprecated in C++11",
    "question": "I have a code compiling with ns-3, but I meet some problems when I try to compile them. I think the reason might be some functions are deprecated in C++11. But I do not know how to revise the code.\nHere is the code I think should be revised:\nm_sendBuffer.erase(\n    std::remove_if(\n        m_sendBuffer.begin(), m_sendBuffer.end(),\n        std::bind2nd(std::ptr_fun(DsrSendBuffer::IsEqual), dst)\n    ),\n    m_sendBuffer.end()\n);\nHere is the error:\n../src/dsr/model/dsr-rsendbuff.cc:102:55: error: 'ptr_fun<ns3::dsr::DsrSendBuffEntry, ns3::Ipv4Address, bool>' is deprecated [-Werror,-Wdeprecated-declarations]\n                                      std::bind (std::ptr_fun (DsrSendBuffer::IsEqual), dst)), m_sendBuffer.end ());\n\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/functional:1115:1: note: 'ptr_fun<ns3::dsr::DsrSendBuffEntry, ns3::Ipv4Address, bool>' has been explicitly marked deprecated here\n_LIBCPP_DEPRECATED_IN_CXX11 inline _LIBCPP_INLINE_VISIBILITY\n\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/__config:1101:39: note: expanded from macro '_LIBCPP_DEPRECATED_IN_CXX11'\ndefine _LIBCPP_DEPRECATED_IN_CXX11 _LIBCPP_DEPRECATED\n\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/__config:1090:48: note: expanded from macro '_LIBCPP_DEPRECATED'\ndefine _LIBCPP_DEPRECATED __attribute__ ((deprecated))",
    "answer": "It seem that they use a deprecated API indeed, but you could still compile it by allowing deprecation warning to be treated as warnings. Add this to your compiler options:\n-Wno-error=deprecated-declarations\nIf you want instead to upgrade the code, you can do this lambda instead:\nm_sendBuffer.erase(\n    std::remove_if(\n        m_sendBuffer.begin(), m_sendBuffer.end(),\n        [&dst](auto const& buf) { return DsrSendBuffer::IsEqual(buf, dst); }\n    ),\n    m_sendBuffer.end()\n);"
  },
  {
    "url": "https://stackoverflow.com/questions/58255967/ns3-waf-configure-headers-not-found",
    "title": "ns3 waf configure headers not found",
    "question": "I have a version of ns-3.26 installed on my VM. Its working fine.\nHowever now I need to use very old code and since I dont want to break anything, I downloaded ns-3.26 again and wanted to build it.\nBut the\nwaf configure\ngives me for this version a lot of missing headers:\nChecking for header stdint.h                                       : not found\nChecking for header inttypes.h                                     : not found\nChecking for header sys/inttypes.h                                 : not found\nChecking for header sys/types.h                                    : not found\nChecking for header sys/stat.h                                     : not found\nChecking for header dirent.h                                       : not found\nChecking for header stdlib.h                                       : not found\nChecking for header signal.h                                       : not found\nIn the first version it does find all headers. I am totally confused by that and have no idea how to tackle this problem. What could be the reason for that and how can I solve it?\n// EDIT: I am forced to this version of ns3",
    "answer": "So the problem was, that waf was trying to link a shared library I used but the file it tried to link was corrupt. Therefore all the mini compilations waf performs to check for missing headers failed and the header was shown as not found. That ofc yields the wrong environment variables.\nI copied the shared library again which made it work. However, it can happen that your so file is a symbolic link which breaks under circumstances. In this case you need to create a new link with the same name which points to the correct so file."
  },
  {
    "url": "https://stackoverflow.com/questions/58094658/vehicles-interaction-with-the-edge-cloud-using-sumo-and-ns3",
    "title": "Vehicle's interaction with the edge Cloud using Sumo and NS3",
    "question": "Lately, I have been interested in evaluating the vehicle interaction with the Edge Cloud (Latency matter). I am thinking about using Sumo traces in a Ns3 simulation, but the problem is that all what I found are tutoriels simulating Vanet Communication : Vehicles with Vehicles. My question is : Is there a way to represent the edge cloud (As a calculating node) in this environment, for example a static node placed in the map, not moving but interacting with vehicles. I don't want to work on something already doomed to fail and thank you for your insights.",
    "answer": "An edge cloud can be represented by a static node anywhere on your scenario (wherever you want it placed).\nIn NS-3 you can have multiple mobility for different nodes, i.e., have nodes representing cars or pedestrians being mobile, and your cloud node or Wi-Fi AP being static.\nCan you share your code?"
  },
  {
    "url": "https://stackoverflow.com/questions/57898744/came-across-the-following-lines-of-code-in-ns3-need-help-understanding-it",
    "title": "Came across the following lines of code in NS3. Need help understanding it",
    "question": "The Node object is declared as\nclass Node : public Object\n{\npublic:\n  static TypeId GetTypeId (void);\nand it's definition is\nTypeId\nNode::GetTypeId (void)\n{\n  static TypeId tid = TypeId (\"ns3::Node\")\n    .SetParent<Object> ()\n    .SetGroupName (\"Network\")\n    .AddConstructor<Node> ()\n    .AddAttribute (\"DeviceList\",\n                   \"The list of devices associated to this Node.\",\n                   ObjectVectorValue (),\n                   MakeObjectVectorAccessor (&Node::m_devices),\n                   MakeObjectVectorChecker<NetDevice> ())\n    .AddAttribute (\"ApplicationList\",\n                   \"The list of applications associated to this Node.\",\n                   ObjectVectorValue (),\n                   MakeObjectVectorAccessor (&Node::m_applications),\n                   MakeObjectVectorChecker<Application> ())\n    .AddAttribute (\"Id\",\n                   \"The id (unique integer) of this Node.\",\n                   TypeId::ATTR_GET, // allow only getting it.\n                   UintegerValue (0),\n                   MakeUintegerAccessor (&Node::m_id),\n                   MakeUintegerChecker<uint32_t> ())\n    ;\n  return tid;\n}\nMy question is regarding this:\nstatic TypeId tid = TypeId (\"ns3::Node\")\n    .SetParent<Object> ()\nOnce we declare what\ntid\nis, there is no end of line\n;\nsymbol and the next few lines start with the dot\n.\noperator.\n.SetParent<Object> ()\n    .SetGroupName (\"Network\")\n    .AddConstructor<Node> ()\nI did a basic study of OOP before starting to work on NS3 but didn't come across this kind of syntax before.\nIs it an alternate way of declaring the methods/attributes' of the class\nNode\n?",
    "answer": "Whitespace, including line breaks, is not meaningful in C++.\nTypeId (\"ns3::Node\")\ncreates a temporary object.\n.SetParent<Object> ()\nis a method called on the object. Apparently, it returns a reference to the object, on which\n.SetGroupName()\nis called, and so on.\nEach method sets some attribute on the temporary object. Once it is fully configured, it is used to initialize\nstatic TypeId tid\n."
  },
  {
    "url": "https://stackoverflow.com/questions/57403082/how-to-get-the-number-of-lost-packets-using-tcp-in-ns-3-80211n-mimo-example",
    "title": "How to get the number of lost packets using TCP in NS-3 ? (80211n + MIMO example)",
    "question": "I am using this example :\nhttps://github.com/nsnam/ns-3-dev-git/blob/master/examples/wireless/80211n-mimo.cc\n.\nFor UDP, there's a function called \"GetLost()\" in UdpServer that returns the number of lost packets but for TCP there's not. I ask if there's any solution to solve this please. Thanks\n/* Setting applications */\n      ApplicationContainer serverApp;\n      if (udp)\n        {\n          //UDP flow\n          uint16_t port = 9;\n          UdpServerHelper server (port);\n          serverApp = server.Install (wifiStaNode.Get (0));\n          serverApp.Start (Seconds (0.0));\n          serverApp.Stop (Seconds (simulationTime + 1));\n\n          UdpClientHelper client (staNodeInterface.GetAddress (0), port);\n          client.SetAttribute (\"MaxPackets\", UintegerValue (4294967295u));\n          client.SetAttribute (\"Interval\", TimeValue (Time (\"0.00001\"))); //packets/s\n          client.SetAttribute (\"PacketSize\", UintegerValue (payloadSize));\n          ApplicationContainer clientApp = client.Install (wifiApNode.Get (0));\n          clientApp.Start (Seconds (1.0));\n          clientApp.Stop (Seconds (simulationTime + 1));\n        }\n      else\n        {\n          //TCP flow\n          uint16_t port = 50000;\n          Address localAddress (InetSocketAddress (Ipv4Address::GetAny (), port));\n          PacketSinkHelper packetSinkHelper (\"ns3::TcpSocketFactory\", localAddress);\n          serverApp = packetSinkHelper.Install (wifiStaNode.Get (0));\n          serverApp.Start (Seconds (0.0));\n          serverApp.Stop (Seconds (simulationTime + 1));\n\n          OnOffHelper onoff (\"ns3::TcpSocketFactory\",Ipv4Address::GetAny ());\n          onoff.SetAttribute (\"OnTime\",  StringValue (\"ns3::ConstantRandomVariable[Constant=1]\"));\n          onoff.SetAttribute (\"OffTime\", StringValue (\"ns3::ConstantRandomVariable[Constant=0]\"));\n          onoff.SetAttribute (\"PacketSize\", UintegerValue (payloadSize));\n          onoff.SetAttribute (\"DataRate\", DataRateValue (1000000000)); //bit/s\n          AddressValue remoteAddress (InetSocketAddress (staNodeInterface.GetAddress (0), port));\n          onoff.SetAttribute (\"Remote\", remoteAddress);\n          ApplicationContainer clientApp = onoff.Install (wifiApNode.Get (0));\n          clientApp.Start (Seconds (1.0));\n          clientApp.Stop (Seconds (simulationTime + 1));\n        }        \n\n    Simulator::Stop (Seconds (simulationTime + 1));\n      Simulator::Run ();\n\n      uint64_t nb = 0;\n      uint64_t lost = 0;\n      if (udp)\n        {\n          //UDP\n          nb = DynamicCast<UdpServer> (serverApp.Get (0))->GetReceived ();\n          lost = DynamicCast<UdpServer> (serverApp.Get (0))->GetLost();\n          double window = DynamicCast<UdpServer> (serverApp.Get (0))->GetPacketWindowSize();\n          std::cout << \"Window Size :\" << window << std::endl;\n        }\n      else\n        {\n          //TCP\n          uint64_t totalPacketsThrough = DynamicCast<PacketSink> (serverApp.Get (0))->GetTotalRx ();\n          nb = totalPacketsThrough / payloadSize ;\n\n          /*need help here to get the number of lost packets using TCP Thanks*/\n\n        }\n      dataset1.Add (d, nb);\n      dataset2.Add (d, lost);\n      std::cout << nb << \" Received packets\" << std::endl;\n      std::cout << lost << \" Lost packets\" << std::endl;\n      d += step;\n      Simulator::Destroy ();\n    }\n  plot1.AddDataset (dataset1);\n  plot2.AddDataset (dataset2);\n}",
    "answer": "Use the \"Tx\" trace for the OnOffApplication to call a function every time a packet is transmitted -\nvoid SourceUdpTrace(Ptr<const Packet> pkt)\n{\n  nPacketsSent++;\n}\nInside main(), use the following Config::Connect statement to set up the trace and link it with\nSourceUdpTrace\n. This statement has to be placed before\nSimulator::Run()\nConfig::ConnectWithoutContext(\"/NodeList/*/ApplicationList/*/$ns3::ManualOnOffApp/Tx\",MakeCallback(&SourceUdpTrace));\nOnce you know the number of sent packets, you can easily determine the number of lost packets by comparing it the value of\nnb\n, as found by your line of code -\nnb = totalPacketsThrough / payloadSize;"
  },
  {
    "url": "https://stackoverflow.com/questions/57353212/how-to-get-the-received-time-of-each-packet-in-ns-3-802-11nmimo-example",
    "title": "How to get the received time of each packet in NS-3? (802.11n+MIMO example)",
    "question": "I am using this example :\nhttps://github.com/nsnam/ns-3-dev-git/blob/master/examples/wireless/80211n-mimo.cc\nand i want to get the received time of packets to be plotted. I tried to use\nSimulator::Now().GetSeconds();\nbut it shows the same value every time (6s)\nI ask if there's any other way to solve this please.\n/* Setting applications */\n      ApplicationContainer serverApp;\n      if (udp)\n        {\n          //UDP flow\n          uint16_t port = 9;\n          UdpServerHelper server (port);\n          serverApp = server.Install (wifiStaNode.Get (0));\n          serverApp.Start (Seconds (0.0));\n          serverApp.Stop (Seconds (simulationTime + 1));\n\n          UdpClientHelper client (staNodeInterface.GetAddress (0), port);\n          client.SetAttribute (\"MaxPackets\", UintegerValue (4294967295u));\n          client.SetAttribute (\"Interval\", TimeValue (Time (\"0.00001\"))); //packets/s\n          client.SetAttribute (\"PacketSize\", UintegerValue (payloadSize));\n          ApplicationContainer clientApp = client.Install (wifiApNode.Get (0));\n          clientApp.Start (Seconds (1.0));\n          clientApp.Stop (Seconds (simulationTime + 1));\n        }\n      else\n        {\n          //TCP flow\n          uint16_t port = 50000;\n          Address localAddress (InetSocketAddress (Ipv4Address::GetAny (), port));\n          PacketSinkHelper packetSinkHelper (\"ns3::TcpSocketFactory\", localAddress);\n          serverApp = packetSinkHelper.Install (wifiStaNode.Get (0));\n          serverApp.Start (Seconds (0.0));\n          serverApp.Stop (Seconds (simulationTime + 1));\n\n          OnOffHelper onoff (\"ns3::TcpSocketFactory\",Ipv4Address::GetAny ());\n          onoff.SetAttribute (\"OnTime\",  StringValue (\"ns3::ConstantRandomVariable[Constant=1]\"));\n          onoff.SetAttribute (\"OffTime\", StringValue (\"ns3::ConstantRandomVariable[Constant=0]\"));\n          onoff.SetAttribute (\"PacketSize\", UintegerValue (payloadSize));\n          onoff.SetAttribute (\"DataRate\", DataRateValue (1000000000)); //bit/s\n          AddressValue remoteAddress (InetSocketAddress (staNodeInterface.GetAddress (0), port));\n          onoff.SetAttribute (\"Remote\", remoteAddress);\n          ApplicationContainer clientApp = onoff.Install (wifiApNode.Get (0));\n          clientApp.Start (Seconds (1.0));\n          clientApp.Stop (Seconds (simulationTime + 1));\n        }        \n\n    Simulator::Stop (Seconds (simulationTime + 1));\n      Simulator::Run ();\n\n      double throughput = 0;\n\n    **double received = Simulator::Now().GetSeconds();**\n\n      if (udp)\n        {\n          //UDP\n          uint64_t totalPacketsThrough = DynamicCast<UdpServer> (serverApp.Get (0))->GetReceived ();\n          throughput = totalPacketsThrough * payloadSize * 8 / (simulationTime * 1000000.0); //Mbit/s\n        }\n      else\n        {\n          //TCP\n          uint64_t totalPacketsThrough = DynamicCast<PacketSink> (serverApp.Get (0))->GetTotalRx ();\n          throughput = totalPacketsThrough * 8 / (simulationTime * 1000000.0); //Mbit/s\n        }\n      dataset.Add (d, throughput);\n      std::cout << throughput << \" Mbit/s\" << std::endl;\n\n    **std::cout << \"received After :\" << received << \" s\" << std::endl;**\n\n      d += step;\n      Simulator::Destroy ();\n    }\n  plot.AddDataset (dataset);\n}\nI tried to use \"Simulator::Now().GetSeconds();\" but it shows the same value every time(6s).",
    "answer": "The same value is returned by\nSimulator::Now().GetSeconds()\nbecause it is being called after the simulation is complete. It has to be invoked\nduring\nthe actual simulation. One way would be to actually dig around the huge library of code (TCP/UDP modules under 'src/internet/', in this case) and figure out which function actually deals with the reception of the packet. But to make life easier, ns-3 has already implemented\ntracing\nto handle this.\nTo answer your specific question, you will require a packet sink trace.\nConsider the code where you are installing the packet sink inside your main() function:\nApplicationContainer TcpSinkApps = TcpPacketSink.Install (nodeContainer.Get(0));\nPtr<PacketSink> pktSink = StaticCast<PacketSink> (TcpSinkApps.Get(0));\nstd::stringstream ss; ss << \"Some information\";\npktSink->TraceConnect(\"Rx\", ss.str(), MakeCallback (&SinkRxTrace));\nThe \"Rx\" trace is defined in\npacket-sink.cc\n, such that SinkRxTrace() is a function that is called every time a packet is received successfully. Now you can go ahead and define the SinkRxTrace() in your code (above main() of course):\nvoid SinkRxTrace(std::string context, Ptr<const Packet> pkt, const Address &addr)\n{\n  std::cout<<\"Packet received at \"<<Simulator::Now().GetSeconds()<<\" s\\n\";\n}"
  },
  {
    "url": "https://stackoverflow.com/questions/57290850/how-to-get-and-print-mobile-nodes-position-in-aodv-ns3",
    "title": "How to get and print mobile node's position in aodv NS3?",
    "question": "I am working with\nAODV\nin\nNS3\n. I actually want to print node's position on\nroutingProtocol.cc\n.",
    "answer": "You can first get the mobility model object from the node. Using the mobility model object, you can then get the coordinates of the node.\nPtr<MobilityModel> mob = node->GetObject<MobilityModel>();\ndouble x = mob->GetPosition().x;\ndouble y = mob->GetPosition().y;\ndouble z = mob->GetPosition().z;"
  },
  {
    "url": "https://stackoverflow.com/questions/56923138/i-need-some-solution-please",
    "title": "I need some solution please",
    "question": "I am getting the following error message:\nWarning: Environment variable SUMO_HOME is not set, using built in type maps.\nWarning: Environment variable SUMO_HOME is not set, schema resolution will use slow website lookups.\nError: unable to open file 'https://sumo.dlr.de/xsd/types_file.xsd'\n In file 'built in type map'\n At line/column 1/0.\n\n  The types could not be loaded from 'built in type map'.\nQuitting (on error).\nWhat could be causing this?",
    "answer": "Error: unable to open file '\nhttps://sumo.dlr.de/xsd/types_file.xsd\n'\nIt's http , not http\ns\n. ... Please see this site\nhttps://sumo.dlr.de/wiki/Networks/PlainXML\n→\n$ wget http://sumo.dlr.de/xsd/types_file.xsd\nMy test  (I created a test dir.\nsumo/TEST_COMMANDS/\nwith some default files + the \"wget downloaded\"\ntypes_file.xsd\n):\n$ cd sumo/ && export SUMO_HOME=\"$PWD\" && cd TEST_COMMANDS/\n\n$ netconvert --node-files=input_nodes.nod.xml --edge-files=input_edges.edg.xml \\\n  --connection-files=input_connections.con.xml --type-files=types_file.xsd \\\n  --output-file=MySUMONet.net.xml\nThe terminal reply is :\nSuccess.\n..... And the file\nMySUMONet.net.xml\n61.4kB is created."
  },
  {
    "url": "https://stackoverflow.com/questions/56909651/calculate-distance-of-vehicular-nodes-for-every-time-instance",
    "title": "calculate distance of vehicular nodes for every time instance",
    "question": "i have to calculate distance between cars for every second in simulation my code only displays for time =0\nsimulator::schedule\ndouble\n GetDistance_From (Ptr<Node> node1, Ptr<Node> node2)\n{\n\n  Ptr<MobilityModel> model1 = node1->GetObject<MobilityModel>();\n  Ptr<MobilityModel> model2 = node2->GetObject<MobilityModel>();\n  double distance = model1->GetDistanceFrom (model2);\n return distance;\n\n}\nand call in main function\nfor (int i=0; i < 5; i++)\n   {\n     for (int k=i+1; k < 5; k++)\n       {\n          double dist= GetDistance_From(c.Get(i),c.Get(k));\n         // Simulator::Schedule(Seconds(10), GetDistance_From,c.Get(i),c.Get(k), dist);\n         int t = (Simulator::Now ()).GetSeconds ();\n\n        std::ostringstream oss;\n        oss  << \"distance between Source Node(\" << i << \") and Node(\" <<k<<  \") est= \" << dist<<\" at time=\"<< t ;\n\n       NS_LOG_UNCOND (oss.str());\n       }\n   }\nresults are only for one time",
    "answer": "You have to put that code inside a loop that runs evey 1000ms to simulate time passing."
  },
  {
    "url": "https://stackoverflow.com/questions/56858153/is-anyone-embedded-aqua-sim-ng-with-ns-3-29",
    "title": "Is anyone embedded aqua-sim-ng with ns-3.29?",
    "question": "I had tried to configure aqua-sim-ng (according to aqua-sim-ng documentation would only work on ns-3.25,ns-3.26 and ns-3.27) with ns-3.29. I am getting an compiling error which is attached below. Please help how can i solve those compiling error.\nIn file included from ../src/aqua-sim-ng/model/aqua-sim-phy.h:29:0,\n                 from ../src/aqua-sim-ng/model/aqua-sim-net-device.h:38,\n                 from ../src/aqua-sim-ng/model/aqua-sim-routing.h:35,\n                 from ../src/aqua-sim-ng/model/aqua-sim-routing-vbf.h:24,\n                 from ../src/aqua-sim-ng/model/aqua-sim-routing-vbf.cc:21:\n../src/aqua-sim-ng/model/aqua-sim-channel.h:67:20: error: conflicting return type specified for ‘virtual uint32_t ns3::AquaSimChannel::GetNDevices() const’\n   virtual uint32_t GetNDevices (void) const;\n                    ^\nIn file included from ../src/aqua-sim-ng/model/aqua-sim-channel.h:24:0,\n                 from ../src/aqua-sim-ng/model/aqua-sim-phy.h:29,\n                 from ../src/aqua-sim-ng/model/aqua-sim-net-device.h:38,\n                 from ../src/aqua-sim-ng/model/aqua-sim-routing.h:35,\n                 from ../src/aqua-sim-ng/model/aqua-sim-routing-vbf.h:24,\n                 from ../src/aqua-sim-ng/model/aqua-sim-routing-vbf.cc:21:\n./ns3/channel.h:68:23: error:   overriding ‘virtual std::size_t ns3::Channel::GetNDevices() const’\n   virtual std::size_t GetNDevices (void) const = 0;\n                   ^\n\nWaf: Leaving directory `/home/jay/Desktop/ns-allinone-3.29/ns-3.29/build'\nBuild failed\n -> task in 'ns3-aqua-sim-ng' failed with exit status 1:\n        {task 140292841097768: cxx aqua-sim-routing-vbf.cc -> aqua-sim-routing-vbf.cc.1.o}\n['/usr/bin/g++', '-O0', '-ggdb', '-g3', '-Wall', '-Werror', '-std=c++11', '-fstrict-aliasing', '-Wstrict-aliasing', '-fPIC', '-pthread', '-I.', '-I..', '-DNS3_BUILD_PROFILE_DEBUG', '-DNS3_ASSERT_ENABLE', '-DNS3_LOG_ENABLE', '-DHAVE_SYS_IOCTL_H=1', '-DHAVE_IF_NETS_H=1', '-DHAVE_NET_ETHERNET_H=1', '-DHAVE_PACKET_H=1', '-DHAVE_SQLITE3=1', '-DHAVE_IF_TUN_H=1', '../src/aqua-sim-ng/model/aqua-sim-routing-vbf.cc', '-c', '-o/home/jay/Desktop/ns-allinone-3.29/ns-3.29/build/src/aqua-sim-ng/model/aqua-sim-routing-vbf.cc.1.o']",
    "answer": "There is a conflict between the types\nuint32_t\nand\nstd::size_t\n. Change all the occurrences of\nuint32_t\nto\nstd::size_t\nin\naqua-sim-channel.h\nand\naqua-sim-channel.cc\n."
  },
  {
    "url": "https://stackoverflow.com/questions/56374991/call-matlab-from-c-on-ubuntu",
    "title": "call Matlab from C++ on Ubuntu",
    "question": "I'm trying to call Matlab function from C++ (for NS-3) in Eclipse IDE on Ubuntu 18.04. I used Matlab Library Compiler to compile the .m file into a C++ Shared Library. How do I call the function correctly?\nThe corresponding MATLAB Runtime has been installed and configured. At first it can't find \"mclmcrrt.h\", I copied the /usr/local/MATLAB/R2018b/extern/include folder and changed the library header to include \"./include/mclmcrrt.h\". Then the IDE can find the header files correctly.\nA C++ script to test the library as follows:\n/* C = A+B */\n#include <iostream>\n#include \"libtestAdd.h\"\n\nusing namespace std;\n\nint main(){\n    double A[] = {1};\n    double B[] = {2};\n    int nargout = 1;\n\n    mwArray input_A (1,1,mxDOUBLE_CLASS,mxREAL);\n    input_A.SetData(M,1);\n    mwArray input_B (1,1,mxDOUBLE_CLASS,mxREAL);\n    input_B.SetData(K,1);\n    mwArray C (1,1,mxDOUBLE_CLASS,mxREAL);\n\n    if (!mclInitializeApplication(NULL,0)){\n        std::cerr << \"Could not initialize the application properly.\"\n                  << std::endl;\n        return -1;\n    }\n    libtestAddInitialize();\n    testAdd(nargout, C, input_A, input_B);\n    libtestAddTerminate();\n\n    return 1;\n}\nThe Matlab function is C=A+B.\nThe .m file has been compiled into a C++ Shared Library (\"libtestAdd.so\" and \"libtestAdd.h\"). The C++ script try to call the \"testAdd\" function from the library.\nMatlab Runtime has been correctly installed. /etc/profile has been changed to export the follows path to LD_LIBRARY_PATH environment variable:\n/usr/local/MATLAB/MATLAB_Runtime/v95/runtime/glnxa64:/usr/local/MATLAB/MATLAB_Runtime/v95/bin/glnxa64:/usr/local/MATLAB/MATLAB_Runtime/v95/sys/os/glnxa64\nThe error messages as follows:\n~/Desktop/libtestAdd/for_testing$ cd \"/home/csrl/Desktop/libtestAdd/for_testing/\" && g++ main.cpp -o main && \"/home/csrl/Desktop/libtestAdd/for_testing/\"main\n/tmp/ccyFn7iq.o: In function `main':\nmain.cpp:(.text+0xde): undefined reference to `libtestAddInitialize'\nmain.cpp:(.text+0xf4): undefined reference to `testAdd(int, mwArray&, mwArray const&, mwArray const&)'\nmain.cpp:(.text+0xf9): undefined reference to `libtestAddTerminate'\n/tmp/ccyFn7iq.o: In function `mwException::mwException()':\nmain.cpp:(.text._ZN11mwExceptionC2Ev[_ZN11mwExceptionC5Ev]+0x46): undefined reference to `mclcppCreateError_proxy'\n/tmp/ccyFn7iq.o: In function `mwException::mwException(char const*)':\nmain.cpp:(.text._ZN11mwExceptionC2EPKc[_ZN11mwExceptionC5EPKc]+0x5a): undefined reference to `mclcppCreateError_proxy'\n/tmp/ccyFn7iq.o: In function `mwException::mwException(error_info*, bool)':\nmain.cpp:(.text._ZN11mwExceptionC2EP10error_infob[_ZN11mwExceptionC5EP10error_infob]+0x61): undefined reference to `ref_count_obj_addref_proxy'\nmain.cpp:(.text._ZN11mwExceptionC2EP10error_infob[_ZN11mwExceptionC5EP10error_infob]+0x7a): undefined reference to `mclcppCreateError_proxy'\n/tmp/ccyFn7iq.o: In function `mwException::~mwException()':\nmain.cpp:(.text._ZN11mwExceptionD2Ev[_ZN11mwExceptionD5Ev]+0x36): undefined reference to `ref_count_obj_release_proxy'\n/tmp/ccyFn7iq.o: In function `mwException::what() const':\nmain.cpp:(.text._ZNK11mwException4whatEv[_ZNK11mwException4whatEv]+0x25): undefined reference to `error_info_get_message_proxy'\n/tmp/ccyFn7iq.o: In function `mwException::raise_error()':\nmain.cpp:(.text._ZN11mwException11raise_errorEv[_ZN11mwException11raise_errorEv]+0x2a): undefined reference to `mclcppGetLastError_proxy'\n/tmp/ccyFn7iq.o: In function `mwArray::mwArray(unsigned long, unsigned long, mxClassID, mxComplexity)':\nmain.cpp:(.text._ZN7mwArrayC2Emm9mxClassID12mxComplexity[_ZN7mwArrayC5Emm9mxClassID12mxComplexity]+0x52): undefined reference to `mclGetMatrix_proxy'\n/tmp/ccyFn7iq.o: In function `mwArray::~mwArray()':\nmain.cpp:(.text._ZN7mwArrayD2Ev[_ZN7mwArrayD5Ev]+0x26): undefined reference to `ref_count_obj_release_proxy'\n/tmp/ccyFn7iq.o: In function `mwArray::SetData(double*, unsigned long)':\nmain.cpp:(.text._ZN7mwArray7SetDataEPdm[_ZN7mwArray7SetDataEPdm]+0x2b): undefined reference to `array_ref_set_numeric_mxDouble_proxy'\ncollect2: error: ld returned 1 exit status",
    "answer": "You need to link with the\n.so\nfile. Add it to the end of your compile command."
  },
  {
    "url": "https://stackoverflow.com/questions/56321184/assert-failed-ipv4-l3-protocol-cc",
    "title": "Assert Failed ipv4-l3-protocol.cc",
    "question": "When running a simulation for a channel assignment algorithm in mesh network in NS3.25 I get the following error:\nassert failed. cond=\"tc != 0\", file=..src/internet/model/ipv4-l3-protocol.cc \nterminate called without an active exception\nI have tried the simulation with different parameter settings. However, I still get the same error. I cant figure out its cause, or what should I try to eliminate it.",
    "answer": "Seems to me, just looking at the variable names, that you're missing Traffic Control (tc) layer in the node, since assertion fails. Have you initialized your IPv4 stack on the node using\nInternetStackHelper\n?\nIt sets a simple FIFO TC layer by default if none other is provided. If you initialized your stack manually, without using the helper, that may be the problem."
  },
  {
    "url": "https://stackoverflow.com/questions/56152916/waf-cant-be-invoked-importerror-cannot-import-name-scripting",
    "title": "Waf can't be invoked - ImportError: cannot import name Scripting",
    "question": "I'm trying to install ns-3 network simulator, and I'm building a simple script that would install all prerequisites on fresh install of latest Ubuntu LTS OS(18.04).\nEverything goes smooth but once I try to run any test, I get following error:\nTraceback (most recent call last):   \n File \"./source/ns-3.29/test.py\", line 1942, in <module>\n   sys.exit(main(sys.argv))   \n File \"./source/ns-3.29/test.py\", line 1939, in main\n   return run_tests()   \n File \"./source/ns-3.29/test.py\", line 1010, in run_tests\n   read_waf_config()   File \"./source/ns-3.29/test.py\", line 579, in read_waf_config\n   for line in open(\".lock-waf_\" + sys.platform + \"_build\", \"rt\"): \n IOError: [Errno 2] No such file or directory: '.lock-waf_linux2_build'\nThis also happens when I try simply:\n./waf --help\nScript doesn't do anything spectacular, but here it is just in case. It has to be invoked using\nsudo\n#!/bin/bash\necho \"Installing...\"\n\n#   basic OS update\napt update\napt upgrade -y\napt dist-upgrade -y\napt autoremove -y\napt autoclean -y\n\n#   install prerequisites\napt install git -y\napt install gcc -y\napt install g++ -y\napt install mercurial -y\napt install cvs -y\napt install bzr -y\napt install make -y\napt install cmake -y\napt install qt5-default -y\napt install qtcreator -y\napt install python-gi-cairo -y\napt install gir1.2-goocanvas-2.0 -y\napt install python-pygraphviz -y\napt install python-dev -y\napt install python-setuptools -y\n\n##  acquire Bake\ngit clone https://gitlab.com/nsnam/bake\n\n#   add Bake to PATH\nexport BAKE_HOME=`pwd`/bake \nexport PATH=$PATH:$BAKE_HOME\nexport PYTHONPATH=$PYTHONPATH:$BAKE_HOME\n\n#   check if all valid\nbake.py check\n\n#   configure Bake for ns-3\nbake.py configure -e ns-3.29\nbake.py show\n\n#   download and build ns-3\nbake.py download\ncd ./source/ns-3.29/ && ./waf configure && cd ../../\nbake.py build\n#instead of 3 lines above this comment there was previously just \"bake.py deploy\"\n\n./source/ns-3.29/test.py #this causes an error\n\necho \"Finished Install!\"\n./waf configure\ngives following output:\noutput (pastebin)",
    "answer": "ns-3 bundled waf in the distribution. When you build from scratch, the first thing you want to do is to run\n./waf configure\nso that you have the waf module unpacked to a directory named like\nwaf3-2.0.15-ff6573b86ad5ff5d449c8852ad58b8bc\n. The missing\nScripting\nis supposed to be the file\nwaf3-2.0.15-ff6573b86ad5ff5d449c8852ad58b8bc/waflib/Scripting.py\nI don't know what went wrong as you didn't provide enough clue. But check if you have the directory I mentioned above in the ns3 directory, if so, delete it then run\n./waf configure\nagain."
  },
  {
    "url": "https://stackoverflow.com/questions/55794737/how-to-utilize-data-in-xml-from-flow-monitor",
    "title": "How to utilize data in xml from flow monitor",
    "question": "I want to use ns3 to calculate TCP throughput,and I think one way to track network status is using flow monitor.However,it gives out xml file and I do not know how to use it...Can anyone help how to use the data or how to find relative tutorials of utilizing data generated by flow monitor in ns3 document?",
    "answer": "The data in FlowMonitor.xml can be viewed using NetAnimator.\nInstall\nNetAnim\n, see the requirements\nAdd the netanim-module libraries in your simulation code\nConfigure the node animations, see the example in src/netanim/examples/grid-animation.cc\nstd::string animFile = \"grid-animation.xml\";\nAnimationInterface anim (animFile);\nRun the simulation\nOpen the Netanim folder and run\n./NetAnim\nOpen XML trace file\nOn the Stats tab change the IP-MAC switch to Flow-monitor\nSelect flow-monitor file and open\nSelect the flows of your interest\nReady! Good simulations!"
  },
  {
    "url": "https://stackoverflow.com/questions/55568797/calculate-packet-received-time-in-ns3",
    "title": "Calculate Packet Received time in ns3",
    "question": "I have the following code in c++ in ns3 used when a packet is received to print its content and its arrival time using\nSimulator::Now ().GetSeconds()\nbut it turns zeros every time. Can anyone tell me why? and how can I get the real time?\nPtr<const Packet> p = packet;\nLrWpanMacHeader h;\np->PeekHeader(h); //remove the header in order to print packet \n    content, so that's why the size differ between packet and p\n    BasicPacketData bpd (p);\nstd::cout<<\"Packet Size:\"<<p->GetSize()<<std::endl;\nuint8_t *buffer = new uint8_t[p->GetSize()];\np->CopyData (buffer, p->GetSize());\nstd::string receivedData(buffer, buffer+p->GetSize ());\nstd::cout<<\"Received:\"<<receivedData.c_str()<<std::endl;\n\n\nif(!h.IsAcknowledgment()) //Returns true if the header is an ack\n{\n\n    NS_LOG_UNCOND (\"----------Packet received----------\\n\"\n            << \"Packet of size \" << bpd.size << \" bytes received\\n\"\n            << \"on device with address \"<< dev3->GetMac()->GetShortAddress()<<\"\\n\"\n            << \"was sent from address \" << dev->GetMac()->GetShortAddress() << \"\\n\"\n                           // << \"on device with address \"<< bpd.dst<<\"\\n\"\n            //<< \"was sent from address \" << bpd.src << \"\\n\"\n            << \"sequence number is \" << (int) bpd.seq_nr << \"\\n\"\n            << \"PAN ID is \" << bpd.pan_id << \"\\n\"\n                            <<\"with time \"<< \" on time: \" << Simulator::Now ().GetSeconds() <<    \"s\"\n            << \"----------Packet received------------\\n\\n\"\n\n    );",
    "answer": "The ns3::Packet::Print method is here to print the content of the packet:\nhttps://www.nsnam.org/doxygen/classns3_1_1_packet.html#ad25486a838ac04533c83ff600d84546f\nNow, you see zeros probably because the packet was initialized with a dummy payload made of bytes containing zeros. See:\nhttps://www.nsnam.org/doxygen/classns3_1_1_packet.html#a897aab15901dcf1f05f075db7b8d04b1"
  },
  {
    "url": "https://stackoverflow.com/questions/55225576/how-to-work-with-energy-model-in-ns3-as-in-ns2-for-energy-modifying-protocol-as",
    "title": "How to work with energy model in ns3 as in ns2 for energy modifying protocol as energy aware?",
    "question": "After going through some examples and number simulation, I was not able to implement the energy efficient routing on ns3 like I performed in ns2.\nThe documentation on 'nsnam.org/wiki/energy_model' states:\nAn energy model has been implemented in ns2 (ns2 energy model) but is yet to be implemented in ns3.\nIs this true? Or is the documentation not updated for latest version of ns3?\nAt the same place the documentation has:\nif a protocol is energy-aware, i.e. its operation depends on the energy level, it cannot be effectively simulated without an energy model.\nI was able to perform the energy aware simulation on ns2 by modifying the aodv source file. When I tried to perform a similar simulation on ns3 with a similar modification it somehow didn't work.\nHow can this be done on ns3?",
    "answer": "There is an energy module on ns-3 :\nhttps://www.nsnam.org/docs/models/html/energy.html\nTry looking under src/energy/examples/ for some good sample files that can get you started. There are some sample files under src/wifi/ as well."
  },
  {
    "url": "https://stackoverflow.com/questions/54187030/issue-while-using-ns3-topology-generator",
    "title": "Issue while using NS3 Topology generator",
    "question": "can anybody help me with the use of NS3 topology generators such as\nTopology_Generator\n.\nI am getting this error.",
    "answer": "The codebase is very old (3+ years), so it probably won't work with your version of NS-3 (which you didn't specified too).\nI suggest you write your topology on the simulation file and verify it using the\nnetanim\ntool."
  },
  {
    "url": "https://stackoverflow.com/questions/54129664/how-to-change-the-data-rate-between-two-nodes-during-the-simulation-in-ns-3",
    "title": "How to change the data rate between two nodes during the simulation in NS-3?",
    "question": "A Server is connected to an Access point via point to point link of 10Mb/s.\nPointToPointHelper p2p;\np2p.SetDeviceAttribute (\"DataRate\", StringValue(\"10Mbps\"));\nwanIpDevices = p2p.Install (ServerNode, ApNode);\n//only relevant code added\nHow can I change the data rate of this link to 5Mb/s after 100 seconds of simulation. I tried the code below but it didn't work.\ndouble timeNow = Simulator::Now().GetSeconds();\nSimulator::Run();\nif (timeNow==100.0)\n{\n  p2p.SetDeviceAttribute (\"DataRate\", StringValue(\"5Mbps\"));\n}\nSimulator::Destroy();",
    "answer": "Take a look at my answer\nhere\n.\nThe gist of it is that you need to create a function that sets the PointToPointNetDevice's Attribute. Then, use\nSimulator::Schedule()\nto schedule that function to be called the number of seconds you want into the simulation."
  },
  {
    "url": "https://stackoverflow.com/questions/53857094/eclipse-c-c-mercurialeclipse-is-not-listed-to-install",
    "title": "Eclipse C/C++ - MercurialEclipse is not listed to install",
    "question": "According to given instructions online, I am trying to install MercurialEclipse to setup my NS3 application on Eclipse Oxygen. However, I can't find this plugin under \"\nhttp://cbes.javaforge.com/update\n\" location.",
    "answer": "Try looking here:\nhttps://marketplace.eclipse.org/content/mercurialeclipse\nYou should be able to do a \"Drag Install\" using the [Install] Button.\nSee also:\nhttps://marketplace.eclipse.org/content/codebeamer-eclipse-studio"
  },
  {
    "url": "https://stackoverflow.com/questions/53651881/in-ns3-how-measure-throughput-on-bridge-nodes",
    "title": "In NS3 how measure throughput on bridge nodes?",
    "question": "The question asks to create a simple dumbbell topology, two client Node1 and Node2 on the left side of the dumbbell and server nodes Node3 and Node4 on the right side of the dumbbell. Let Node5 and Node6 form the bridge of the dumbbell.\nWe have to use point to point links. Next the question asks to install a TCP socket instance on Node1 that will connect to Node3 and to install a UDP socket instance on Node2 that will connect to Node4. We can use UdpSocketFactory.\nStarting the TCP application at time 1 and UDP application at time\n20s at rate Rate1 such that it clogs half the dumbbell bridge's link capacity.\nWhen we increase the UDP application's rate at time 30s to rate Rate2 such that\nit clogs the whole of the dumbbell bridge's capacity.",
    "answer": "There are very similar examples to the one you described in\nns-3.29/src/traffic-control/examples\n, such as\npfifo-vs-red.cc\n, which uses\nPointToPointDumbbellHelper\nto generate the topology you mention."
  },
  {
    "url": "https://stackoverflow.com/questions/52904617/how-do-i-build-and-run-the-code-from-github-for-ns3-in-the-link-provided",
    "title": "How do I build and run the code from github for NS3 in the link provided",
    "question": "How do I build and run the code from github for NS3 in the link provided below\nhttps://github.com/mkheirkhah/mptcp",
    "answer": "it has already ns3 installation steps  with mptcp\nhttps://github.com/mkheirkhah/mptcp\nthis is the Installations steps go according to it ul get to know\nWe have tested this code on Mac (with llvm-gcc42 and python 2.7.3-11) and several Linux distributions (e.g. Red Hat with gcc4.4.7 or Ubuntu16.4 with gcc5.4.0).\nClone the MPTCP's repository\ngit clone\nhttps://github.com/mkheirkhah/mptcp.git\nConfigure and build\nCXXFLAGS=\"-Wall\" ./waf configure build \nRun a simulation\n./waf --run \"mptcp\""
  },
  {
    "url": "https://stackoverflow.com/questions/52752721/ns-3-waf-linking-error-undefined-references",
    "title": "ns-3 waf linking error (undefined references)",
    "question": "I am currently experience problems attempting to use code from the gcrypt library in ns-3 due to a linking error after invoking\n./waf\n. I have installed gcrypt correctly as the below program works fine when compiled with\ng++ test.cpp -o test -lgcrypt\n.\n#include <stdio.h>\n#include <gcrypt.h>\n\nint main(void)\n{\n    char *s = \"some text\";\n    unsigned char *x;\n    unsigned i;\n    unsigned int l = gcry_md_get_algo_dlen(GCRY_MD_SHA256); /* get digest length (used later to print the result) */\n\n    gcry_md_hd_t h;\n    gcry_md_open(&h, GCRY_MD_SHA256, GCRY_MD_FLAG_SECURE); /* initialise the hash context */\n    gcry_md_write(h, s, strlen(s)); /* hash some text */\n    x = gcry_md_read(h, GCRY_MD_SHA256); /* get the result */\n\n    for (i = 0; i < l; i++)\n    {\n        printf(\"%02x\", x[i]); /* print the result */\n    }\n    printf(\"\\n\");\n    return 0;\n}\nHowever, replicating this code in ns-3 produces multiple errors of a similar type to the following error on linking:\n/home/xxx/Desktop/ns-allinone-3.28.1/ns-3.28.1/build/../scratch/ns3consensus/AppCons.cc:251: undefined reference to `gcry_md_get_algo_dlen'\nAdditionally, ns-3 itself seems to recognise that gcrypt is installed as the output of\n./waf configure\nindicates that the gcrypt library is installed with\nGcrypt library   : enabled\n.\nI have added to the top level wscript\nconf.env.append_value(\"LINKFLAGS\", [\"-lgcrypt\"])\nas suggested by\nhttps://www.nsnam.org/wiki/HOWTO_use_ns-3_with_other_libraries\n, the issue remains however. Is there anything additional I need to add the wscript or is there some other fundamentals of linking I am missing?",
    "answer": "The answer to this problem is how libraries are included in\nwaf\n.\nIncludes are added by\ncfg.env.append_value('INCLUDES', ['/usr/local/include'])\n,\nlibrary search paths are added by\nconf.env.append_value('LIBPATH', [\"/usr/local/lib\"])\nand\nwhen checking/compiling/linking you make use of the keyword\nuse=name_of_the_library\n, therefore here here it would be\nuse='gcrypt'\n."
  },
  {
    "url": "https://stackoverflow.com/questions/52714160/code-showing-error-when-assigning-mx-number-of-packets-to-queue",
    "title": "Code showing error when assigning mx. number of packets to queue",
    "question": "The following code shows this error:\nmsg=\"Invalid attribute set (MaxSize) on ns3::PointToPointNetDevice\", file=../src/core/model/object-factory.cc, line=75\nterminate called without an active exception\nCommand ['/usr/bin/python', 'scratch/python_first_mod2.py', '--SimulatorImplementationType=ns3::VisualSimulatorImpl'] terminated with signal SIGIOT. Run it under a debugger to get more information (./waf --run <program> --command-template=\"gdb --args %s <args>\").\nThe code:\npointToPoint2.SetQueue (\"ns3::DropTailQueue\",\"MaxSize\", ns.core.StringValue (\"50p\"))\npointToPoint2.SetDeviceAttribute(\"DataRate\", ns.core.StringValue (\"10Mbps\"))\npointToPoint2.SetChannelAttribute(\"Delay\", ns.core.StringValue (\"2ms\"))",
    "answer": "Try instantiating the queue first, set the attribute and then pass the queue to the PointToPoint object via SetQueue().\nYour code tries to set the attribute \"MaxSize\" on  a\nns3::PointToPointNetDevice\nobject. Obviously you try to set the attribute for\nns3::DropTailQueue\nwhich inherits this attribute from the class\nns3::QueueBase\n."
  },
  {
    "url": "https://stackoverflow.com/questions/52141274/install-ns-3-on-mac-problems",
    "title": "Install ns-3 on Mac problems",
    "question": "Just download ns-3 and I guess the software packet is fine. I am really new for ns-3.\nActually there are 2 questions:\n# Skip NSC (platform not supported)\nso does that mean the Mac cannot support NSC and so what ?\nIn file included from ./ns3/trace-source-accessor.h:24:\n./ns3/callback.h:469:54: error: expression with side effects will be evaluated despite\n  being used as an operand to 'typeid' [-Werror,-Wpotentially-evaluated-expression]\n                    \"got=\" << Demangle ( typeid (*other).name () ) << std::endl <<\nI cannot find anything about this on google. Can anyone help to see what happened here ?",
    "answer": "What way of installing did you use? I install NS3 all the time on my Mac using the manual installation: download latest version and run ./build.py install.\nI haven't encountered the NSC error before. NSC is the Network Simulator Cradle and you don't need it for normal operations. You might have enabled it with \"\n./waf configure --enable-nsc\n\".\nSince I develop code for an embedded platform, I want to use GCC instead of the default CLANG compiler. I noticed different compiler behaviour between them. CLANG looked a bit more strict. You might have the same problem. If you have GCC you could switch to GCC by using: (my own config setup)\nCXX=g++-7 CC=gcc-7 CFLAGS=\"-g\" ./waf configure  --enable-tests --enable-examples --disable-python\nEDIT:\nI just run a test and \"./waf configure --enable-nsc\" is not recognized\nhttps://www.nsnam.org/docs/release/3.2/manual/manual_45.html"
  },
  {
    "url": "https://stackoverflow.com/questions/51800123/why-does-flowmonitor-not-collect-data-for-dsr-cc-in-ns3",
    "title": "Why does FlowMonitor not collect data for dsr.cc in ns3?",
    "question": "I have tested FlowMonitor for some programs and it works. But for the dsr which is available in ns3 examples, it does not collect any data. What have I missed?\nHere is the program,\nusing Fedora 28, GCC 8, ns-3.28\n#include \"ns3/core-module.h\"\n#include \"ns3/network-module.h\"\n#include \"ns3/applications-module.h\"\n#include \"ns3/mobility-module.h\"\n#include \"ns3/config-store-module.h\"\n#include \"ns3/wifi-module.h\"\n#include \"ns3/internet-module.h\"\n#include \"ns3/dsr-module.h\"\n#include \"ns3/netanim-module.h\"\n#include \"ns3/flow-monitor-helper.h\"\n#include \"ns3/flow-monitor-module.h\"\n\n#include <sstream>\n\nusing namespace ns3;\n\nNS_LOG_COMPONENT_DEFINE (\"DsrTest\");\n\nint\nmain (int argc, char *argv[])\n{\n  //\n  // Users may find it convenient to turn on explicit debugging\n  // for selected modules; the below lines suggest how to do this\n  //\n#if 0\n  LogComponentEnable (\"Ipv4L3Protocol\", LOG_LEVEL_ALL);\n  LogComponentEnable (\"UdpL4Protocol\", LOG_LEVEL_ALL);\n  LogComponentEnable (\"UdpSocketImpl\", LOG_LEVEL_ALL);\n  LogComponentEnable (\"NetDevice\", LOG_LEVEL_ALL);\n  LogComponentEnable (\"Ipv4EndPointDemux\", LOG_LEVEL_ALL);\n#endif\n\n#if 0\n  LogComponentEnable (\"DsrOptions\", LOG_LEVEL_ALL);\n  LogComponentEnable (\"DsrHelper\", LOG_LEVEL_ALL);\n  LogComponentEnable (\"DsrRouting\", LOG_LEVEL_ALL);\n  LogComponentEnable (\"DsrOptionHeader\", LOG_LEVEL_ALL);\n  LogComponentEnable (\"DsrFsHeader\", LOG_LEVEL_ALL);\n  LogComponentEnable (\"DsrGraReplyTable\", LOG_LEVEL_ALL);\n  LogComponentEnable (\"DsrSendBuffer\", LOG_LEVEL_ALL);\n  LogComponentEnable (\"DsrRouteCache\", LOG_LEVEL_ALL);\n  LogComponentEnable (\"DsrMaintainBuffer\", LOG_LEVEL_ALL);\n  LogComponentEnable (\"DsrRreqTable\", LOG_LEVEL_ALL);\n  LogComponentEnable (\"DsrErrorBuffer\", LOG_LEVEL_ALL);\n  LogComponentEnable (\"DsrNetworkQueue\", LOG_LEVEL_ALL);\n#endif\n\n  NS_LOG_INFO (\"creating the nodes\");\n\n  // General parameters \n  uint32_t nWifis = 50;\n  uint32_t nSinks = 10;\n  double TotalTime = 600.0;\n  double dataTime = 500.0;\n  double ppers = 1;\n  uint32_t packetSize = 64;\n  double dataStart = 1.0; // start sending data at 100s\n\n\n  //mobility parameters\n  double pauseTime = 0.0;\n  double nodeSpeed = 20.0;\n  double txpDistance = 250.0;\n  std::string outputFileName = \"Results/DSR/dsr_final_results_\"+(std::to_string(nWifis));//+\"-nWifis\"+(std::to_string(nodeSpeed))+\"-nodeSpeed_\"+(std::to_string(nSinks))+\"-nSinks_\"+(std::to_string(txpDistance))+\"-txpDistance\";\n\n  std::string rate = \"0.512kbps\";\n  std::string dataMode (\"DsssRate11Mbps\");\n  std::string phyMode (\"DsssRate11Mbps\");\n\n  //Allow users to override the default parameters and set it to new ones from CommandLine.\n  CommandLine cmd;\n  cmd.AddValue (\"nWifis\", \"Number of wifi nodes\", nWifis);\n  cmd.AddValue (\"nSinks\", \"Number of SINK traffic nodes\", nSinks);\n  cmd.AddValue (\"rate\", \"CBR traffic rate(in kbps), Default:8\", rate);\n  cmd.AddValue (\"nodeSpeed\", \"Node speed in RandomWayPoint model, Default:20\", nodeSpeed);\n  cmd.AddValue (\"packetSize\", \"The packet size\", packetSize);\n  cmd.AddValue (\"txpDistance\", \"Specify node's transmit range, Default:300\", txpDistance);\n  cmd.AddValue (\"pauseTime\", \"pauseTime for mobility model, Default: 0\", pauseTime);\n  cmd.Parse (argc, argv);\n\n  SeedManager::SetSeed (10);\n  SeedManager::SetRun (1);\n\n  NodeContainer adhocNodes;\n  adhocNodes.Create (nWifis);\n  NetDeviceContainer allDevices;\n\n  NS_LOG_INFO (\"setting the default phy and channel parameters\");\n  Config::SetDefault (\"ns3::WifiRemoteStationManager::NonUnicastMode\", StringValue (phyMode));\n  Config::SetDefault (\"ns3::WifiRemoteStationManager::RtsCtsThreshold\", StringValue (\"2200\"));\n  // disable fragmentation for frames below 2200 bytes\n  Config::SetDefault (\"ns3::WifiRemoteStationManager::FragmentationThreshold\", StringValue (\"2200\"));\n\n  NS_LOG_INFO (\"setting the default phy and channel parameters \");\n  WifiHelper wifi;\n  wifi.SetStandard (WIFI_PHY_STANDARD_80211b);\n  YansWifiPhyHelper wifiPhy = YansWifiPhyHelper::Default ();\n\n  YansWifiChannelHelper wifiChannel;\n  wifiChannel.SetPropagationDelay (\"ns3::ConstantSpeedPropagationDelayModel\");\n  wifiChannel.AddPropagationLoss (\"ns3::RangePropagationLossModel\", \"MaxRange\", DoubleValue (txpDistance));\n  wifiPhy.SetChannel (wifiChannel.Create ());\n\n  // Add a mac and disable rate control\n  WifiMacHelper wifiMac;\n  wifi.SetRemoteStationManager (\"ns3::ConstantRateWifiManager\", \"DataMode\", StringValue (dataMode), \"ControlMode\",\n                                StringValue (phyMode));\n\n  wifiMac.SetType (\"ns3::AdhocWifiMac\");\n  allDevices = wifi.Install (wifiPhy, wifiMac, adhocNodes);\n\n  NS_LOG_INFO (\"Configure Tracing.\");\n\n  AsciiTraceHelper ascii;\n  Ptr<OutputStreamWrapper> stream = ascii.CreateFileStream (outputFileName+\".tr\");\n  wifiPhy.EnableAsciiAll (stream);\n  wifiPhy.EnablePcapAll(outputFileName);\n\n  //read the SUMO generated trace file\n  //Ns2MobilityHelper adhocMobility = Ns2MobilityHelper (\"scratch/trace_files/dsr/dsr_final_\"+(std::to_string(nWifis))+\".tcl\");\n  Ns2MobilityHelper adhocMobility = Ns2MobilityHelper (\"scratch/dsr_final_50.tcl\");\n\n  adhocMobility.Install();\n\n  InternetStackHelper internet;\n  DsrMainHelper dsrMain;\n  DsrHelper dsr;\n  internet.Install (adhocNodes);\n  dsrMain.Install (dsr, adhocNodes);\n\n  NS_LOG_INFO (\"assigning ip address\");\n  Ipv4AddressHelper address;\n  address.SetBase (\"10.1.1.0\", \"255.255.255.0\");\n  Ipv4InterfaceContainer allInterfaces;\n  allInterfaces = address.Assign (allDevices);\n\n  uint16_t port = 9;\n  double randomStartTime = (1 / ppers) / nSinks; //distributed btw 1s evenly as we are sending 4pkt/s\n\n  for (uint32_t i = 0; i < nSinks; ++i)\n    {\n      PacketSinkHelper sink (\"ns3::UdpSocketFactory\", InetSocketAddress (Ipv4Address::GetAny (), port));\n      ApplicationContainer apps_sink = sink.Install (adhocNodes.Get (i));\n      apps_sink.Start (Seconds (0.0));\n      apps_sink.Stop (Seconds (TotalTime));\n\n      OnOffHelper onoff1 (\"ns3::UdpSocketFactory\", Address (InetSocketAddress (allInterfaces.GetAddress (i), port)));\n      onoff1.SetAttribute (\"OnTime\", StringValue (\"ns3::ConstantRandomVariable[Constant=1.0]\"));\n      onoff1.SetAttribute (\"OffTime\", StringValue (\"ns3::ConstantRandomVariable[Constant=0.0]\"));\n      onoff1.SetAttribute (\"PacketSize\", UintegerValue (packetSize));\n      onoff1.SetAttribute (\"DataRate\", DataRateValue (DataRate (rate)));\n\n      ApplicationContainer apps1 = onoff1.Install (adhocNodes.Get (i + nWifis - nSinks));\n      apps1.Start (Seconds (dataStart + i * randomStartTime));\n      apps1.Stop (Seconds (dataTime + i * randomStartTime));\n    }\n\n    Ptr<FlowMonitor> flowmon;\n    FlowMonitorHelper flowmonHelper;\n    flowmon = flowmonHelper.InstallAll ();\n\n\n    NS_LOG_INFO (\"Run Simulation.\");\n\n  Simulator::Stop (Seconds (TotalTime));\n\n  AnimationInterface anim (outputFileName+\"_anim.xml\");\n  anim.SetMaxPktsPerTraceFile(99999999999);\n\n  Simulator::Run ();\n  flowmon->CheckForLostPackets (); \n  Ptr<Ipv4FlowClassifier> classifier = DynamicCast<Ipv4FlowClassifier> (flowmonHelper.GetClassifier ());\n  std::map<FlowId, FlowMonitor::FlowStats> stats = flowmon->GetFlowStats ();\n\nfor (std::map<FlowId, FlowMonitor::FlowStats>::const_iterator iter = stats.begin (); iter != stats.end (); ++iter)\n  {\n  Ipv4FlowClassifier::FiveTuple t = classifier->FindFlow (iter->first);\n\n      NS_LOG_UNCOND(\"Flow ID: \" << iter->first << \" Src Addr \" << t.sourceAddress << \" Dst Addr \" << t.destinationAddress);\n          NS_LOG_UNCOND(\"Tx Packets = \" << iter->second.txPackets);\n          NS_LOG_UNCOND(\"Rx Packets = \" << iter->second.rxPackets);\n          NS_LOG_UNCOND(\"Throughput: \" << iter->second.rxBytes * 8.0 / (iter->second.timeLastRxPacket.GetSeconds()-iter->second.timeFirstTxPacket.GetSeconds()) / 1024  << \" Kbps\");\n  }\n  flowmon->SerializeToXmlFile (outputFileName+\"_flow.xml\", true, true);\n\n\n  Simulator::Destroy ();\n}",
    "answer": "It's due to the way that DSR is implemented.\nSee the discussions in\nthe Bug 1844\nDSR is an IP-level routing protocol. FlowMonitor doesn't track it for\ntwo reasons: 1) FlowMonitor doesn't track multicast packets (and DSR\nuses broadcast addresses), and 2) DSR packets aren't UDP or TCP\n(FlowMonitor only tracks L4 protocols).\nSo, an empty report is pretty much normal.\nI'd close this bug as \"Invalid\".\nIf you want we can open another bug (enhancement level) to track that\nit would be nice to track multicast and IP-level traffic (maybe\ndividing it according to the protocol).\nThe difficulty might be to find appropriate statistic for those kind\nof traffic, as some of the actually tracked ones have little or no\nsense at all for multicast/broadcast messages.\nand\nDsr is a\nshim\nprotocol between UDP/TCP and IP. Actually it\nencapsulates the L4 traffic in its own packet. Or, if you like more\nthe idea, it's adding its headers between IP and UDP/TCP.\nFlowMonitor is not able to understand this, and packets are not\ntracked. Simple as this.\nA way to fix this would be to mark the packets at UDP/TCP level and\nnot at IP level, which is a bit more complex than one might think.\nOn the other hand, we could do it with the actual tag system, but I'll\nhave to think about it."
  },
  {
    "url": "https://stackoverflow.com/questions/51708200/malformed-action-frames-in-ns-3-mesh-network-simulation",
    "title": "Malformed Action frames in ns-3 mesh network simulation",
    "question": "I have built a simulation model of the IEEE 802.11s based mesh network in ns-3 version ns3.28. The network consists of one moving node moving randomly and three static nodes. The pcap file generated from the model when viewed in Wireshark shows malformed Action frames.\nI have attached the picture below. The same is the case for beacon frames. Can anyone describe why are these packets malformed?",
    "answer": "I don't know how to fix it in the code but I think I know whats going on. The header is supposed to be a\nIE_MESH_PEERING_MANAGEMENT\n(117) with sub-type\nPEER_CLOSE\n(3) and Tag length\n7\n(see\nhere\n). The reason for close is set to\nREASON11S_MESH_CONFIRM_TIMEOUT\n(57).\nSomehow it was serialized in the wrong order. You should open a bug with ns3 for them to fix this."
  },
  {
    "url": "https://stackoverflow.com/questions/51529406/showing-results-of-tcp-variants-comparison-cc-under-ns3-3-28",
    "title": "showing results of tcp-variants-comparison.cc under ns3 3.28",
    "question": "I am looking for a way to show the results of the file \"tcp-variants-comparison.cc\" under ns3 (3.28) used with Ubuntu 18.04.\nI found here an old topic from 2013, but it seems not to work correctly in my current environment.\nP.S: I am a newbie in ns3, so i will appreciate any help.\nregards\ncedkhader",
    "answer": "Running\n./waf --run \"tcp-variants-comparison --tracing=1\"\nyields the following files:\n-rw-rw-r--  1  112271415 Aug  5 15:52 TcpVariantsComparison-ascii\n-rw-rw-r--  1     401623 Aug  5 15:52 TcpVariantsComparison-cwnd.data\n-rw-rw-r--  1    1216177 Aug  5 15:52 TcpVariantsComparison-inflight.data\n-rw-rw-r--  1     947619 Aug  5 15:52 TcpVariantsComparison-next-rx.data\n-rw-rw-r--  1     955550 Aug  5 15:52 TcpVariantsComparison-next-tx.data\n-rw-rw-r--  1         38 Aug  5 15:51 TcpVariantsComparison-rto.data\n-rw-rw-r--  1     482134 Aug  5 15:52 TcpVariantsComparison-rtt.data\n-rw-rw-r--  1     346427 Aug  5 15:52 TcpVariantsComparison-ssth.data\nYou can use other command line arguments to generate the desired output, see list below.\nProgram Arguments:\n    --transport_prot:    Transport protocol to use: TcpNewReno, TcpHybla, TcpHighSpeed, TcpHtcp, TcpVegas, TcpScalable, TcpVeno, TcpBic, TcpYeah, TcpIllinois, TcpWestwood, TcpWestwoodPlus, TcpLedbat  [TcpWestwood]\n    --error_p:           Packet error rate [0]\n    --bandwidth:         Bottleneck bandwidth [2Mbps]\n    --delay:             Bottleneck delay [0.01ms]\n    --access_bandwidth:  Access link bandwidth [10Mbps]\n    --access_delay:      Access link delay [45ms]\n    --tracing:           Flag to enable/disable tracing [true]\n    --prefix_name:       Prefix of output trace file [TcpVariantsComparison]\n    --data:              Number of Megabytes of data to transmit [0]\n    --mtu:               Size of IP packets to send in bytes [400]\n    --num_flows:         Number of flows [1]\n    --duration:          Time to allow flows to run in seconds [100]\n    --run:               Run index (for setting repeatable seeds) [0]\n    --flow_monitor:      Enable flow monitor [false]\n    --pcap_tracing:      Enable or disable PCAP tracing [false]\n    --queue_disc_type:   Queue disc type for gateway (e.g. ns3::CoDelQueueDisc) [ns3::PfifoFastQueueDisc]\n    --sack:              Enable or disable SACK option [true]"
  },
  {
    "url": "https://stackoverflow.com/questions/51309265/client-server-communication-in-ns3",
    "title": "Client Server Communication in ns3",
    "question": "I want to simulate an UDP request-response application in ns3 by using 802.11n as communication technology, where a client/server\nA\nan access point\nAP\nand another server/client\nB\nexchange some messages (where each message has a particular size, i.e. 100, 130, 235 byte and so on):\n*A*         AP          *B*\n\n\nA------>AP\n\nAP------>A\n\nAP------>B\n\n\nB------>AP\n\nAP------>B\n\nAP------>A\n\n\nA------>B\n\nB------->A\nI followed this tutorial(\nhttps://www.nsnam.org/wiki/HOWTO_make_and_use_a_new_application\n) and I'm able to send and receive data with custom size but just for the first interaction. Furthermore I spent a lot of days to understand how can is possible modify the behavior of this application in order to simulate the aforementioned scenario. Are there any suggestions?",
    "answer": "You don't need to create a new application. NS-3 already has applications that send traffic according to your specification (e.g. BulkSend Application, OnOff, and so on).\nHere's the link\n.\nRegarding your application, it is very close to this same application using a client/server over wireless lan (\nlink\n).\nAll you have to do is tweak the parameters. Let me know if you have any problems."
  },
  {
    "url": "https://stackoverflow.com/questions/51247287/c-error-cannot-convert-ns3tracedvaluens3sequencenumberunsigned-int-i",
    "title": "c++: error: cannot convert ‘ns3::TracedValue<ns3::SequenceNumber<unsigned int, int> >’ to ‘uint32_t {aka unsigned int}",
    "question": "I am trying to cast\nTracedValue<uint32_t>  m_bytesInFlight\nto\nuint32_t\nbut I get the following error\nerror: cannot convert ‘ns3::TracedValue<ns3::SequenceNumber<unsigned int, int> >’ to ‘uint32_t {aka unsigned int}\nFunction prototype and variable declarations are\nuint32_t UnAckDCount (void) const;\n\nTracedValue<uint32_t>  m_bytesInFlight {0};        //!< Bytes in flight\nHere i am calling the function\nuint32_t \nTcpSocketBase::UnAckDCount () const\n{\n  return m_tcb->m_highTxMark - (uint32_t) m_tcb->m_bytesInFlight;\n}\nPlease suggest some method so that I can execute the return statement to get the result. Thanks in advance",
    "answer": "Changing\nm_tcb->m_highTxMark\nto\nm_tcb->m_highTxMark.Get().GetValue()\nshould work.\nSeeing the compiler error, it's easy to figure out that variable\nm_highTxMark\nis of type\nns3::TracedValue<ns3::SequenceNumber<unsigned int, int> >\n. I checked the documentation of\nns3::TracedValue\nand\nns3::SequenceNumber\n, they both have getter functions Get() and GetValue() respectively.\nSee:\nhttps://www.nsnam.org/doxygen/classns3_1_1_traced_value.html\nhttps://www.nsnam.org/doxygen/classns3_1_1_sequence_number.html"
  },
  {
    "url": "https://stackoverflow.com/questions/50144833/obtaining-simple-metrics-from-ns3-like-throughput-vs-time-packet-loss-vs-time",
    "title": "Obtaining simple metrics from NS3 like throughput vs time, packet loss vs time",
    "question": "I'm never used NS3 before and I have a school assignment to plot throughput vs time and packet loss vs time. I know that just by running fifth.cc I'll get the congestion window data. I noticed I can see all the instances where a packet was dropped and I manipulated that data in MATLAB to plot packet loss vs time there. How would I go about to create a piece of code that would be able to plot these 2 graphs? \nThe topology is a simple TCP source and a TCP sink.\nThanks",
    "answer": "NS-3 provides a\ngnuplot\nlibrary that you can use to plot what you want.\nSee reference\nhere\n(with examples).\nThere are also plenty of other examples of how to accomplish this. Take a look at the NS-3 Users mailing list on Google Groups."
  },
  {
    "url": "https://stackoverflow.com/questions/49023210/logcomponentenable-udpclientapplication-log-level-info",
    "title": "LogComponentEnable (\"UdpClientApplication\", LOG_LEVEL_INFO);",
    "question": "Just like\nLogComponentEnable (\"UdpEchoClientApplication\", LOG_LEVEL_INFO);\nfor UdpEchoServerHelper,\nCan i have\nLogComponentEnable (\"UdpClientApplication\", LOG_LEVEL_INFO);\nfor UdpServerHelper?",
    "answer": "No you can't.\nThe UdpServerHelper uses\nUdpServer\nand\nUdpClient\n.\nTo activate logging for the client use:\nLogComponentEnable (\"UdpClient\", LOG_LEVEL_INFO);\nBackground\nThe helper class/object and the log enable function do not correlate.\nNS-3 logging system is global and modules/components register globally.\nDescend into the implementations .cc file you want to get logging messages from. The Macro\nNS_LOG_COMPONENT_DEFINE()\nis called with the actual name there. So for\nUdpClient\nit's\nudp-client.cc\n, where it says in line 38\nNS_LOG_COMPONENT_DEFINE (\"UdpClient\");"
  },
  {
    "url": "https://stackoverflow.com/questions/48747880/running-example-sixlowpan-cc-in-ns3",
    "title": "running example-sixlowpan.cc in NS3",
    "question": "I am receicing the following error when trying to run the example-sixlowpan.cc file in NS3, i have placed both the example-sixlowpan.cc and example-ping-lr-wpan.cc files within a folder named 6lowpan within the scratch folder of NS3.\nafter running \"./waf --run example-sixlowpan\" i receive the following error:\nWaf: Leaving directory `/repos/ns-allinone-3.25/ns-3.25/build'\nBuild failed\n -> task in '6lowpan' failed (exit status 1): \n    {task 140117242282192: cxxprogram example-ping-lr-wpan.cc.3.o,example-sixlowpan.cc.3.o -> 6lowpan}\n['/usr/bin/g++', '-pthread', '-pthread', 'scratch/6lowpan/example-ping-lr-wpan.cc.3.o', 'scratch/6lowpan/example-sixlowpan.cc.3.o', '-o', '/repos/ns-allinone-3.25/ns-3.25/build/scratch/6lowpan/6lowpan', '-Wl,-Bstatic', '-Wl,-Bdynamic', '-Wl,--no-as-needed', '-L.', '-lns3.25-test-debug', '-lns3.25-lr-wpan-debug', '-lns3.25-netanim-debug', '-lns3.25-lte-debug', '-lns3.25-spectrum-debug', '-lns3.25-antenna-debug', '-lns3.25-aodv-debug', '-lns3.25-applications-debug', '-lns3.25-csma-layout-debug', '-lns3.25-dsdv-debug', '-lns3.25-dsr-debug', '-lns3.25-flow-monitor-debug', '-lns3.25-internet-apps-debug', '-lns3.25-mesh-debug', '-lns3.25-wimax-debug', '-lns3.25-nix-vector-routing-debug', '-lns3.25-olsr-debug', '-lns3.25-point-to-point-layout-debug', '-lns3.25-sixlowpan-debug', '-lns3.25-tap-bridge-debug', '-lns3.25-visualizer-debug', '-lns3.25-wave-debug', '-lns3.25-internet-debug', '-lns3.25-bridge-debug', '-lns3.25-point-to-point-debug', '-lns3.25-mpi-debug', '-lns3.25-traffic-control-debug', '-lns3.25-wifi-debug', '-lns3.25-buildings-debug', '-lns3.25-propagation-debug', '-lns3.25-uan-debug', '-lns3.25-mobility-debug', '-lns3.25-energy-debug', '-lns3.25-config-store-debug', '-lns3.25-csma-debug', '-lns3.25-fd-net-device-debug', '-lns3.25-virtual-net-device-debug', '-lns3.25-topology-read-debug', '-lns3.25-network-debug', '-lns3.25-stats-debug', '-lns3.25-core-debug', '-lrt', '-lgsl', '-lgslcblas', '-lm', '-lsqlite3', '-lgtk-x11-2.0', '-lgdk-x11-2.0', '-latk-1.0', '-lgio-2.0', '-lpangoft2-1.0', '-lpangocairo-1.0', '-lgdk_pixbuf-2.0', '-lcairo', '-lpango-1.0', '-lfontconfig', '-lgobject-2.0', '-lglib-2.0', '-lfreetype', '-lxml2']",
    "answer": "Try to use the following command\n./waf --run scratch/6lowpan/example-sixlowpan\nor place the example-sixlowpan.cc file in scratch folder."
  },
  {
    "url": "https://stackoverflow.com/questions/48730433/internetstackhelper-class",
    "title": "InternetStackHelper class",
    "question": "For the below code snippet\nPointToPointHelper pointToPoint;\npointToPoint.SetDeviceAttribute (\"DataRate\", StringValue (\"5Mbps\"));\npointToPoint.SetChannelAttribute (\"Delay\", StringValue (\"2ms\"));\n\nNetDeviceContainer devices;\ndevices = pointToPoint.Install (nodes);\n\nInternetStackHelper stack;\nstack.Install (nodes);\n\nIpv4AddressHelper address;\naddress.SetBase (\"10.1.1.0\", \"255.255.255.0\");\n\nIpv4InterfaceContainer interfaces = address.Assign (devices);\nWhat is the relevance of the code\nInternetStackHelper stack;\nstack.Install (nodes);",
    "answer": "Could you specify what's exactly not clear from\nthe documentation\n?\nIt's a helper class which aggregates several objects, mainly for routing and tracing so e.g. when you have two nodes able to communicate over a NetDevice routing is done properly."
  },
  {
    "url": "https://stackoverflow.com/questions/48556297/ns-3-simulation-takes-too-long",
    "title": "NS-3 Simulation takes too long",
    "question": "I'm using Ubuntu 16.40 with 4GB of RAM.\n./waf --pyrun wifi-olsr-flowmonitor.py\nWhen I run the\nwifi-olsr-flowmonitor.py\nfile in NS-3 for 9 nodes, it took 17 hours to complete the simulation. Why did it take that long? And what can I do to prevent this from hapenning again?",
    "answer": "I found the solution to this issue. It's because I wrote my terminal output to a text file. So it took much more time when the delay increases time to time."
  },
  {
    "url": "https://stackoverflow.com/questions/48490058/does-ns3-support-3d-topology",
    "title": "Does ns3 support 3d topology?",
    "question": "I'm using ns3 to simulate a wireless data center. I started it with 2d topology using \"GridPositionAllocator\".\nMobilityHelper mobility;\n    mobility.SetPositionAllocator (\"ns3::GridPositionAllocator\",\n    \"MinX\", DoubleValue (0.0),\n    \"MinY\", DoubleValue (0.0),\n    \"DeltaX\", DoubleValue (1.0),\n    \"DeltaY\", DoubleValue (1.0),\n    \"GridWidth\", UintegerValue (8),\n    \"LayoutType\", StringValue (\"ColumnFirst\"));\n    mobility.SetMobilityModel (\"ns3::ConstantPositionMobilityModel\");\n    mobility.Install (wifiNodes);\nHow could I change it to 3d to place several servers in a rack?",
    "answer": "In principle, ns-3 does support 3D mobility since the mobility vectors are 3D (X, Y, Z), however there is no 'PositionAllocator' implemented for that. Contributions are welcome.\nA simple solution is to extend this GridPositionAllocator which assumes Z=0 and add the 3rd dimension with corresponding MinZ, DeltaZ."
  },
  {
    "url": "https://stackoverflow.com/questions/48455804/ns-3-flow-monitor-how-to-deal-with-number-of-nodes",
    "title": "NS-3 Flow-Monitor - How to deal with number of nodes",
    "question": "In flow-monitor module there's wifi-olsr-flowmon.py, why it always square the number of nodes? Is there any special reason for it?\nNUM_NODES_SIDE = 3\nWhen we give 3 as the number of nodes per side it creates the network for 9 nodes. Can anyone explain how it works and what's the speciality?\nThank you.",
    "answer": "Simply because for this scenario the topology of the nodes is a NxN grid, where N is the number of nodes that you give as input. \nAs the variable suggests, that is the number of nodes per side."
  },
  {
    "url": "https://stackoverflow.com/questions/48329207/ns-3-vanet-how-to-implement-simple-intersection-scenario",
    "title": "NS-3 VANET: How to implement simple intersection scenario?",
    "question": "I am using NS-3 to implement a simple FIFO intersection scenario in DSRC-based VANETs. Since I am new to NS-3, I would appreciate any detailed guide on how to make the code.\nAs for this scenario, the first question might be how to build intersection/ road and coordinates? Then I might be needing to generate road traffic on each of 4 queues and let them go through the intersection as FIFO. Finally some parameters such as intersection throughput (per minute/hour) needs to be measured. I assume I can apply a trace file from SUMU/VISSIM.\nI think this simple scenario may be helpful as a starting point.",
    "answer": "Yes, you can use trace files generated by SUMO. Simply generate them in 'ns2' format that ns-3 can interpret/parse. How to generate such trace files is explained in the SUMO documentation.\nSee\nhttps://www.nsnam.org/docs/release/3.14/models/html/mobility.html#ns-2-mobilityhelper"
  },
  {
    "url": "https://stackoverflow.com/questions/48294793/how-the-zerodivisionerror-process",
    "title": "How the ZeroDivisionError process",
    "question": "I would like to know what is the use of ZeroDivisionError and how it works in the following example code?\ntry:\n   hopCounts.append(flow_stats.timesForwarded/ flow_stats.rxPackets)\nexcept ZeroDivisionError:            \n    flow_stats.jitterSum.GetSeconds() == 0",
    "answer": "For the code-sample you gave:\ntry:\n    # try block\n    hopCounts.append(flow_stats.timesForwarded / flow_stats.rxPackets)\nexcept ZeroDivisionError:\n    # exception block\n    flow_stats.jitterSum.GetSeconds() == 0\nThe\ntry block\nwill run the code inside the brackets first\nflow_stats.timesForwarded / flow_stats.rxPackets\n.\nIf\nflow_stats.rxPackets\nis zero, then the\nZeroDivisionError\nexception will be raised.\nOtherwise, the value calculated will be appended to the\nhopCounts\nlist.\nThe\nexception block\nwill not be executed.\nIf the\nZeroDivisionError\nexception was raised, that exception will be caught by the\nexcept\nstatement, and the\nexception block\ncode will run\nflow_stats.jitterSum.GetSeconds() == 0\nHowever, that code won't do anything, it will simply return\nTrue\nor\nFalse\n... it has the same effect as simply writing\nTrue\nin python on a line by itself.\nTo learn more, read\nhttp://www.pythonforbeginners.com/error-handling/exception-handling-in-python"
  },
  {
    "url": "https://stackoverflow.com/questions/48157741/flow-monitor-result-is-not-showing-in-ns3-simulation",
    "title": "Flow Monitor Result is not showing in ns3 simulation",
    "question": "Currently i m using ns-3.19 for my simulation \nI have code of PMIPV6. It is running on my friend system perfectly and showing me Flow Monitor output on the terminal. But when i m running on my system code is running perfectly fine but it is not showing me output of Flow Monitor just like it is showing me on my friend's system. Please help me what i have to do to see the output.\nCode file is attached.\nNote: Both systems are using same version of ns and ubuntu. Even files are also same.\nOutput of my friend system\nCode i have here it is\nhttps://drive.google.com/file/d/1LEMfjUXLj4r7W3wLTBsc99PfyAtouEVX/view?usp=sharing",
    "answer": "Try to use it in NS-3.20. It may be a compatibility with NS-3 version.\nFollow the below link for more information. Thank you.\nhttps://www.nsnam.org/doxygen/"
  },
  {
    "url": "https://stackoverflow.com/questions/48023408/in-ns-3-how-to-do-you-assign-node-id-and-how-to-retrive-display-them-in-the-ter",
    "title": "In NS-3, How to do you assign node id and how to retrive/display them in the terminal?",
    "question": "I want to display 20 nodes with its unique id. I have created 20 nodes using for loop with the following command.\nNodeContainer c;\nc.Create (20);\nint j;\nfor(j = 0; j < 20; j++)\n{   \n  m.Install (c.Get(j));\n}\nstd::count << \"Node Id: %d\" << ??? <<std::endl;\nThe above code created 20 nodes and seen in the simulation tool Netanim. Now I need to display each of these nodes with unique id in the terminal.\nCan anyone tell me how to assign the node id?",
    "answer": "NodeContainer c;\n c.Create (20);\n for (uint32_t i = 0; i < 20; ++i)\n {\n    std::ostringstream os;\n    os << \"node-\" << i;   \n }\nTry the above code to display each node in the terminal instead of your code. This works in my network.\nThank you."
  },
  {
    "url": "https://stackoverflow.com/questions/47997100/how-to-implement-gpsr-algorithm-in-ns3",
    "title": "How to implement GPSR algorithm in ns3 ?",
    "question": "I want to implement gpsr using  ns3 .For this purpose , I am follwing\nthis github project.\nIn this project ,  I am reading readme file . I have found that I have to execute this command : \"./waf configure;./waf\" .\nSo I enter in my terminal my folder path.When i put\n./waf configure\n, it has showed me configuration is successfull.Then I put\n./waf\nit show this type of error .\n../src/core/model/unix-system-wall-clock-ms.cc: In member function ‘int64_t ns3::SystemWallClockMsPrivate::End()’:\n../src/core/model/unix-system-wall-clock-ms.cc:78:44: error: ‘_SC_CLK_TCK’ was not declared in this scope\n   static int64_t ticksPerSecond = sysconf (_SC_CLK_TCK);\n                                            ^\n../src/core/model/unix-system-wall-clock-ms.cc:78:55: error: ‘sysconf’ was not declared in this scope\n   static int64_t ticksPerSecond = sysconf (_SC_CLK_TCK);\nIt also shows me the reason to get this error :\nBuild failed\n -> task failed (exit status 1): \n    {task 139770074846736: cxx unix-system-wall-clock-ms.cc -> unix-system-wall-clock-ms.cc.1.o}\n['/usr/bin/g++', '-O0', '-ggdb', '-g3', '-Wall', '-Werror', '-Wno-error=deprecated-declarations', '-fstrict-aliasing', '-Wstrict-aliasing', '-fPIC', '-pthread', '-Ibuild', '-I.', '-DNS3_ASSERT_ENABLE', '-DNS3_LOG_ENABLE', '-DSQLITE3=1', '-DHAVE_IF_TUN_H=1', '-DPYTHONDIR=\"/usr/local/lib/python2.7/dist-packages\"', '-DPYTHONARCHDIR=\"/usr/local/lib/python2.7/dist-packages\"', '-DHAVE_PYTHON_H=1', '-DENABLE_GSL', '../src/core/model/unix-system-wall-clock-ms.cc', '-c', '-o', 'src/core/model/unix-system-wall-clock-ms.cc.1.o']\nSo can you suggest me an way to resolve this error ? Why am I getting this error ? What can I do to run GPSR algorithm in ns3 ? I badly need the simulation of GPSR algorithm . Thanks for your co-operation .",
    "answer": "You need to add this include to src/core/model/unix-system-wall-clock-ms.cc\n#include <unistd.h>\nSome systems (such as yours) need this explicitly added while others may pull it in with another header file."
  },
  {
    "url": "https://stackoverflow.com/questions/47802774/declaring-gnuplothelper-failed-in-ns3",
    "title": "Declaring GnuplotHelper failed in ns3",
    "question": "I want to use\nGnuplotHelper\nin ns3 to plot the results. even when I run ns3's default example\nseventh.cc\nI get the following error:\n../scratch/congestion.cc: In function ‘int main(int, char**)’:\n../scratch/congestion.cc:173:1: error: ‘GnuplotHelper’ was not declared in this scope\n GnuplotHelper plotHelper;\n ^\n../scratch/congestion.cc:180:1: error: ‘plotHelper’ was not declared in this scope\n plotHelper.ConfigurePlot (\"Test\",\"CongestionWindow vs. Time\",\"Time (Seconds)\",\"CongestionWindow\",\"jpg\");\n ^\n../scratch/congestion.cc:181:81: error: ‘GnuplotAggregator’ has not been declared\n plotHelper.PlotProbe (probeName,probeTrace,\"CongetionWindow\",\"CongestionWindow\",GnuplotAggregator::KEY_BELOW);\nIf I include \"\ngnuplot-helper.h\n\" I get an additional line and same error:\n../scratch/seventh.cc:24:28: fatal error: gnuplot-helper.h: No such file or directory\ncompilation terminated.\nI've installed gnuplot on my linux. What should I do? How can I declare Gnuplot helper?",
    "answer": "First, did you install a gnu-plot-dev package or just gnuplot? Many distributions separate the ability to use libraries and the ability to develop against them.\nIf you are sure the include files are actually on your system somewhere (check both /usr/include and /usr/local/include/) you may need to add an additional directory level to your compiler search path (perhaps /usr/include/gnuplot/ but I am only guessing there)."
  },
  {
    "url": "https://stackoverflow.com/questions/47754983/distance-calculation-in-ns-3",
    "title": "Distance Calculation in NS-3",
    "question": "I need to calculate the distance between the nodes and display them in either in terminal or text file.\nI have complied the program using the function\nGetDistanceFrom();\ndouble \nns3::MobilityModel::GetDistanceFrom (Ptr<const MobilityModel> other) const\n{\n  Vector oPosition = other->DoGetPosition ();\n  Vector position = DoGetPosition ();\n  return CalculateDistance (position, oPosition);\n}\nI have used the above functions in my program but I don't know how to display them.",
    "answer": "A standard\nstd::cout\nor the ns3`NS_LOG' should print you the information you want. See the logging section in the manual\nhere"
  },
  {
    "url": "https://stackoverflow.com/questions/47694676/error-installing-ns-3-on-ubuntu",
    "title": "Error installing NS-3 on Ubuntu",
    "question": "I'm trying to install NS-3 on Ubuntu. I have already updated and installed all the required packages, but when I want to do\nbuild.py\nthis error occurs:\ncc1plus: all warnings being treated as errors\nWaf: Leaving directory `/home/ali/Desktop/ns-allinone-3.21/ns-3.21/build'\nBuild failed\n-> task in 'ns3-wave' failed (exit status 1): \n{task 140530495514448: cxx wifi-80211p-helper.cc -> wifi-80211p-\nhelper.cc.1.o}\n['/usr/bin/g++', '-O0', '-ggdb', '-g3', '-Wall', '-Werror', '-Wno-\nerror=deprecated-declarations', '-fstrict-aliasing', '-Wstrict-aliasing', '-\nfPIC', '-pthread', '-I.', '-I..', '-DNS3_ASSERT_ENABLE', '-DNS3_LOG_ENABLE', \n'-DHAVE_SYS_IOCTL_H=1', '-DHAVE_IF_NETS_H=1', '-DHAVE_NET_ETHERNET_H=1', '-\nDHAVE_PACKET_H=1', '-DHAVE_SQLITE3=1', '-DHAVE_IF_TUN_H=1', '-DHAVE_GSL=1', \n'../src/wave/helper/wifi-80211p-helper.cc', '-c', '-o', \n'src/wave/helper/wifi-80211p-helper.cc.1.o']\nTraceback (most recent call last):\nFile \"./build.py\", line 170, in <module>\nsys.exit(main(sys.argv))\nFile \"./build.py\", line 161, in main\nbuild_ns3(config, build_examples, build_tests, args, build_options)\nFile \"./build.py\", line 81, in build_ns3\nrun_command([sys.executable, \"waf\", \"build\"] + build_options)\nFile \"/home/ali/Desktop/ns-allinone-3.21/util.py\", line 24, in run_command\nraise CommandError(\"Command %r exited with code %i\" % (argv, retval))\nutil.CommandError: Command ['/usr/bin/python', 'waf', 'build'] exited with \ncode 1\nWhat should I do? Please help me, it`s vital for me.",
    "answer": "The solution from the below link was very much helpful for me.\nLink to Solution\nExecute the below commands one by one.\nFirst\nsudo apt install python3-dev qt5-default libsqlite3-dev \n  libdpdk-dev \\libgsl-dev libssh-gcrypt-dev libgtk-3-dev \n  libboost-all-dev \\python3-pygraphviz libxml2-dev python3- \n  pip\nsudo pip3 install pygccxml==2.1.0\nwget\nhttps://www.nsnam.org/release/ns-allinone-3.33.tar.bz2\ntar xvf ns-allinone-3.33.tar.bz2\ncd ns-allinone-3.33/\n./build.py\ncd ns-3.33/\n./waf configure --enable-examples\n./waf"
  },
  {
    "url": "https://stackoverflow.com/questions/47530667/connect-ns3-node-to-a-local-blockchain",
    "title": "Connect NS3 node to a local blockchain",
    "question": "Imagine that you have a local bolckchain network where each node is a container created in the same OS. Are there any way to connect each node with an other node created in a NS3 simulation?",
    "answer": "it could be possible through the emulation framework through linux containers\nhere\n,\nhere"
  },
  {
    "url": "https://stackoverflow.com/questions/47478335/lte-d2d-multicast-communication",
    "title": "LTE D2D multicast Communication",
    "question": "I ave to build a topology where multiple nodes (4-5 UE) are connected via to an eNB and eNB is giving coverage in 4 different directions of the cellular network. or it can be said that:\ncoverage area of eNB is further divided into 4 sectors (or 4 different multicast groups )and above mentioned UE belongs to each MCs (multicast groups, which are 4). i.e; 4-5 UEs/MC group.\nMC1 has 4-5 UEs\nMC2 has 4-5 UEs\nMC3 has 4-5 UEs\nMC4 has 4-5 UEs\nUEs have to communicate to eNB and it's going to be TCP/IP communication. Cellular network is going to send traffic data and UEs has to send back ack/NACK to eNB.\nand in this Scenerio I have to calculate statistics of reliability.\nThere r only two frequencies which are being shared by diagonally opposite MCs. i.e; MC1 and MC3 are going to share same frequency while MC2 and MC4 are going to share another same frequency.\nIn return UEs of same MCs have to send back ACK/NACK in the same subframe of RB.\nIn ns-3 there are no such examples. How could I build the topology ?\nAny kind of suggestions are highly appreciated. \nPlease support.",
    "answer": "You are asking the community about how to build a non-trivial scenario from scratch.  You will probably get a better response if you can try to work it out yourself first and then ask more specific questions if you get stuck.  The ns-3-users Google Groups forum is probably better suited for this type of question, once you can refine your question.  Please note that in ns-3 there is neither D2D nor multicast support in the LTE module of the current release."
  },
  {
    "url": "https://stackoverflow.com/questions/47474828/ns-3-sniffing-passive-acks",
    "title": "NS-3 Sniffing Passive ACKs",
    "question": "I am editing the AODV module in NS-3.\nWhen a node forwards a data packet to the next node, I want my AODV module to listen to overhear next node's forwarding process to make sure it is forwarding it right.\nThe pcap file correctly sniffs next node's transmission, but I cannot get my hands on it from the AODV module.\nI am guessing that the packet is being dropped since it is not supposed to be involved on it, thus I want to know how to change that.\nCan anyone give me clues on where to look to change any relevant codes?\nThanks",
    "answer": "Overhearing can be accomplished by hooking one of the Wi-Fi device trace sources.  The MonitorSnifferRx in the WifiPhy object is probably what you want.  There are two steps:  1) obtain a pointer to the Wi-Fi Phy somehow, and 2) attach a callback function to that trace source.\nStep 1) is already mostly done in Aodv in an existing method:\nRoutingProtocol::NotifyInterfaceUp ()\n...\n// Allow neighbor manager use this interface for layer 2 feedback if possible\nPtr<WifiNetDevice> wifi = dev->GetObject<WifiNetDevice> ();\nFrom this point, you can get a Phy object pointer:\nPtr<WifiPhy> phy = wifi->GetPhy();\nFrom here, you will want to use TraceConnectWithoutContext() to hook the trace souce, with a callback that has a matching function signature to what the MonitorSniffRx trace expects.\nphy->TraceConnectWithoutContext (\"MonitorSniffRx\", MakeCallback (&InsertYourCallbackFunctionHere));\nSee how the Mac-level trace source \"TxErrHeader\" is similarly hooked in that same method."
  },
  {
    "url": "https://stackoverflow.com/questions/47183955/accessing-wifiphy-from-a-recevied-callback-in-ns3",
    "title": "Accessing WiFiPhy from a recevied callback in NS3",
    "question": "I want to access the WiFiPhy inside the reception callback of NetDevice with signature.\ntypedef Callback< bool, Ptr<NetDevice>, Ptr<const Packet>, uint16_t, const Address & > ReceiveCallback;\nInside the callback, i'm the the casting the NetDevice to WiFiDevice like to WiFiPhy functions.\nPtr<WifiNetDevice> wifiNetDevice = DynamicCast<WifiNetDevice>(device);\nPtr<WifiPhy> wifiPhyDev = wifiNetDevice->GetPhy();\nBut I am getting a segmentation fault during the run ? What actually im doing wrong here?\nThanks",
    "answer": "Ok i found it..  when you create a\nNetDeviceContainer\nthe object is of type\nNetDevice\nwhich does not have any\nWifiPhy\n. The solution is to DynamicCast it into\nWifiNetDevice\nand send the frame.\nPtr<WifiNetDevice> wifiNetDevice = DynamicCast<WifiNetDevice>(netDevice);"
  },
  {
    "url": "https://stackoverflow.com/questions/47179764/ns3-g-6-x-warning-about-c14",
    "title": "NS3 - G++ 6.x warning about c++14",
    "question": "I am writing a C++ program for Network Simulator 3, and I want to use C++14 experimental std::optional. I was compiling my code with gcc5 until I saw a warning like\n/usr/include/c++/6/bits/c++14_warning.h:32:2: error: #error This file requires compiler and library support for the forthcoming ISO C++ 2014 standard. This support is currently experimental, and must be enabled with the -std=c++1y or -std=gnu++1y compiler options.\nThen I searched for the gcc version that had C++14 as the default standard which is gcc6 (\nhttps://gcc.gnu.org/gcc-6/porting_to.html\n) and I installed it. Typing gcc -v outputs version 6.3 .\nBut the problem is that the error is still there and I don't know what steps to follow next. Can anyone give me hints on how to solve the problem or what else I should try?\nMy operating system is Ubuntu desktop 16.04.\nEdit:\nI think it is a ns3 problem, I have created a minimal working example:\n#include <iostream>\n#include <experimental/optional>\n\nusing namespace std;\n\n// main() is where program execution begins.\nint main() {\n\n   cout << \"Hello World\"; // prints Hello World\n   return 0;\n}\nand it compiles as \"expected\", with just a little note that this feature is experimental. I have tried to add every type of flag to ns3 but still doesn't compile and outputs the same message.\ng++ -v outputs:\nUsing built-in specs.\nCOLLECT_GCC=g++\nCOLLECT_LTO_WRAPPER=/usr/lib/gcc/x86_64-linux-gnu/6/lto-wrapper\nTarget: x86_64-linux-gnu\nConfigured with: ../src/configure -v --with-pkgversion='Ubuntu/Linaro 6.3.0-18ubuntu2~16.04' --with-bugurl=file:///usr/share/doc/gcc-6/README.Bugs --enable-languages=c,ada,c++,java,go,d,fortran,objc,obj-c++ --prefix=/usr --program-suffix=-6 --program-prefix=x86_64-linux-gnu- --enable-shared --enable-linker-build-id --libexecdir=/usr/lib --without-included-gettext --enable-threads=posix --libdir=/usr/lib --enable-nls --with-sysroot=/ --enable-clocale=gnu --enable-libstdcxx-debug --enable-libstdcxx-time=yes --with-default-libstdcxx-abi=new --enable-gnu-unique-object --disable-vtable-verify --enable-libmpx --enable-plugin --with-system-zlib --disable-browser-plugin --enable-java-awt=gtk --enable-gtk-cairo --with-java-home=/usr/lib/jvm/java-1.5.0-gcj-6-amd64/jre --enable-java-home --with-jvm-root-dir=/usr/lib/jvm/java-1.5.0-gcj-6-amd64 --with-jvm-jar-dir=/usr/lib/jvm-exports/java-1.5.0-gcj-6-amd64 --with-arch-directory=amd64 --with-ecj-jar=/usr/share/java/eclipse-ecj.jar --with-target-system-zlib --enable-objc-gc=auto --enable-multiarch --disable-werror --with-arch-32=i686 --with-abi=m64 --with-multilib-list=m32,m64,mx32 --enable-multilib --with-tune=generic --enable-checking=release --build=x86_64-linux-gnu --host=x86_64-linux-gnu --target=x86_64-linux-gnu\nThread model: posix\ngcc version 6.3.0 20170519 (Ubuntu/Linaro 6.3.0-18ubuntu2~16.04)",
    "answer": "There is a pending patch to ns-3 to fix this; it should show up in a future ns-3 release (ns-3.28) or the patch can be applied to the current and earlier releases:\nhttps://www.nsnam.org/bugzilla/show_bug.cgi?id=2800"
  },
  {
    "url": "https://stackoverflow.com/questions/47022911/how-to-implement-a-stateful-ns3-proxy-node",
    "title": "how to implement a stateful ns3 proxy node",
    "question": "I am trying to simulate a network consist of a server, n clients and m proxy servers in\nns3\n. my clients can only see proxies and connect them(proxies are my clients sink application). I want my proxies to forward the exact traffic to  server( server is sink for my proxies) and return back the servers response to clients.\nHow can I achieve this? can anybody help me with that?",
    "answer": "One possible solution is to create a 'Proxy' application which would receive on one interface/port and forward to another. Your client would connect to the proxies and send their data. The proxy would receive and forward them to the server.\nYou can use the\nUdpEchoServer\napplication as base of your Proxy application. The UdpEcho receives a packet and replies to the sender with a new one. Modify this by replying to another node (your server) and instead of creating a new packet, use the same (or copy of the received)."
  },
  {
    "url": "https://stackoverflow.com/questions/46376087/how-can-i-use-wifi-radio-energy-model",
    "title": "How can I use wifi radio energy model?",
    "question": "How can I use wifi radio energy model in ns3? This file is for control energy of nodes specially state of nodes include : 1) Tx 2) Rx 3) Idle 4) Sleep.",
    "answer": "the WifiRadioEnergyModel Class you mention is used to measure the energy consumption of WiFi nodes, based on the transitions of the radio state. According to the state, there is different energy consumption, and that is what is measured.\nWifiRadioEnergyModel is used in the basic-energy-model-test.cc and rv-battery-model-test.cc in energy/examples folder."
  },
  {
    "url": "https://stackoverflow.com/questions/46148392/simulate-a-continuous-client-server-communication-in-ns3",
    "title": "Simulate a continuous client-server communication in ns3",
    "question": "I want to simulate a simple continuous client-server request-response behaviour; i.e. the client sends a packet to server, then server receives the packet and responds to the client, then client receives the response packet and it again sends out a new packet to server and so on. I have figured out to send one round of communication (client->server->client) but don't know how to continue this. This is my code to achieve one round:\nUdpEchoServerHelper echoServer (9);\n\nApplicationContainer serverApps = echoServer.Install (wifiApNode.Get (nWifiAp - 1));\nserverApps.Start (Seconds (1.0));\nserverApps.Stop (Seconds (10.0));\n\nUdpEchoClientHelper echoClient (apDevicesInterfaces.GetAddress (nWifiAp - 1), 9);\nechoClient.SetAttribute (\"MaxPackets\", UintegerValue (1));\nechoClient.SetAttribute (\"Interval\", TimeValue (Seconds (1.0)));\nechoClient.SetAttribute (\"PacketSize\", UintegerValue (1024));\n\nApplicationContainer clientApps;\n\nclientApps = echoClient.Install (wifiStaNodes.Get (nWifiSta - 1));\nclientApps.Start (Seconds (2.0));\nclientApps.Stop (Seconds (10.0));\nIf I set any other int than 1 in\nechoClient.SetAttribute (\"MaxPackets\", UintegerValue (1));\n, I am able to have that many rounds but the problem is that they all start at 1 second gap (due to this:\nechoClient.SetAttribute (\"Interval\", TimeValue (Seconds (1.0)));\n). I want that client starts sending out as soon as it receives response from the server and not after waiting for 1 second.",
    "answer": "You will need to modify the echoClient application and in particularly the 'HandleRead' method that is respnsible for the reception of packets. \nCurrently it only prints that one is received. Take a look at the UdpEchoServer application, where the HandleRead is generating the response."
  },
  {
    "url": "https://stackoverflow.com/questions/46112751/how-to-pcap-dropped-packets-with-pointtopointhelper-in-ns3",
    "title": "How to pcap dropped packets with PointToPointHelper in NS3",
    "question": "I was trying to capture the packets in NS3 experiment.\nI used\nPointToPointHelper\nto use pcap.\nAnd, it can capture the normal packets.\nPointToPointHelper pointToPoint;\npointToPoint.EnablePcap (\"Host\", (hosts.Get(0))->GetDevice(1));\nBut, it cannot capture the packet that I intentionally dropped.\nI dropped the packets in RouteInput method.\nAnd I just simply\nreturn false\nto drop the packet.\nRouteInput(Ptr<Packet> p, Ipv4Header &header, Ptr<const NetDevice> idev, UnicastForwardCallback ucb, MulticastForwardCallback mcb, LocalDeliverCallback lcb, ErrorCallback ecb) {\n...\nreturn false;\n}\nAnd I found that pcap didn't capture the dropped packets.\nAlthough, the packet was intentionally dropped by the switch, it did come to the switch. So, I want the packet be capture by pcap.\nIs there a way that I can capture the packets that is intentionally dropped?",
    "answer": "if not work with pcap file, NS3 generate also a .tr file with d operation, which means a packet was dropped."
  },
  {
    "url": "https://stackoverflow.com/questions/45904609/onoffapplication-with-tcp-retransmission",
    "title": "OnOffApplication with TCP retransmission",
    "question": "I was doing some experiments.\nAnd I used OnOffApplication to generate the traffic.\nHowever things didn't seem right.\nAnd i use \nMaxBytes to send the amount of traffic that I want.\nAnd the traffic is heavy.\nSo there will be some packets being dropped.\nAnd it seems OnOffApplication doesn't care about the dropped packets. ( I'm not sure. It's my guess)\nIt only send the packets until it reaches MaxBytes , and doesn't care about whether the packet is received or not.\nIs my guess right?\nAnd, if my guess is right, then is there any alternative choice that I can use.\nTo generate traffic that each flow has a certain size, and have to re-transmit until all packets in the same flow is received.\nMy code is in below\nOnOffHelper source (\"ns3::TcpSocketFactory\", Address (InetSocketAddress(r_ipaddr, port)));\nsource.SetAttribute (\"OnTime\", RandomVariableValue (ConstantVariable (1)));\nsource.SetAttribute (\"OffTime\", RandomVariableValue (ConstantVariable (0)));\nsource.SetAttribute (\"DataRate\", DataRateValue (DataRate(linkBw))); \nsource.SetAttribute(\"PacketSize\",UintegerValue (packetSize));\nsource.SetAttribute (\"MaxBytes\", UintegerValue (tempsize*1000));",
    "answer": "From the application point of view, OnOff is only a packet generator. It sends packets with specific characteristics (rate, max number etc). It does not track them. That's by design.\nIf you use TCP though, then the socket will track and\nmake sure that any lost segments are re-transmitted.\nThe application will generate the MaxBytes in terms of load, but the actual packets transmitted on the wire (or the air) may differ due to the fact that TCP (by design) does not respect the message boundaries, as it is a bytestream oriented protocol. So it may boundle data packets together, or packet segments, with re-trasnmitted segmets etc."
  },
  {
    "url": "https://stackoverflow.com/questions/45825759/calculating-throughput-in-lte-network-simulation-in-ns3",
    "title": "Calculating throughput in lte network simulation in ns3",
    "question": "I want to calculate throughput, packet loss and other network parameters in an lte network that I simulate in ns3. I can get 3 trace files as results: one for Mac trace, Rlc trace, and Pdcp.\nIn ns3 website, the trace part for lte is empty!\nhttps://www.nsnam.org/docs/release/3.10/manual/html/lte.html",
    "answer": "I do not understand in which part you refer to, as there is no 'trace' section in the LTE manual. Also, use the latest version of ns-3 documentation, and not one from ns-3.10 (almost 5 yr old).\nSpecifically, for\nLTE output\nthere is a section explaining what these file you get contain. You would then to analyse those files to get total throughput or other statistics.\nIn addition to the LTE specific output, you can use FlowMonitor and/or the data collection framework (both explained in the ns-3 manual) and with examples available in the codebase."
  },
  {
    "url": "https://stackoverflow.com/questions/45382360/flex-lexer-error-to-build-rapidnet-stimulator",
    "title": "Flex-lexer error to build rapidnet stimulator",
    "question": "I was trying to install rapidnet from website netdb.cis.upenn.edu/rapidnet/ , and after that following instructions from github\nhttps://github.com/netdb2017/rapidnet_v1.0\n, however still faced some error as Script.py should be Python.py(mentioned in github link) and some other problems which i solved using commands\nsudo apt-get install libboost-all-dev libssl-dev\nhowever it has some problem with flex-lexer i think which is mentioned in\nhttps://bugs.debian.org/cgi-bin/bugreport.cgi?bug=812974\nand getting error as\n/usr/include/FlexLexer.h:160:7: note: candidate: void\n  yyFlexLexer::yy_init_buffer(yy_buffer_state*, std::istream&)\n      void yy_init_buffer( struct yy_buffer_state* b, FLEX_STD istream& s );\nAnd the full error detail is as follows\n[743/947] cxx: src/rapidnet-compiler/ol-lexer.cc -> build/debug/src/rapidnet-compiler/ol-lexer_1.o\n[745/947] cxx: src/rapidnet-compiler/table-store.cc -> build/debug/src/rapidnet-compiler/table-store_1.o\n[746/947] cxx: src/rapidnet-compiler/all-values.cc -> build/debug/src/rapidnet-compiler/all-values_1.o\n[747/947] cxx: src/rapidnet-compiler/parser-util.cc -> build/debug/src/rapidnet-compiler/parser-util_1.o\nsrc/rapidnet-compiler/ol-lexer.cc: In member function ‘int ns3::rapidnet_compiler::OlLexer::yylex(YYSTYPE*, ns3::rapidnet_compiler::OlContext*)’:\nsrc/rapidnet-compiler/ol-lexer.cc:765:9: error: no match for ‘operator=’ (operand types are ‘std::istream {aka std::basic_istream<char>}’ and ‘std::istream* {aka std::basic_istream<char>*}’)\nIn file included from /usr/include/c++/5/iostream:40:0,\n                 from src/rapidnet-compiler/ol-lexer.cc:95:\n/usr/include/c++/5/istream:58:11: note: candidate: std::basic_istream<char>& std::basic_istream<char>::operator=(const std::basic_istream<char>&)\n     class basic_istream : virtual public basic_ios<_CharT, _Traits>\n           ^\n/usr/include/c++/5/istream:58:11: note:   no known conversion for argument 1 from ‘std::istream* {aka std::basic_istream<char>*}’ to ‘const std::basic_istream<char>&’\nsrc/rapidnet-compiler/ol-lexer.cc:768:10: error: no match for ‘operator=’ (operand types are ‘std::ostream {aka std::basic_ostream<char>}’ and ‘std::ostream* {aka std::basic_ostream<char>*}’)\nIn file included from /usr/include/c++/5/iostream:39:0,\n                 from src/rapidnet-compiler/ol-lexer.cc:95:\n/usr/include/c++/5/ostream:58:11: note: candidate: std::basic_ostream<char>& std::basic_ostream<char>::operator=(const std::basic_ostream<char>&)\n     class basic_ostream : virtual public basic_ios<_CharT, _Traits>\n           ^\n/usr/include/c++/5/ostream:58:11: note:   no known conversion for argument 1 from ‘std::ostream* {aka std::basic_ostream<char>*}’ to ‘const std::basic_ostream<char>&’\nsrc/rapidnet-compiler/ol-lexer.cc:1312:46: error: invalid user-defined conversion from ‘std::istream {aka std::basic_istream<char>}’ to ‘std::istream* {aka std::basic_istream<char>*}’ [-fpermissive]\nIn file included from /usr/include/c++/5/ios:44:0,\n                 from /usr/include/c++/5/ostream:38,\n                 from /usr/include/c++/5/iostream:39,\n                 from src/rapidnet-compiler/ol-lexer.cc:95:\n/usr/include/c++/5/bits/basic_ios.h:120:7: note: candidate is: std::basic_ios<_CharT, _Traits>::operator void*() const [with _CharT = char; _Traits = std::char_traits<char>] <near match>\n       operator void*() const\n       ^\n/usr/include/c++/5/bits/basic_ios.h:120:7: note:   no known conversion from ‘void*’ to ‘std::istream* {aka std::basic_istream<char>*}’\nIn file included from /usr/include/c++/5/iostream:40:0,\n                 from src/rapidnet-compiler/ol-lexer.cc:95:\n/usr/include/c++/5/istream: In constructor ‘OLBaseFlexLexer::OLBaseFlexLexer(std::istream*, std::ostream*)’:\n/usr/include/c++/5/istream:606:7: error: ‘std::basic_istream<_CharT, _Traits>::basic_istream() [with _CharT = char; _Traits = std::char_traits<char>]’ is protected\n       basic_istream()\n       ^\nsrc/rapidnet-compiler/ol-lexer.cc:1422:75: error: within this context\nIn file included from /usr/include/c++/5/iostream:39:0,\n                 from src/rapidnet-compiler/ol-lexer.cc:95:\n/usr/include/c++/5/ostream:384:7: error: ‘std::basic_ostream<_CharT, _Traits>::basic_ostream() [with _CharT = char; _Traits = std::char_traits<char>]’ is protected\n       basic_ostream()\n       ^\nsrc/rapidnet-compiler/ol-lexer.cc:1422:75: error: within this context\nsrc/rapidnet-compiler/ol-lexer.cc:1424:7: error: no match for ‘operator=’ (operand types are ‘std::istream {aka std::basic_istream<char>}’ and ‘std::istream* {aka std::basic_istream<char>*}’)\nIn file included from /usr/include/c++/5/iostream:40:0,\n                 from src/rapidnet-compiler/ol-lexer.cc:95:\n/usr/include/c++/5/istream:58:11: note: candidate: std::basic_istream<char>& std::basic_istream<char>::operator=(const std::basic_istream<char>&)\n     class basic_istream : virtual public basic_ios<_CharT, _Traits>\n           ^\n/usr/include/c++/5/istream:58:11: note:   no known conversion for argument 1 from ‘std::istream* {aka std::basic_istream<char>*}’ to ‘const std::basic_istream<char>&’\nsrc/rapidnet-compiler/ol-lexer.cc:1425:8: error: no match for ‘operator=’ (operand types are ‘std::ostream {aka std::basic_ostream<char>}’ and ‘std::ostream* {aka std::basic_ostream<char>*}’)\nIn file included from /usr/include/c++/5/iostream:39:0,\n                 from src/rapidnet-compiler/ol-lexer.cc:95:\n/usr/include/c++/5/ostream:58:11: note: candidate: std::basic_ostream<char>& std::basic_ostream<char>::operator=(const std::basic_ostream<char>&)\n     class basic_ostream : virtual public basic_ios<_CharT, _Traits>\n           ^\n/usr/include/c++/5/ostream:58:11: note:   no known conversion for argument 1 from ‘std::ostream* {aka std::basic_ostream<char>*}’ to ‘const std::basic_ostream<char>&’\nsrc/rapidnet-compiler/ol-lexer.cc: In member function ‘virtual void OLBaseFlexLexer::switch_streams(std::istream*, std::ostream*)’:\nsrc/rapidnet-compiler/ol-lexer.cc:1471:9: error: no match for ‘operator=’ (operand types are ‘std::ostream {aka std::basic_ostream<char>}’ and ‘std::ostream* {aka std::basic_ostream<char>*}’)\nIn file included from /usr/include/c++/5/iostream:39:0,\n                 from src/rapidnet-compiler/ol-lexer.cc:95:\n/usr/include/c++/5/ostream:58:11: note: candidate: std::basic_ostream<char>& std::basic_ostream<char>::operator=(const std::basic_ostream<char>&)\n     class basic_ostream : virtual public basic_ios<_CharT, _Traits>\n           ^\n/usr/include/c++/5/ostream:58:11: note:   no known conversion for argument 1 from ‘std::ostream* {aka std::basic_ostream<char>*}’ to ‘const std::basic_ostream<char>&’\nsrc/rapidnet-compiler/ol-lexer.cc: In member function ‘virtual int OLBaseFlexLexer::LexerInput(char*, int)’:\nsrc/rapidnet-compiler/ol-lexer.cc:1480:11: error: base operand of ‘->’ has non-pointer type ‘std::istream {aka std::basic_istream<char>}’\nsrc/rapidnet-compiler/ol-lexer.cc:1480:26: error: base operand of ‘->’ has non-pointer type ‘std::istream {aka std::basic_istream<char>}’\nsrc/rapidnet-compiler/ol-lexer.cc:1484:6: error: base operand of ‘->’ has non-pointer type ‘std::istream {aka std::basic_istream<char>}’\nsrc/rapidnet-compiler/ol-lexer.cc:1486:11: error: base operand of ‘->’ has non-pointer type ‘std::istream {aka std::basic_istream<char>}’\nsrc/rapidnet-compiler/ol-lexer.cc:1489:11: error: base operand of ‘->’ has non-pointer type ‘std::istream {aka std::basic_istream<char>}’\nsrc/rapidnet-compiler/ol-lexer.cc: In member function ‘virtual void OLBaseFlexLexer::LexerOutput(const char*, int)’:\nsrc/rapidnet-compiler/ol-lexer.cc:1506:14: error: base operand of ‘->’ has non-pointer type ‘std::ostream {aka std::basic_ostream<char>}’\nsrc/rapidnet-compiler/ol-lexer.cc: In member function ‘virtual void OLBaseFlexLexer::yyrestart(std::istream*)’:\nsrc/rapidnet-compiler/ol-lexer.cc:1800:48: error: no matching function for call to ‘OLBaseFlexLexer::yy_init_buffer(yy_buffer_state*, std::istream*&)’\nIn file included from src/rapidnet-compiler/ol-lexer.cc:326:0:\n/usr/include/FlexLexer.h:160:7: note: candidate: void OLBaseFlexLexer::yy_init_buffer(yy_buffer_state*, std::istream&)\n  void yy_init_buffer( struct yy_buffer_state* b, FLEX_STD istream& s );\n       ^\n/usr/include/FlexLexer.h:160:7: note:   no known conversion for argument 2 from ‘std::istream* {aka std::basic_istream<char>*}’ to ‘std::istream& {aka std::basic_istream<char>&}’\nsrc/rapidnet-compiler/ol-lexer.cc: In member function ‘void OLBaseFlexLexer::yy_load_buffer_state()’:\nsrc/rapidnet-compiler/ol-lexer.cc:1843:7: error: no match for ‘operator=’ (operand types are ‘std::istream {aka std::basic_istream<char>}’ and ‘std::istream* {aka std::basic_istream<char>*}’)\nIn file included from /usr/include/c++/5/iostream:40:0,\n                 from src/rapidnet-compiler/ol-lexer.cc:95:\n/usr/include/c++/5/istream:58:11: note: candidate: std::basic_istream<char>& std::basic_istream<char>::operator=(const std::basic_istream<char>&)\n     class basic_istream : virtual public basic_ios<_CharT, _Traits>\n           ^\n/usr/include/c++/5/istream:58:11: note:   no known conversion for argument 1 from ‘std::istream* {aka std::basic_istream<char>*}’ to ‘const std::basic_istream<char>&’\nsrc/rapidnet-compiler/ol-lexer.cc: In member function ‘virtual yy_buffer_state* OLBaseFlexLexer::yy_create_buffer(std::istream*, int)’:\nsrc/rapidnet-compiler/ol-lexer.cc:1872:26: error: no matching function for call to ‘OLBaseFlexLexer::yy_init_buffer(yy_buffer_state*&, std::istream*&)’\nIn file included from src/rapidnet-compiler/ol-lexer.cc:326:0:\n/usr/include/FlexLexer.h:160:7: note: candidate: void OLBaseFlexLexer::yy_init_buffer(yy_buffer_state*, std::istream&)\n  void yy_init_buffer( struct yy_buffer_state* b, FLEX_STD istream& s );\n       ^\n/usr/include/FlexLexer.h:160:7: note:   no known conversion for argument 2 from ‘std::istream* {aka std::basic_istream<char>*}’ to ‘std::istream& {aka std::basic_istream<char>&}’\nsrc/rapidnet-compiler/ol-lexer.cc: At global scope:\nsrc/rapidnet-compiler/ol-lexer.cc:23:25: error: prototype for ‘void OLBaseFlexLexer::yy_init_buffer(YY_BUFFER_STATE, std::istream*)’ does not match any in class ‘OLBaseFlexLexer’\nsrc/rapidnet-compiler/ol-lexer.cc:1902:10: note: in expansion of macro ‘yyFlexLexer’\nIn file included from src/rapidnet-compiler/ol-lexer.cc:326:0:\n/usr/include/FlexLexer.h:160:7: error: candidate is: void OLBaseFlexLexer::yy_init_buffer(yy_buffer_state*, std::istream&)\n  void yy_init_buffer( struct yy_buffer_state* b, FLEX_STD istream& s );\n       ^\nWaf: Leaving directory `/home/ali/Downloads/rapidnet_v1.0-master/build'\nBuild failed\n -> task failed (err #1): \n    {task: cxx ol-lexer.cc -> ol-lexer_1.o}\nI don't know what to do with it.Can anyone help me to solve this error?",
    "answer": "This is a Flex version issue. In this\npatch\nistream*\nare changed to\nistream&\n. I guess the RapidNet is developed on an older version of Flex, so it assumes\nyyin\nis declared as\nistream*\n.\nMy solution\n: substitute the\n/usr/include/FlexLexer.h\nin my machine with this older version of\nfile\n.\n(Credit to Harshal Lehri, who is one of the contributors of RapidNet. I emailed him and he pointed me to the file.)"
  },
  {
    "url": "https://stackoverflow.com/questions/45097593/how-to-link-a-static-library-using-waf",
    "title": "How to link a static library using WAF?",
    "question": "I'm using OpenSSL in my C++ program, and I need to link\ncrypto\nand\nssl\nwith it. If it were for example gcc, I would just pass:\n-lcrypto -lssl\nI am adding this dependency in Network-Simulator 3.\nBut I don't know how to do this in WAF. How should I add them as a dependency?",
    "answer": "First you need to check in\nconfigure\nif the library is available, then you can\nbuild\nit.\ndef configure(cnf):\n    # other parameters omitted for brevity\n    cnf.check(lib=[\"crypto\", \"ssl\"])\n\ndef build(bld):\n    # other parameters omitted for brevity\n    bld(use=[\"crypto\", \"ssl\"])\nYou could also use the\nuselib_store\nparameter if you don't want to repeat the libraries:\ncnf.check(lib=[\"crypto\", \"ssl\"], uselib_store=[\"libs\"])\nbld(use=[\"libs\"])"
  },
  {
    "url": "https://stackoverflow.com/questions/44991108/is-there-a-provision-for-pf-in-ns3-for-wimax",
    "title": "Is there a provision for PF in ns3 for wimax",
    "question": "Can we implement packet scheduling algorithms in NS3 for WIMAX? If so what is the best reference for it? i have a google-group discussion link for LTE implementation but i wanted to know that if it works with WIMAX or not.\nPF in LTE using NS3",
    "answer": "Yes, there are such capabilities. Please refer to the documentation on\nScheduling References"
  },
  {
    "url": "https://stackoverflow.com/questions/44961620/how-to-simulate-process-delay-in-ns-3-ndnsim",
    "title": "How to simulate process delay in NS-3/ndnSIM?",
    "question": "I want to add some process delay on a consumer node before Interest packets being sent out. And I find that Simulator::Schedule() functions may achieve this purpose. But I am not sure how to use it exactly because ndnSIM has its own protocol process and if I schedule a new event it may cause some unexpected results. Or is there some other way to insert a delay on a node in NS-3?",
    "answer": "AFAIK, the way to introduce processing delay is with\nSimulator::Schedule()\n. \nIn your example you mention you want to delay the send of an Interest packet. Instead of calling the method directly, you can schedule it after some (randon) time, ie. your process delay. This should not break the simulation."
  },
  {
    "url": "https://stackoverflow.com/questions/44843062/errors-while-building-ns-3-on-ubuntu-16-04",
    "title": "Errors while building ns-3 on Ubuntu 16.04",
    "question": "I am trying to install ns-3 but when I try to build with following command\nsudo ./build.py\ni am getting following errors:",
    "answer": "perhaps you don't have enough memory space! if you work with VM, try to add more space"
  },
  {
    "url": "https://stackoverflow.com/questions/44781023/how-to-find-the-correct-version-of-pybindgen-for-python-bindings",
    "title": "How to find the correct version of PyBindGen for Python Bindings",
    "question": "Currently, I am working on the Ns3 simulator and now trying to enable the pyviz visualizer. According to the\ndoc\n, I have downloaded the three dependencies which are\npy27-pygtk\npy27-pygoocanvas\npy27-pygraphviz\nNow in order to use this, I still need to enable the python bindings which I used\n/usr/bin/python2.7 ./waf configure\nwanna to check what needs for  enabling python bindings. The result shows that\nPython Bindings : not enabled (PyBindGen version not correct and newer version could not be retrieved)\nSo I checked the\nDoc\nand downloaded PyBindGen (version\n0.18.0\n). The output shows\nInstalled /Library/Python/2.7/site-packages/PyBindGen-0.18.0-py2.7.egg \n  Processing dependencies for PyBindGen==0.18.0\n  Finished processing dependencies for PyBindGen==0.18.0\nAfter I ran the configuration check the results still showed that\nPyBindGen version not correct and newer version could not be retrieved\nSo I presume that is that because I installed the wrong version of PyBindGen? If so how can I get the suitable version for enabling Python Binding?\nI would appreciate if there is someone who can help me figure it out. Many thanks.\nS.",
    "answer": "According to the\nGoogle Group\nHere is the resolution(tested it worked):\nfollow the\ninstruction\nhg clone http://code.nsnam.org/ns-3-allinone\ncd ns-3-allinone && ./download.py\nThis will solve the Python Binding problem"
  },
  {
    "url": "https://stackoverflow.com/questions/44629448/how-to-trace-the-nodes-movement-time-in-ns3",
    "title": "How to trace the nodes movement time in ns3?",
    "question": "So basically, I used RandomwayPoint model in NS3 and I got the result of nodes like this:\n/NodeList/5/$ns3::MobilityModel/CourseChange x = 10, y = 20\n/NodeList/6/$ns3::MobilityModel/CourseChange x = 30, y = 40\n/NodeList/7/$ns3::MobilityModel/CourseChange x = 50, y = 80\n/NodeList/5/$ns3::MobilityModel/CourseChange x = 10, y = 20\n/NodeList/6/$ns3::MobilityModel/CourseChange x = 30, y = 40\n/NodeList/7/$ns3::MobilityModel/CourseChange x = 50, y = 80\n/NodeList/5/$ns3::MobilityModel/CourseChange x = 10, y = 20\n/NodeList/6/$ns3::MobilityModel/CourseChange x = 30, y = 40\n/NodeList/7/$ns3::MobilityModel/CourseChange x = 50, y = 80\nAt time 2s client sent 1024 bytes to 10.1.2.4 port 9\nAt time 2.01596s server received 1024 bytes from 10.1.3.3 port 49153\nAt time 2.01596s server sent 1024 bytes to 10.1.3.3 port 49153\nAt time 2.02464s client received 1024 bytes from 10.1.2.4 port 9\n......\nBut how to record the time of the each node's movement? \nI think the most relevant code is about using\nSimulator:: Now().GetSeconds()\nHere is the code I wrote:\nstd::ostringstream oss2(std::ostringstream::ate);\n     oss2.str(\"TimeStamp:\");\n     oss2 << Simulator::Now().GetSeconds ();\n     std::cout << oss2.str() << \"\\t\";\nBut I got the result equals to 0s. I felt confused about this, I would appreciate that if anyone can offer me a better solution and help me figure this out.\nManyThanks.",
    "answer": "The logic is correct,\nSimulator::Now()\nprovides the time. You can print it in a single line, no need for four!\nstd::cout << \"TimeStamp:\" << Simulator::Now().GetSeconds() << \"\\t\";\nThe fact that you got t=0sec, probably is due to the fact that the nodes do not 'change' after that. CourseChange callback is fired only during a change in the speed or velocity (direction). If the node is moving with constant speed, it will not fire.\nFollowing your comment in the previous\npost\n, you said you have used ListPositionAllocator. If you only have a single entry in the list, then it will not change apart from the initial at t=0 (what you see in the output)."
  },
  {
    "url": "https://stackoverflow.com/questions/44593991/how-to-set-up-the-position-allocator-when-using-ramdomwaypoint-model-in-ns-3",
    "title": "How to set up the position allocator when using Ramdomwaypoint model in NS-3",
    "question": "I tried to alter the example code(third.cc) by replacing the mobility model name(RandomWalk2dMobilityModel) with RandomWaypointMobilityModel. After running the code, it turned out to be an output like\nassert failed. cond=\"m_position\", msg=\"No position allocator added before using this model\"\nSo basically this is the most relevant code with the error msg\nMobilityHelper mobility;\nmobility.SetPositionAllocator (\"ns3::GridPositionAllocator\",\n\"MinX\", DoubleValue (0.0),\n\"MinY\", DoubleValue (0.0),\n\"DeltaX\", DoubleValue (5.0),\n\"DeltaY\", DoubleValue (10.0),\n\"GridWidth\", UintegerValue (3),\n\"LayoutType\", StringValue (\"RowFirst\"));\n//  mobility.SetMobilityModel (\"ns3::RandomWalk2dMobilityModel\",\n//  \"Bounds\", RectangleValue (Rectangle (-50, 50, -50, 50)));\nmobility.SetMobilityModel (\"ns3::RandomWaypointMobilityModel\");\nmobility.Install (wifiStaNodes);\nmobility.SetMobilityModel (\"ns3::ConstantPositionMobilityModel\");\nmobility.Install (wifiApNode);\nWhat I am confused about is before setting mobility model, there has already set up the\nposition allocator\nit worked for randomwalk2d, however, obviously it does not work for randomwaypoint model. So how to deal with it?\nI'll appreciate if there is someone who can help me to figure it out.\nMany thanks.",
    "answer": "There should be actually TWO position allocators when you are using RandomWayPointModel.\nThe first, the one you have already used, is for the initial position of the nodes.\nThe second though, is an attribute to the RandomWayPointModel and it is used to pick a destination point. Please refer to the\ndocumentation\nfor more details."
  },
  {
    "url": "https://stackoverflow.com/questions/44373224/in-ns-3-simulator-when-to-use-p2p-nodes-wifistanodes-and-csmanodes",
    "title": "In ns-3 simulator when to use p2p nodes, wifistanodes and csmanodes",
    "question": "I'm trying to use NS-3 simulator to do some tests between random waypoint model and some other models. While during the simulation I found that when need to run the simulation we need to initiate the model by using a class called\nMobilityHelper\nCode below is the part of the code that I am using. During the initialization, there are some nodes need to be created beforehand such as\np2pNodes\ncsmaNodes\nSo what do these nodes mean, and in which situation need to use them? Are they specify to some specific mobility models? If so please give some details, many thanks!\nNodeContainer p2pNodes;\n  p2pNodes.Create (3);\n\n  PointToPointHelper pointToPoint;\n  pointToPoint.SetDeviceAttribute (\"DataRate\", StringValue (\"5Mbps\"));\n  pointToPoint.SetChannelAttribute (\"Delay\", StringValue (\"2ms\"));\n\n  NetDeviceContainer p2pDevices;\n  p2pDevices = pointToPoint.Install (p2pNodes);\n\n  NodeContainer csmaNodes;\n  csmaNodes.Add (p2pNodes.Get (1));\n  csmaNodes.Create (nCsma);\n\n  CsmaHelper csma;\n  csma.SetChannelAttribute (\"DataRate\", StringValue (\"100Mbps\"));\n  csma.SetChannelAttribute (\"Delay\", TimeValue (NanoSeconds (6560)));\n\n  NetDeviceContainer csmaDevices;\n  csmaDevices = csma.Install (csmaNodes);",
    "answer": "p2pNodes\nand\ncsmaNodes\nare simply variable names for the\nNodeContainer\nused in this particular example in order to keep track of nodes for the two networks (the Point-to-Point and the CSMA). The fact that you named them\np2pNodes\nand\ncsmaNodes\nis only for your own convenience. What matters are the types of\nNetDevice\ns that end up being installed on these nodes.\nIn any case, that has nothing to do with the\nMobilityModel\nthat you install.\nBoth P2P and CSMA are wired networks and I wouldn't think of adding a random mobility on those. It wouldn't make sense to move around with a wire attached to you..!\nNote that the above example code will crash, as you have created 3\np2pNodes\n, and a point-to-point link can only be instantiated between two nodes.\nI would recommend studying the ns-3 tutorial to get an understanding of the concepts of\nNode\n,\nNodeContainer\n(ie. vectors of Nodes),\nNetDevice\n(ie. the network card/type),\nMobilityModel\netc."
  },
  {
    "url": "https://stackoverflow.com/questions/43721915/ns3-error-while-installing",
    "title": "NS3 error while installing",
    "question": "I wanted to install the NS3 and during ./build.py the error showed up:\nWaf: Leaving directory `/home/user/NS3repo/ns-3-allinone/ns-3-dev/build'\nBuild failed\n     -> task in 'ns3-wifi' failed (exit status 1):\n     {task 140583796598928: cxx wifi-mac-queue.cc -> wifi-mac-queue.cc.1.o}\n     ['/usr/bin/g++', '-O0', '-ggdb', '-g3', '-Wall', '-Werror', '-std=c++11', '-Wno-error=deprecated-declarations', '-fstrict-aliasing', '-Wstrict-aliasing', '-fPIC', '-pthread', '-I.', '-I..', '-DNS3_BUILD_PROFILE_DEBUG', '-DNS3_ASSERT_ENABLE', '-DNS3_LOG_ENABLE', '-DHAVE_SYS_IOCTL_H=1', '-DHAVE_IF_NETS_H=1', '-DHAVE_NET_ETHERNET_H=1', '-DHAVE_PACKET_H=1', '-DHAVE_IF_TUN_H=1', '-DHAVE_GSL=1', '-DHAVE_SQLITE3=1', '../src/wifi/model/wifi-mac-queue.cc', '-c', '-o', '/home/user/NS3repo/ns-3-allinone/ns-3-dev/build/src/wifi/model/wifi-mac-queue.cc.1.o']\nfull log:\nhttps://pastebin.com/tAkph7UR\nI've been following this tutorial:\nhttps://gnu-linux.org/installation-of-ns3-on-ubuntu.html\nI'm running Ubuntu 14.04 on Virtual Box on the newest macOS",
    "answer": "I've followed this tutorial and it's working:\nhttps://www.youtube.com/watch?v=1N3CMrfxbG4\nProbably the problem was connected to the prerequisits. I've installed them like it was mentioned in the video:\nsudo apt-get install gcc g++ python python-dev mercurial bzr gdb valgrind gsl-bin libgsl0-dev libgsl0ldbl flex bison tcpdump sqlite sqlite3 libsqlite3-dev libxml2 libxml2-dev libgtk2.0-0 libgtk2.0-dev uncrustify doxygen graphviz imagemagick texlive texlive-latex-extra texlive-generic-extra texlive-generic-recommended texinfo dia texlive texlive-latex-extra texlive-extra-utils texlive-generic-recommended texi2html python-pygraphviz python-kiwi python-pygoocanvas libgoocanvas-dev python-pygccxml"
  },
  {
    "url": "https://stackoverflow.com/questions/43700595/how-can-i-extract-delay-and-throughput-from-manet-routing-compare-cc-in-ns3",
    "title": "how can i extract delay and throughput from manet-routing-compare.cc in ns3?",
    "question": "I'have started to work on ns3 and i try  to extract from code manet-routing-compare.cc which is intalled by default with NS3.26 in examples/routing.I want to extract 4 parameters :number of sent packet, reception time of packet ,send time  and packet size in order to calculate throughput and delay end to end.I have tried but i don't find a solution and every time we have error. Please, help me i really need this parametrs and thank you very much.\n#include <fstream>\n#include <iostream>\n#include \"ns3/core-module.h\"\n#include \"ns3/network-module.h\"\n#include \"ns3/internet-module.h\"\n#include \"ns3/mobility-module.h\"\n#include \"ns3/wifi-module.h\"\n#include \"ns3/aodv-module.h\"\n#include \"ns3/olsr-module.h\"\n#include \"ns3/dsdv-module.h\"\n#include \"ns3/dsr-module.h\"\n#include \"ns3/applications-module.h\"\n\n    using namespace ns3;\nusing namespace dsr;\n\nNS_LOG_COMPONENT_DEFINE (\"manet-routing-compare\");\n\nclass RoutingExperiment\n{\npublic:\n  RoutingExperiment ();\n  void Run (int nSinks, double txp, std::string CSVfileName);\n  //static void SetMACParam (ns3::NetDeviceContainer & devices,\n  //                                 int slotDistance);\n  std::string CommandSetup (int argc, char **argv);\n\nprivate:\n  Ptr<Socket> SetupPacketReceive (Ipv4Address addr, Ptr<Node> node);\n  void ReceivePacket (Ptr<Socket> socket);\n  void CheckThroughput ();\n\n  uint32_t port;\n  uint32_t bytesTotal;\n  uint32_t packetsReceived;\n\n  std::string m_CSVfileName;\n  int m_nSinks;\n  std::string m_protocolName;\n  double m_txp;\n  bool m_traceMobility;\n  uint32_t m_protocol;\n};\n\nRoutingExperiment::RoutingExperiment ()\n  : port (9),\n    bytesTotal (0),\n    packetsReceived (0),\n    m_CSVfileName (\"manet-routing.output.csv\"),\n    m_traceMobility (false),\n    m_protocol (2) // AODV\n{\n}\n\nstatic inline std::string\nPrintReceivedPacket (Ptr<Socket> socket, Ptr<Packet> packet, Address senderAddress)\n{\n  std::ostringstream oss;\n\n  oss << Simulator::Now ().GetSeconds () << \" \" << socket->GetNode ()->GetId ();\n\n  if (InetSocketAddress::IsMatchingType (senderAddress))\n    {\n      InetSocketAddress addr = InetSocketAddress::ConvertFrom (senderAddress);\n      oss << \" received one packet from \" << addr.GetIpv4 ();\n    }\n  else\n    {\n      oss << \" received one packet!\";\n    }\n  return oss.str ();\n}\n\nvoid\nRoutingExperiment::ReceivePacket (Ptr<Socket> socket)\n{\n  Ptr<Packet> packet;\n  Address senderAddress;\n  while ((packet = socket->RecvFrom (senderAddress)))\n    {\n      bytesTotal += packet->GetSize ();\n      packetsReceived += 1;\n      NS_LOG_UNCOND (PrintReceivedPacket (socket, packet, senderAddress));\n    }\n}\n\nvoid\nRoutingExperiment::CheckThroughput ()\n{\n  double kbs = (bytesTotal * 8.0) / 1000;\n  bytesTotal = 0;\n\n  std::ofstream out (m_CSVfileName.c_str (), std::ios::app);\n\n  out << (Simulator::Now ()).GetSeconds () << \",\"\n      << kbs << \",\"\n      << packetsReceived << \",\"\n      << m_nSinks << \",\"\n      << m_protocolName << \",\"\n      << m_txp << \"\"\n      << std::endl;\n\n  out.close ();\n  packetsReceived = 0;\n  Simulator::Schedule (Seconds (1.0), &RoutingExperiment::CheckThroughput, this);\n}\n\nPtr<Socket>\nRoutingExperiment::SetupPacketReceive (Ipv4Address addr, Ptr<Node> node)\n{\n  TypeId tid = TypeId::LookupByName (\"ns3::UdpSocketFactory\");\n  Ptr<Socket> sink = Socket::CreateSocket (node, tid);\n  InetSocketAddress local = InetSocketAddress (addr, port);\n  sink->Bind (local);\n  sink->SetRecvCallback (MakeCallback (&RoutingExperiment::ReceivePacket, this));\n\n  return sink;\n}\n\nstd::string\nRoutingExperiment::CommandSetup (int argc, char **argv)\n{\n  CommandLine cmd;\n  cmd.AddValue (\"CSVfileName\", \"The name of the CSV output file name\", m_CSVfileName);\n  cmd.AddValue (\"traceMobility\", \"Enable mobility tracing\", m_traceMobility);\n  cmd.AddValue (\"protocol\", \"1=OLSR;2=AODV;3=DSDV;4=DSR\", m_protocol);\n  cmd.Parse (argc, argv);\n  return m_CSVfileName;\n}\n\nint\nmain (int argc, char *argv[])\n{\n  RoutingExperiment experiment;\n  std::string CSVfileName = experiment.CommandSetup (argc,argv);\n\n  //blank out the last output file and write the column headers\n  std::ofstream out (CSVfileName.c_str ());\n  out << \"SimulationSecond,\" <<\n  \"ReceiveRate,\" <<\n  \"PacketsReceived,\" <<\n  \"NumberOfSinks,\" <<\n  \"RoutingProtocol,\" <<\n  \"TransmissionPower\" <<\n  std::endl;\n  out.close ();\n\n  int nSinks = 10;\n  double txp = 7.5;\n\n  experiment.Run (nSinks, txp, CSVfileName);\n}\n\nvoid\nRoutingExperiment::Run (int nSinks, double txp, std::string CSVfileName)\n{\n  Packet::EnablePrinting ();\n  m_nSinks = nSinks;\n  m_txp = txp;\n  m_CSVfileName = CSVfileName;\n\n  int nWifis = 50;\n\n  double TotalTime = 200.0;\n  std::string rate (\"2048bps\");\n  std::string phyMode (\"DsssRate11Mbps\");\n  std::string tr_name (\"manet-routing-compare\");\n  int nodeSpeed = 20; //in m/s\n  int nodePause = 0; //in s\n  m_protocolName = \"protocol\";\n\n  Config::SetDefault  (\"ns3::OnOffApplication::PacketSize\",StringValue (\"64\"));\n  Config::SetDefault (\"ns3::OnOffApplication::DataRate\",  StringValue (rate));\n\n  //Set Non-unicastMode rate to unicast mode\n  Config::SetDefault (\"ns3::WifiRemoteStationManager::NonUnicastMode\",StringValue (phyMode));\n\n  NodeContainer adhocNodes;\n  adhocNodes.Create (nWifis);\n\n  // setting up wifi phy and channel using helpers\n  WifiHelper wifi;\n  wifi.SetStandard (WIFI_PHY_STANDARD_80211b);\n\n  YansWifiPhyHelper wifiPhy =  YansWifiPhyHelper::Default ();\n  YansWifiChannelHelper wifiChannel;\n  wifiChannel.SetPropagationDelay (\"ns3::ConstantSpeedPropagationDelayModel\");\n  wifiChannel.AddPropagationLoss (\"ns3::FriisPropagationLossModel\");\n  wifiPhy.SetChannel (wifiChannel.Create ());\n\n  // Add a mac and disable rate control\n  WifiMacHelper wifiMac;\n  wifi.SetRemoteStationManager (\"ns3::ConstantRateWifiManager\",\n                                \"DataMode\",StringValue (phyMode),\n                                \"ControlMode\",StringValue (phyMode));\n\n  wifiPhy.Set (\"TxPowerStart\",DoubleValue (txp));\n  wifiPhy.Set (\"TxPowerEnd\", DoubleValue (txp));\n\n  wifiMac.SetType (\"ns3::AdhocWifiMac\");\n  NetDeviceContainer adhocDevices = wifi.Install (wifiPhy, wifiMac, adhocNodes);\n\n  MobilityHelper mobilityAdhoc;\n  int64_t streamIndex = 0; // used to get consistent mobility across scenarios\n\n  ObjectFactory pos;\n  pos.SetTypeId (\"ns3::RandomRectanglePositionAllocator\");\n  pos.Set (\"X\", StringValue (\"ns3::UniformRandomVariable[Min=0.0|Max=300.0]\"));\n  pos.Set (\"Y\", StringValue (\"ns3::UniformRandomVariable[Min=0.0|Max=1500.0]\"));\n\n  Ptr<PositionAllocator> taPositionAlloc = pos.Create ()->GetObject<PositionAllocator> ();\n  streamIndex += taPositionAlloc->AssignStreams (streamIndex);\n\n  std::stringstream ssSpeed;\n  ssSpeed << \"ns3::UniformRandomVariable[Min=0.0|Max=\" << nodeSpeed << \"]\";\n  std::stringstream ssPause;\n  ssPause << \"ns3::ConstantRandomVariable[Constant=\" << nodePause << \"]\";\n  mobilityAdhoc.SetMobilityModel (\"ns3::RandomWaypointMobilityModel\",\n                                  \"Speed\", StringValue (ssSpeed.str ()),\n                                  \"Pause\", StringValue (ssPause.str ()),\n                                  \"PositionAllocator\", PointerValue (taPositionAlloc));\n  mobilityAdhoc.SetPositionAllocator (taPositionAlloc);\n  mobilityAdhoc.Install (adhocNodes);\n  streamIndex += mobilityAdhoc.AssignStreams (adhocNodes, streamIndex);\n\n  AodvHelper aodv;\n  OlsrHelper olsr;\n  DsdvHelper dsdv;\n  DsrHelper dsr;\n  DsrMainHelper dsrMain;\n  Ipv4ListRoutingHelper list;\n  InternetStackHelper internet;\n\n  switch (m_protocol)\n    {\n    case 1:\n      list.Add (olsr, 100);\n      m_protocolName = \"OLSR\";\n      break;\n    case 2:\n      list.Add (aodv, 100);\n      m_protocolName = \"AODV\";\n      break;\n    case 3:\n      list.Add (dsdv, 100);\n      m_protocolName = \"DSDV\";\n      break;\n    case 4:\n      m_protocolName = \"DSR\";\n      break;\n    default:\n      NS_FATAL_ERROR (\"No such protocol:\" << m_protocol);\n    }\n\n  if (m_protocol < 4)\n    {\n      internet.SetRoutingHelper (list);\n      internet.Install (adhocNodes);\n    }\n  else if (m_protocol == 4)\n    {\n      internet.Install (adhocNodes);\n      dsrMain.Install (dsr, adhocNodes);\n    }\n\n  NS_LOG_INFO (\"assigning ip address\");\n\n  Ipv4AddressHelper addressAdhoc;\n  addressAdhoc.SetBase (\"10.1.1.0\", \"255.255.255.0\");\n  Ipv4InterfaceContainer adhocInterfaces;\n  adhocInterfaces = addressAdhoc.Assign (adhocDevices);\n\n  OnOffHelper onoff1 (\"ns3::UdpSocketFactory\",Address ());\n  onoff1.SetAttribute (\"OnTime\", StringValue (\"ns3::ConstantRandomVariable[Constant=1.0]\"));\n  onoff1.SetAttribute (\"OffTime\", StringValue (\"ns3::ConstantRandomVariable[Constant=0.0]\"));\n\n  for (int i = 0; i < nSinks; i++)\n    {\n      Ptr<Socket> sink = SetupPacketReceive (adhocInterfaces.GetAddress (i), adhocNodes.Get (i));\n\n      AddressValue remoteAddress (InetSocketAddress (adhocInterfaces.GetAddress (i), port));\n      onoff1.SetAttribute (\"Remote\", remoteAddress);\n\n      Ptr<UniformRandomVariable> var = CreateObject<UniformRandomVariable> ();\n      ApplicationContainer temp = onoff1.Install (adhocNodes.Get (i + nSinks));\n      temp.Start (Seconds (var->GetValue (100.0,101.0)));\n      temp.Stop (Seconds (TotalTime));\n    }\n\n  std::stringstream ss;\n  ss << nWifis;\n  std::string nodes = ss.str ();\n\n  std::stringstream ss2;\n  ss2 << nodeSpeed;\n  std::string sNodeSpeed = ss2.str ();\n\n  std::stringstream ss3;\n  ss3 << nodePause;\n  std::string sNodePause = ss3.str ();\n\n  std::stringstream ss4;\n  ss4 << rate;\n  std::string sRate = ss4.str ();\n\n  //NS_LOG_INFO (\"Configure Tracing.\");\n  //tr_name = tr_name + \"_\" + m_protocolName +\"_\" + nodes + \"nodes_\" + sNodeSpeed + \"speed_\" + sNodePause + \"pause_\" + sRate + \"rate\";\n\n  //AsciiTraceHelper ascii;\n  //Ptr<OutputStreamWrapper> osw = ascii.CreateFileStream ( (tr_name + \".tr\").c_str());\n  //wifiPhy.EnableAsciiAll (osw);\n  AsciiTraceHelper ascii;\n  MobilityHelper::EnableAsciiAll (ascii.CreateFileStream (tr_name + \".mob\"));\n\n  //Ptr<FlowMonitor> flowmon;\n  //FlowMonitorHelper flowmonHelper;\n  //flowmon = flowmonHelper.InstallAll ();\n\n\n  NS_LOG_INFO (\"Run Simulation.\");\n\n  CheckThroughput ();\n\n  Simulator::Stop (Seconds (TotalTime));\n  Simulator::Run ();\n\n  //flowmon->SerializeToXmlFile ((tr_name + \".flowmon\").c_str(), false, false);\n\n  Simulator::Destroy ();\n}",
    "answer": "I am gonna answer it in two parts,\nFirst the parameters which you can get without making much changes, which are reception time and packet size:\nPrintReceivedPacket\nfunction is called when a packet is received at the receiver, you have access to received packet at this point. The\nSimulator::Now ()\ngives you the reception time of the packet at sink and\npacket->GetSize ()\ngives you the size of packet received.\nSecond the parameters of send time and number of packet sent. You will have to add a sequence to steps to get the trace to\nTx\nof\nOnOffApplication\nGet\nApplication\nfrom\nApplicationContainer\ntemp using\nGet (0)\nCast\nApplication\nto\nOnOffApplication\nusing dynamic cast\nConnect to the\nTx\nof this pointer to a function and in this function increase a global counter for number of packet sent and log the current time for sent time\nDo let me know if any query"
  },
  {
    "url": "https://stackoverflow.com/questions/43584021/ns3-packet-payload-printing",
    "title": "ns3 packet payload printing",
    "question": "I am using ns3 for a simulation where I create a packet as follows;\nstd::ostringstream msg; msg << \"Hello World!\" << '\\0';\nPtr<Packet> packet = Create<Packet> ((uint8_t*) msg.str().c_str(), msg.str().length());\npacket->Print (cout);\nstd::cout << std::endl;\nIn receiver side, I am using following code to retrieve the packet payload;\nuint8_t *buffer = new uint8_t[p->GetSize ()];\nsize = p->CopyData(buffer, p->GetSize ());\nstring s = string(buffer, buffer+p->GetSize());\ncout<<\"Received:\"<<s<<endl;\nHowever, the packet payload is some weird characters. Moreover, when I run the same code on my other computer with the different message (not hello world), I can see the message with weird characters at the beginning and end of the message. Any suggestion and advice are appreciated.\nRegards.",
    "answer": "I solve the problem with the help of ns-3 google groups. I am posting the answer, in case others may need.\nIn sender side, I need to set the message length as follows;\nuint16_t packetSize = msgx.str().length()+1;\n Ptr<Packet> packet = Create<Packet>((uint8_t*) msgx.str().c_str(), packetSize);\nI need to add 1 to the message length, or I  skip the null string termination. So this one is a minor bug. The major one is; I trigger a function when I receive the packet on MAC layer. To properly read the packet content, I should remove the MAC headers and trailers.\nRegards."
  },
  {
    "url": "https://stackoverflow.com/questions/43561282/how-to-understand-this-code-from-random-waypoint-model",
    "title": "how to understand this code from Random Waypoint model",
    "question": "I am new to C++, but here is a piece of code from Random waypoint.This is the refernce of it:\nhttp://netdb.cis.upenn.edu/rapidnet/doxygen/html/classns3_1_1_random_waypoint_mobility_model.html#a2b8fc7b2cf1e2ffec7e6c6a9d5f7404\nSays:This method returns the TypeId associated to\n  ns3::RandomWaypointMobilityModel.\nBut I have no idea how to use it(update: how to call the attribute of this model)?\nTypeId\nRandomWaypointMobilityModel::GetTypeId (void)\n{\n   static TypeId tid = TypeId (\"ns3::RandomWaypointMobilityModel\")\n   .SetParent<MobilityModel> () \n   .SetGroupName (\"Mobility\") \n   .AddConstructor<RandomWaypointMobilityModel> ()\n   .AddAttribute (\"Speed\",  //name\n               \"A random variable used to pick the speed of a random waypoint model.\",  //help context\n               StringValue (\"ns3::UniformRandomVariable[Min=0.3|Max=0.7]\"),\n               MakePointerAccessor (&RandomWaypointMobilityModel::m_speed), //setup(initailize m_speed)\n               MakePointerChecker<RandomVariableStream> ()) \n   .AddAttribute (\"Pause\",  \n               \"A random variable used to pick the pause of a random waypoint model.\", //help context\n               StringValue (\"ns3::ConstantRandomVariable[Constant=2.0]\"),\n               MakePointerAccessor (&RandomWaypointMobilityModel::m_pause),\n               MakePointerChecker<RandomVariableStream> ())\n  .AddAttribute (\"PositionAllocator\",\n               \"The position model used to pick a destination point.\",\n               PointerValue (),\n               MakePointerAccessor (&RandomWaypointMobilityModel::m_position),\n               MakePointerChecker<PositionAllocator> ());\n\nreturn tid;\n}",
    "answer": "Since you are saying you want to understand the code I want to point you to the ns-3 tutorial which explains how their attribute system works (\nhttps://www.nsnam.org/docs/tutorial/html/index.html\n), but I will try to give you a gist of it and point you to an example:\nHow to use the ns3 attribute system\nAs you did, the first step when you want to set an attribute value is to look up the class documentation which tells you how to set the attribute with the bullet point labeled 'Set with class' (i.e.\nRandomVariableValue\nin your case)\nYou can then create an object of your class of interest (here:\nRandomWaypointMobilityModel\n) via an ns3 Helper, where you can set the attribute with the help of the information that you looked up in step one.\nA short example\n#include \"ns3/core-module.h\"\n#include \"ns3/mobility-module.h\"\n\nusing namespace ns3;\n\nstatic void \nCourseChange (std::string foo, Ptr<const MobilityModel> mobility)\n{\n  Vector pos = mobility->GetPosition ();\n  Vector vel = mobility->GetVelocity ();\n  std::cout << Simulator::Now () << \", model=\" << mobility << \", POS: x=\" << pos.x << \", y=\" << pos.y\n            << \", z=\" << pos.z << \"; VEL:\" << vel.x << \", y=\" << vel.y\n            << \", z=\" << vel.z << std::endl;\n}\n\nint main (int argc, char *argv[])\n{\n\n  CommandLine cmd;\n  cmd.Parse (argc, argv);\n\n  NodeContainer c;\n  c.Create (1);\n\n  // Position allocator for the start of the simulation\n  MobilityHelper mobility;\n  mobility.SetPositionAllocator (\"ns3::RandomDiscPositionAllocator\",\n                                 \"X\", StringValue (\"100.0\"),\n                                 \"Y\", StringValue (\"100.0\"),\n                                 \"Rho\", StringValue (\"ns3::UniformRandomVariable[Min=0|Max=30]\"));\n\n  // The position allocator that will be used by the RandomWaypointMobilityModel\n  GridPositionAllocator posAllocator;\n  posAllocator.SetMinX(0.0);\n  posAllocator.SetMinY(0.0);\n  posAllocator.SetDeltaX(5.0);\n  posAllocator.SetDeltaY(5.0);\n  posAllocator.SetLayoutType(ns3::GridPositionAllocator::ROW_FIRST);\n\n  mobility.SetMobilityModel (\"ns3::RandomWaypointMobilityModel\",\n                             \"PositionAllocator\", PointerValue(&posAllocator));\n\n  mobility.InstallAll ();\n  Config::Connect (\"/NodeList/*/$ns3::MobilityModel/CourseChange\",\n                   MakeCallback (&CourseChange));\n\n  Simulator::Stop (Seconds (500.0));\n\n  Simulator::Run ();\n\n  Simulator::Destroy ();\n  return 0;\n}\nHere you can see a long example with a full description how those concepts mesh together:\nhttps://www.nsnam.org/docs/tutorial/html/building-topologies.html#building-a-wireless-network-topology"
  },
  {
    "url": "https://stackoverflow.com/questions/43399086/ns-3-module-errors-while-building",
    "title": "NS-3: module errors while building",
    "question": "I have problem in newest ns-3.26 with nsc-0.5.3 and gccxml-ns3 - system is very up-to-date so that's not the case.\nBuilding nsc-0.5.3 - Problem\nProblem: Optional dependency, module \"nsc-0.5.3\" failed\nThis may reduce the functionality of the final build. However, bake will continue since \"nsc-0.5.3\" is not an essential dependency. For more information call bake with -v or -vvv, for full verbose mode.",
    "answer": "Found the solution\n- NSC doesn't work properly with gcc/g++-6 so I had to change default version of gcc and g++ (for example from 6.3.0 to 5.4.1)\n1) Find installed compilers:\ndpkg --list | grep compiler\n2) Change default gcc, g++, cc and c++ (via\nhttps://askubuntu.com/questions/26498/choose-gcc-and-g-version\n):\nsudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-6 10\nsudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-5 20\n\nsudo update-alternatives --install /usr/bin/g++ g++ /usr/bin/g++-6 10\nsudo update-alternatives --install /usr/bin/g++ g++ /usr/bin/g++-5 20\n\nsudo update-alternatives --install /usr/bin/cc cc /usr/bin/gcc 30\nsudo update-alternatives --set cc /usr/bin/gcc\n\nsudo update-alternatives --install /usr/bin/c++ c++ /usr/bin/g++ 30\nsudo update-alternatives --set c++ /usr/bin/g++\nAlso, to check if changes are saved:\ngcc -v\nIt should say: \"gcc version 5.4.1\" at the end.\nAfter that, NSC was installed successfully.\nIt's worth mentioning that it didn't fix gccxml's problem, but in my case I needed NSC working so..."
  },
  {
    "url": "https://stackoverflow.com/questions/43381586/modifying-the-operating-frequency-for-802-11ac-on-ns-3",
    "title": "Modifying the operating frequency (for 802.11ac) on ns-3",
    "question": "I am attempting to change the operating frequency to 300MHz (to simulate the working of 802.11af) but retain the overall PHY layer configuration of 802.11ac.\nI have gone through earlier posts and realized that the SetFrequency() function (in the class YansWifiPhy) can be employed. However, when I implement the following statement ('wifi' is an object of the class WifiHelper)-\nNetDeviceContainer staDevices = wifi.Install (phy, mac, wifiStaNodes);\nI get an error since the object 'phy' is required to be of YansWifiPhyHelper datatype, not YansWifiPhy. However, I can't seem to change the frequency using the YansWifiPhyHelper class. How do I resolve this problem?",
    "answer": "As you can see\nYansWifiPhy\nis a child class of\nWifiPhy\n. The\ntypeId\nof\nWifiPhy\nhas\nFrequency\nas an attribute. You can set this attribute using any to of the following way:\nYou can change the default value of\nns3::WifiPhy::Frequency\nusing the\nConfig::SetDefault\nfunction. The documentation for the same can be found\nhere\n.\nSecondly you can use the\nSet\nfunction of\nYansWifiPhyHelper\nto set any attribute of\nYansWifiPhy (WifiPhy)\n. You can find an example of this\nhere\n. The only difference from the link will be that you need to change the attribute name to\nFrequency\nand change the value accordingly.\nPlease, let me know in case of any doubts or any of these don't work for you."
  },
  {
    "url": "https://stackoverflow.com/questions/43363640/create-a-wireless-link-between-8-nodes-in-ns3",
    "title": "Create a Wireless Link between 8 nodes in ns3",
    "question": "I have to build a topology with 8 nodes that are connected via the wifi network. How to generate the output graph.\nIn ns-3 I can't find examples to do so.\nHow could I build the topology ?\nThanks in advance !",
    "answer": "Firstly, go through the documentation available on the nsnam website:\nhttps://www.nsnam.org/docs/release/3.26/tutorial/ns-3-tutorial.pdf\nThe programs\nfirst.cc\n,\nsecond.cc\n..\nseventh.cc\npretty much cover most of the fundamentals. These programs will also help you understand how to create a topology involving links built on Ethernet, Wifi and all kinds of protocols. The link to the documentation above is an excellent one and neatly describes how to get started with ns3.\nOh and just in case you don't know where to find these programs, this is the directory:\n/ns-allinone-3.26/ns-3.26/examples/tutorial/"
  },
  {
    "url": "https://stackoverflow.com/questions/43290634/add-waf-libraries-to-pycharm",
    "title": "add waf libraries to pycharm",
    "question": "I've installed NS3 and Waf and it's working correctly. but I should use basic editors like vim to write a\npython\ncode! \nIs there any way to configure pycharm so that I can have NS libraries in it?\nI've configured Eclipse and netBeans for C++, but pycharm confused me!",
    "answer": "The question resolved and I write the answer for other guys if faced this problem.\nyou just need to run pycharm from waf shell! there is no need for other kind of configurations.\nto access waf terminal:\n./waf shell"
  },
  {
    "url": "https://stackoverflow.com/questions/43278943/errors-while-building-ns-3-on-ubuntu-16-10",
    "title": "Errors while building ns-3 on Ubuntu 16.10",
    "question": "I am trying to install ns-3 on ubuntu 16.10 but when I try to build with following command\npython bake.py build\nand I have 3 errors:\nBuilding nsc-0.5.3 - Problem\n    Problem: Optional dependency, module \"nsc-0.5.3\" failed\n       This may reduce the  functionality of the final build. \n       However, bake will continue since \"nsc-0.5.3\" is not an essential dependency.\n       For more information call bake with -v or -vvv, for full verbose mode.\nBuilding pybindgen-0.16.0.825 - Problem\n    Unavailable building tool for module pybindgen-0.16.0.825, install waf\n    Problem: Optional dependency, module \"pybindgen-0.16.0.825\" failed\n       This may reduce the  functionality of the final build. \n       However, bake will continue since \"pybindgen-0.16.0.825\" is not an essential dependency.\n       For more information call bake with -v or -vvv, for full verbose mode.\nBuilding ns-3.17 - Problem\n    Error:  Critical dependency, module \"ns-3.17\" failed \n       For more information call Bake with --debug and/or -v, -vvv, for full verbose mode (bake --help)\nWhat should I do fix them?",
    "answer": "I had similar problem and I figured out that NSC doesn't work properly with gcc/g++-6. So I had to change default version of gcc and g++ (from 6.3.0 to, for example, 5.4.1)\n1) Find installed compilers:\ndpkg --list | grep compiler\n2) Change default gcc, g++, cc and c++ (via\nhttps://askubuntu.com/questions/26498/choose-gcc-and-g-version\n):\nsudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-6 10\nsudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-5 20\n\nsudo update-alternatives --install /usr/bin/g++ g++ /usr/bin/g++-6 10\nsudo update-alternatives --install /usr/bin/g++ g++ /usr/bin/g++-5 20\n\nsudo update-alternatives --install /usr/bin/cc cc /usr/bin/gcc 30\nsudo update-alternatives --set cc /usr/bin/gcc\n\nsudo update-alternatives --install /usr/bin/c++ c++ /usr/bin/g++ 30\nsudo update-alternatives --set c++ /usr/bin/g++\nAlso, to check if changes are saved:\ngcc -v\nIt should say: \"gcc version 5.4.1\" at the end (or anything lower than 6 that was installed and used in instructions above).\nAfter that, I managed to install NSC successfully (that was my main problem).\nHope it helps!"
  },
  {
    "url": "https://stackoverflow.com/questions/43207692/choosing-between-omnet-or-ns3",
    "title": "Choosing between OMNET++ or NS3",
    "question": "Me and my friend are going to start a project. We are going to simulate basic communication between a server and a client. We have a pseudo code that we are going to implement. Using this communication we are going to try to detect failures in communication in different ways. We are both new to both softwares so would like to ask for some advice on which software we should use. Any pros & cons that would lead us to the right direction would be nice.\nA simple TCP/IP protocol is fine. Python, C#, Java, C or C++ would be nice. No specific requirements as we are only going to use some simple algorithms to try to detect if the communication between the server or client is faulty or not ( detecting error messages between them)",
    "answer": "In short, OMNeT++ and NS-3, both discrete event simulators, could be good choices for you, depending on your exact needs.\nNS-3 is a network simulator that uses C++ and (optional) Python to simulate network protocols and (for example) real-life implementations taken directly from the Linux kernel among other application areas. Strong points are its accurate representation of flat packets, good emulation and socket support, PCAP output that enables analyzes with other tools like Wireshark and good community support. Weak points (compared to others) are probably the visualization, which is\nbeing enhanced compared\nto its ancestor ns-2, but still more or less an animation of traces.\nFor an overview of the supported models, take\na look at this website\n.\nOMNeT++ comes with its own IDE (Eclipse-based) and a GUI (nowadays QT-based) for the execution of simulations. A nice\noverview of the IDE is available online\n.\nOMNeT++ uses C++ to define source code of protocols and applications and its own NED language to combine these implementations into (sub-)modules and networks, which in turn are simulated. The simulator has very good visualization support, which seriously outranks NS-3. It has an extensive library of predefined models, just like NS-3. Simulation models are usually grouped in larger frameworks,\nthe INET framework\nwould be the one of choice for your case. Here's\na list of models included in INET\n. Community support is also quite good as you can see here on Stackoverflow or in\nthe OMNeT Google Group\n.\nFrom your statement (\"detecting faulty communication between client and server\"), I assume you are interested in communication faults on the application layer, not on the IP / TCP layers? Both simulators provide models for TCP/IP, but if you are interested in detailed simulations of Ethernet or WLAN, OMNeT++ might be a better start. If you want to use some existing custom application running in a VM and emulate the communication between both, NS-3 might be a better choice. If you want to exclude lower layers and simply try to implement basic message exchange between entities, I might also prefer OMNeT++."
  },
  {
    "url": "https://stackoverflow.com/questions/43101487/linking-with-ns3-module-with-circular-dependency-to-other-library",
    "title": "Linking with NS3 module with circular dependency to other library",
    "question": "I am trying to build custom NS3 module which depends on some static library. This static library depends on NS3 module.\nPlatform: Ubuntu 16.04 x64\nToolchain: GCC 5.4.0\nI will refer to my custom NS3 module as\nmymodule\nI will refer to the library which\nmymodule\ndepends on as\nmylib\nI will refer to the program which links with\nmymodule\nand\nmylib\nas\nmyprog\nwscript\nfor\nmymodule\n:\ndef build(bld):\n   module = bld.create_ns3_module('mymodule', ['network'])\n   module.features = 'c cxx cxxstlib ns3module'\n   module.source = [\n     'model/mymodule.cc' ]\n\n   # Make a dependency to some other static lib:\n   bld.env.INCLUDES_MYLIB = [ \"some/include/path\" ]\n   bld.env.LIB_MYLIB = ['mylib']\n   bld.env.LIBPATH_MYLIB = [ \"some/path\" ]\n   module.use.append('MYLIB')\n\n   # Create a program which uses mymodule\n   p = bld.create_ns3_program('myprog', ['core', 'mymodule'])\n   p.source = 'prog.cpp'\n\n   headers = bld(features='ns3header')\n   headers.module = 'mymodule'\n   headers.source = ['model/mymodule.h']\nWhen I do\n./waf build\nit fails: LD cannot link\nmyprog\nbecause\nmylib\nhas unresolved symbols. This failure is actually expected because\nmylib\nand\nmymodule\nare codependent and should be linked in non-standard way.\nWorkarounds:\nIf I build\nmyprog\nby hand and use\n-Wl,--start-group\n-lns3.26-mymodule-debug -lmylib -Wl,--end-group\nit links perfectly fine and works as expected.\nIf I combine two static libs by hand (using\nar -M\nscript) and then run\n./waf build\nit also works fine.\nThe question:\nHow can I integrate one of the workarounds above into\nwscript\n?",
    "answer": "it looks like a known problem with order of static libs inclusion. The behavior has changed in waf 1.9, due to this problem.\nOne workaround might be to use the\nlinkflags\nattribute of\nprogram\n. You should prefer the use of\nSTLIB_MYLIB\nand\nSTLIBPATH_MYLIB\nas mylib is static. In waf 1.9 with he correct order of libs it might suffice.\nAnyway, use -v to see the command line generated by waf, it might help !"
  },
  {
    "url": "https://stackoverflow.com/questions/42618321/converting-the-neighbours-mac-address-to-ip-address-ns-3",
    "title": "Converting the neighbours MAC address to IP address ns-3",
    "question": "I need the list or MAC-IP addresses of all the first hop neighbors of a wireless node so that I can find the IP from the MAC address, where can I get that in ns-3, I need to do that at the network layer (Ipv4-protocol) ?",
    "answer": "I think this function must be implemented by yourself or using existing protocol, like in real network you need hello messages to get first hop neighbors. The simplest way to do that is to broadcast HELLO messages and keep track of those you hear.\nThis is already implemented in OLSR and AODV protocols and it is not hard to do it yourself."
  },
  {
    "url": "https://stackoverflow.com/questions/41969016/awk-script-to-calculate-delay-from-trace-file-ns-3",
    "title": "awk script to calculate delay from trace file ns-3",
    "question": "I want to measure time between transmitted and received packets in below trace file.\nInput:\n+ 0.01 /NodeList/1/DeviceList/1/$ns3::PointToPointNetDevice/TxQueue/Enqueue\n - 0.01 /NodeList/1/DeviceList/1/$ns3::PointToPointNetDevice/TxQueue/Dequeue\n r 0.0200001 /NodeList/0/DeviceList/2/$ns3::PointToPointNetDevice/MacRx\n + 0.11 /NodeList/1/DeviceList/1/$ns3::PointToPointNetDevice/TxQueue/Enqueue\n - 0.11 /NodeList/1/DeviceList/1/$ns3::PointToPointNetDevice/TxQueue/Dequeue\n r 0.12 /NodeList/0/DeviceList/2/$ns3::PointToPointNetDevice/MacRx\n + 0.12 /NodeList/0/DeviceList/3/$ns3::PointToPointNetDevice/TxQueue/Enqueue\n - 0.12 /NodeList/0/DeviceList/3/$ns3::PointToPointNetDevice/TxQueue/Dequeue\n r 0.120001 /NodeList/2/DeviceList/2/$ns3::PointToPointNetDevice/MacRx\nHere + represents transmitted data and r represents received data. 2nd column in the trace file shows the time.\nHow can I measure time between r and + for the whole file using awk code?\nThe expected output can be as below:\nOutput:\n0.0100001\n  0.01\n  0.000001\nI'll be grateful if anyone helps.",
    "answer": "I generated my own trace file, called\ntrace\n, as follows:\n+ 0.1 Stuff stuff and more stuff\n- 0.2 Yet more stuff\nr 0.4 Something new\n+ 0.8 Something else, not so new\n- 1.6 Jiggery\nr 3.2 Pokery\n+ 6.4 Higgledy Piggledy\nThen, I would approach your question with\nawk\nas follows:\nawk '/^+/{tx=$2}  /^r/{rx=$2; d=rx-tx; $1=$1 \"(d=\" d \")\"} 1' trace\nSample Output\n+ 0.1 Stuff stuff and more stuff\n- 0.2 Yet more stuff\nr(d=0.3) 0.4 Something new\n+ 0.8 Something else, not so new\n- 1.6 Jiggery\nr(d=2.4) 3.2 Pokery\n+ 6.4 Higgledy Piggledy\nThat says...\n\"If you see a line starting with\n+\n, save the second field as variable\ntx\n. If you see a line starting with\nr\n, save the second field as variable\nrx\n. Calculate the difference between\nrx\nand\ntx\nand save it as\nd\n. Rebuild the first field of the line by appending\n(d=variable d)\nto the end of whatever it was. The\n1\nat the end tells\nawk\nto do its natural thing - i.e. print the line.\""
  },
  {
    "url": "https://stackoverflow.com/questions/41958201/using-content-store-in-ns-3",
    "title": "Using Content Store in NS-3",
    "question": "I'm  new to ns-3 and I can't figure out how to use the content store parameter when I create new scenarios in ns-3. I keep changing the size but doesn't seem to change much in the results. Any ideas on how should I use the content store efficiently?\nndn::StackHelper ndnHelper;\n  ndnHelper.SetOldContentStore(\"ns3::ndn::cs::Lru\", \"MaxSize\", \"100\");\n  ndnHelper.InstallAll()",
    "answer": "Try to change CS size with\nConfig::Set (\"/NodeList/0/$ns3::ndn::ContentStore/MaxSize\", UintegerValue (1)); // number after nodeList is global ID of the node (= node->GetId ())\nConfig::Set (\"/NodeList/1/$ns3::ndn::ContentStore/MaxSize\", UintegerValue (2));\nConfig::Set (\"/NodeList/2/$ns3::ndn::ContentStore/MaxSize\", UintegerValue (200));\nSource:\nhttp://www.lists.cs.ucla.edu/pipermail/ndnsim/2013-February/000080.html"
  },
  {
    "url": "https://stackoverflow.com/questions/41533571/video-streaming-simulation-ns3-using-onoff-application",
    "title": "video streaming simulation ns3 using onoff application",
    "question": "I need to simulate video streaming in ns3. I want to use onoff application. What are the values that should be used in this case (inter packet interval, data rate, packet size ....)?",
    "answer": "These values are entirely dependent on the type of video encoding you want to mimic the streaming behavior of and the details of the client server network. The way to go about building useful sims is to try to mimic as closely as possible a real network. I'll illustrate this with an example.\nLet's have a look at simulating BBC HD over your wired network.  BBC HD used the H.264 video codec with a HD datarate of between 2.5 and 12 Mbps. So, you'd want to pick a value somewhere in there. You're probably going to want to simulate CSMA (802.3) packets, where 1024B is a decent size. Your inter packet intervals may not always be the same, based on fluctuating server demands and routing concerns, so random variables are useful here.\nSo, assuming you can handle the server address\nserverAddr\nand\npacketSize\n, here's a snippet to get you started:\nOnOffHelper onoff (\"ns3::UdpSocketFactory\", InetSocketAddress(serverAddr,9));\nonoff.SetAttribute(\"OnTime\", StringValue(\"ns3::ConstantRandomVariable[Constant=1]\"));\nonoff.SetAttribute(\"OffTime\", StringValue(\"ns3::ConstantRandomVariable[Constant=0]\"));\nonoff.SetConstantRate(DataRate(\"4Mbps\"), packetSize);"
  },
  {
    "url": "https://stackoverflow.com/questions/41384936/ns-3-build-fails-due-to-g-compiler-error",
    "title": "NS-3 build fails due to g++ compiler error",
    "question": "I am trying to build NS3 on Raspbian (Jessie) and ran into this error:\n...\n[1507/1924] Compiling src/internet/model/ripng-header.cc\n[1508/1924] Compiling src/internet/helper/ripng-helper.cc\n[1509/1924] Compiling src/internet/helper/rip-helper.cc\n[1510/1924] Compiling build/src/internet/bindings/ns3module.cc\ng++: internal compiler error: Killed (program cc1plus)\nPlease submit a full bug report,\nwith preprocessed source if appropriate.\nSee <file:///usr/share/doc/gcc-4.9/README.Bugs> for instructions.\n\nWaf: Leaving directory `/home/pi/tarballs/ns-allinone-3.26/ns-3.26/build'\nBuild failed\n -> task in 'ns3module_internet' failed (exit status 4):\n        {task 3056100368L: cxx ns3module.cc -> ns3module.cc.8.o}\n['/usr/bin/g++', '-O0', '-ggdb', '-g3', '-Wall', '-Werror', '-std=c++11', '-Wno-error=deprecated-declarations', '-fstrict-aliasing', '-Wstrict-aliasing', '-fPIC', '-fno-strict-aliasing', '-fstack-protector-strong', '-fwrapv', '-fvisibility=hidden', '-Wno-array-bounds', '-pthread', '-pthread', '-I.', '-I..', '-Isrc/internet/bindings', '-I../src/internet/bindings', '-I/usr/include/python2.7', '-I/usr/include/arm-linux-gnueabihf/python2.7', '-I/usr/include/gtk-2.0', '-I/usr/lib/arm-linux-gnueabihf/gtk-2.0/include', '-I/usr/include/gio-unix-2.0', '-I/usr/include/cairo', '-I/usr/include/pango-1.0', '-I/usr/include/atk-1.0', '-I/usr/include/pixman-1', '-I/usr/include/libpng12', '-I/usr/include/gdk-pixbuf-2.0', '-I/usr/include/harfbuzz', '-I/usr/include/glib-2.0', '-I/usr/lib/arm-linux-gnueabihf/glib-2.0/include', '-I/usr/include/freetype2', '-I/usr/include/libxml2', '-DNS3_BUILD_PROFILE_DEBUG', '-DNS3_ASSERT_ENABLE', '-DNS3_LOG_ENABLE', '-DHAVE_SYS_IOCTL_H=1', '-DHAVE_IF_NETS_H=1', '-DHAVE_NET_ETHERNET_H=1', '-DHAVE_PACKET_H=1', '-DHAVE_IF_TUN_H=1', '-DNS_DEPRECATED=', '-DNS3_DEPRECATED_H', '-DHAVE_PYEXT=1', '-D_FORTIFY_SOURCE=2', '-DNDEBUG', '-DHAVE_GSL=1', '-DHAVE_SQLITE3=1', '-DHAVE_GTK2=1', '-DHAVE_LIBXML2=1', 'src/internet/bindings/ns3module.cc', '-c', '-o', '/home/pi/tarballs/ns-allinone-3.26/ns-3.26/build/src/internet/bindings/ns3module.cc.8.o']\nWaf died. Not running tests\nI have searched SO and none of the existing questions seem to be relevant. There definitely seems to be something wrong in general because it takes many hours just to get to this point, when I think(?) it should take < 1 hour to build NS-3.",
    "answer": "Not sure if you're still looking for a solution, however the problem seems to be related to memory constraints. I solved the issue by enabling/configuring a swapfile.\nsudo dd if=/dev/zero of=/swapfile bs=64M count=16\nsudo mkswap /swapfile\nsudo swapon /swapfile\nAfter you build the project, you have the option to disable the swapfile (only if you want). To do this type this in your terminal:\nsudo swapoff /swapfile\nsudo rm /swapfile\nHope this helps!"
  },
  {
    "url": "https://stackoverflow.com/questions/41143161/nodes-and-udp-implementation-in-ns-3",
    "title": "nodes and udp implementation in NS-3",
    "question": "3 and I'm currently trying to alter some of the codes in the examples section without any success.\n#include \"ns3/core-module.h\"\n#include \"ns3/network-module.h\"\n#include \"ns3/internet-module.h\"\n#include \"ns3/point-to-point-module.h\"\n#include \"ns3/applications-module.h\"\n\nusing namespace ns3;\n\nNS_LOG_COMPONENT_DEFINE(\"FirstScriptExample\");\n\nint main(int argc, char *argv[]) {\n    Time::SetResolution(Time::NS);\n    LogComponentEnable(\"UdpEchoClientApplication\", LOG_LEVEL_INFO);\n    LogComponentEnable(\"UdpEchoServerApplication\", LOG_LEVEL_INFO);\n\n    NodeContainer nodes;\n    nodes.Create(2);\n\n    PointToPointHelper pointToPoint;\n    pointToPoint.SetDeviceAttribute(\"DataRate\", StringValue(\"5Mbps\"));\n    pointToPoint.SetChannelAttribute(\"Delay\", StringValue(\"2ms\"));\n\n    NetDeviceContainer devices;\n    devices = pointToPoint.Install(nodes);\n\n    InternetStackHelper stack;\n    stack.Install(nodes);\n\n    Ipv4AddressHelper address;\n    address.SetBase(\"10.1.1.0\", \"255.255.255.0\");\n\n    Ipv4InterfaceContainer interfaces = address.Assign(devices);\n\n    UdpEchoServerHelper echoServer(9);\n\n    ApplicationContainer serverApps = echoServer.Install(nodes.Get(1));\n    serverApps.Start(Seconds(1.0));\n    serverApps.Stop(Seconds(10.0));\n\n    UdpEchoClientHelper echoClient(interfaces.GetAddress(1), 9);\n    echoClient.SetAttribute(\"MaxPackets\", UintegerValue(1));\n    echoClient.SetAttribute(\"Interval\", TimeValue(Seconds(1.0)));\n    echoClient.SetAttribute(\"PacketSize\", UintegerValue(1024));\n\n    ApplicationContainer clientApps = echoClient.Install(nodes.Get(0));\n    clientApps.Start(Seconds(2.0));\n    clientApps.Stop(Seconds(10.0));\n\n    Simulator::Run();\n    Simulator::Destroy();\n    return 0;\n}\nThis is the first tutorial example and I'm trying to create 4 nodes so they could send some udp packets to one another.\nAny advice?",
    "answer": "There are different ways to do it based on the network topology you want to work on. If you want to have four nodes sharing the same shared medium, you can simply do a\nnode.Create (4)\nand install a\nCsmaHelper\non your\nNodeContainer\n, you can checkout\n/examples/tutorial/second.cc\nfor a simple implementation of this.\nBut if you want a dumbbell like topology with one leaf node on each side and one central channel, you will have to create three\nNodeContainer\nwith PointToPointHelper installed on each of them.\nNodeContainer leftLeaf, rightLeaf, central;\nleftLeaf.Create(2); //creates two left side node\nrightLeaf.Create(2); //creates two right side node\ncentral.Add(leftLeaf.Get(1)); //add one node from left in central link\ncentral.Add(rightLeaf.Get(1)); //add one node from right in central link\nYou will also have to set forwarding on for the central link nodes.\nThis is done because a point to point link must have exactly two end points. For such topology you can even use\nPointToPointDumbbellHelper\n, an implementation for which can be found in\nsrc/traffic-control/examples/red-vs-ared.cc"
  },
  {
    "url": "https://stackoverflow.com/questions/40964505/creating-two-wireless-networks-and-one-ethernet-network-with-ns-3",
    "title": "creating two wireless networks and one ethernet network with ns-3",
    "question": "I need to create two wireless networks and one ethernet network with ns-3 but all my ideas doesn't seem to work as I can't have collison. I was trying to create something connected like:\n(wifi) ----point to point--- (ethernet)--- point to point--- (wifi)\ncan't post image, here is a link\nIt didn't work, it seems because I need something called point-to-multipoint communication and I don't know how to do that on ns-3 (I didn't even found about it on ns-3) and I hardly find reference about this matter. Tried to just create three nodes and assign two with wireless node and one with ethernet while trying that.\nAlso tried to create two pair of nodes with a point-to-point communcation between each but I realized I was changing the problem.",
    "answer": "What you need is add two network interfaces for each node, one for point-to-point and another for Wi-Fi.\nInterfaces\nSee the code sample in the\nns3\nsource code for an example:\nsrc/examples/tutorial/third.cc"
  },
  {
    "url": "https://stackoverflow.com/questions/40728718/how-to-get-current-timestamp-in-nanoseconds-in-c-without-using-chrono",
    "title": "How to get current timestamp in nanoseconds in C++ without using chrono? [closed]",
    "question": "Closed.\nThis question needs\ndebugging details\n. It is not currently accepting answers.\nEdit the question to include\ndesired behavior, a specific problem or error, and the shortest code necessary to reproduce the problem\n. This will help others answer the question.\nClosed\n8 years ago\n.\nImprove this question\nSince chrono is not supported in the Network Simulator -3 tool, I need to code in C++ without using chrono in order to get timestamp in nanoseconds.",
    "answer": "On Ubuntu 64, I use POSIX\nuint64_t MNS::getSystemNanosecond(void)\n{\n   const uint64_t NSPS = 1000000000;\n\n   //struct timespec {  __time_t tv_sec;    long int tv_nsec;  };  -- total 8 bytes\n   struct timespec ts;\n\n   // CLOCK_REALTIME - system wide real time clock\n   int status = clock_gettime(CLOCK_REALTIME, &ts);\n   dtbAssert(0 == status);\n\n   // to 8 byte     from   4 byte\n   uint64_t uli_nsec = static_cast<uint64_t>(ts.tv_nsec);\n   uint64_t uli_sec  = static_cast<uint64_t>(ts.tv_sec);\n\n   uint64_t total_ns = uli_nsec + (uli_sec * NSPS);\n\n   return(total_ns);\n}\nusage:\nuint64_t startNS = MNS::getSystemNanosecond()\n\n//... do stuff that takes time\n\nuint64_t durationNS = MNS::getSystemNanosecond() - startNS;"
  },
  {
    "url": "https://stackoverflow.com/questions/40169091/some-ns-3-building-errors-in-cygwin-windows7-64bit",
    "title": "Some ns-3 building errors in cygwin windows7-64bit",
    "question": "Recently I need to do some network simulation in ns-3, but ns-3 is working on Linux. So I installed a cygwin on my Windows 7 and installed\n'Base'\n,\n'Devel'\nand\n'Python'\nmodule just like the tutorial showed.\nthe first problem is that when I built the ns-3 using command\n./build.py\nThen it showed something strange like\n$ ./build.py\n# Skip NetAnim (platform not supported)\n# Build NS-3\nEntering directory `./ns-3-dev'\nNote: configuring ns-3 without pybindgen\n =>  /usr/bin/python waf configure\nSetting top to                           : /home/Dell/workspace/ns-3-allinone/ns-3-dev\nSetting out to                           : /home/Dell/workspace/ns-3-allinone/ns-3-dev/build\nChecking for 'gcc' (C compiler)          : /usr/bin/gcc\nChecking for cc version                  : 5.4.0\nChecking for 'g++' (C++ compiler)        : /usr/bin/g++\nPython is not supported in CygWin environment.  Try MingW instead.\nthe last line is strange because it skipped python check, but the line\n'configure' finished successfully (45.850s)\nstill appeared.\nSo should I ignore it?\nAnd the second problem is when building went on, Something like\n[ 966/1741] Compiling src/spectrum/model/aloha-noack-mac-header.cc\n../src/wifi/model/dsss-error-rate-model.cc: In static function ‘static double ns3::DsssErrorRateModel::DqpskFunction(double)’:\n../src/wifi/model/dsss-error-rate-model.cc:38:54: Error：‘M_PI’ is not declared in this scope.\n   return ((std::sqrt (2.0) + 1.0) / std::sqrt (8.0 * M_PI * std::sqrt (2.0)))\n                                                      ^\n\nWaf: Leaving directory `/home/Dell/workspace/ns-3-allinone/ns-3-dev/build'\nBuild failed\nShowed. So I googled this problem and find it may be caused by my c compiler. But no solution.\nSo what should I do? (Sorry 4 my poor English...)",
    "answer": "Problem solved. I must forgot some necessary plugins. If u have the same problem, just find a to-install list from internet and make sure using \"sudo\" command to install all the plugins like g++ and python."
  },
  {
    "url": "https://stackoverflow.com/questions/40108721/how-to-calculate-lte-handover-delay-in-ns-3",
    "title": "How to calculate LTE handover delay in NS-3",
    "question": "Hello stackoverflow community,\nI am trying to calculate handover delay for a LTE simulation using LENA module in NS-3. To do so, I am using Simulator::Now().GetSeconds() function to log current simulation time at the beginning and the end of handover process.\nSurprisingly the results I get from several handovers (distance between Ue and eNB nodes differ but Ue speed is the same for all) all indicate the same handover delay, as if it is constant. Also the calculated delay is too small to be true. Some results:\n12.12 Prepare Handover (start)\n12.12 Handover Recv Ack\n12.1242 Handover Done To 8 (end)\n^^(4.2ms)\n19.8 Prepare Handover (start)\n19.8 Handover Recv Ack\n19.8042 Handover Done To 6 (end)\n^^(4.2ms)\nAm I calculating it wrong? \nOr is it because of miss-configuration of my scenario? If so would you mind providing me with some configuration which have effect on handover delay? I already have tried adding noise and x2linkdelay but no luck there.",
    "answer": "Alright guys, I figured that it's because of the RRC Configuration which was ideal instead of real. Although results are not as good as I expected, they make sense now :P"
  },
  {
    "url": "https://stackoverflow.com/questions/39954098/install-ns3-21-in-ubuntu16-04-error",
    "title": "install ns3.21 in ubuntu16.04 error",
    "question": "When I try to \"sudo apt-get install gsl-bin libgsl0-dev libgsl0ldbl\" 16.04 cannot find the package libgsl0ldbl for the reason that libgsl0-dev is replaced by libgsl-dev and libgsl0ldbl is obslolete, now replaced by libgsl2. I don't know if it matters.\nWhen I run the command \"./build.py –enable-examples –enable-tests\".\nIt failed with the message :\nBuild NS-3\nEntering directory\n./ns-3.25'\nTraceback (most recent call last):\nFile \"./build.py\", line 171, in \n    sys.exit(main(sys.argv))\n  File \"./build.py\", line 162, in main\n    build_ns3(config, build_examples, build_tests, args, build_options)\n  File \"./build.py\", line 81, in build_ns3\n    run_command(cmd) # waf configure ...\n  File \"/home/limeng/ns3/ns-allinone-3.25/util.py\", line 20, in run_command\n    print(\" => \", ' '.join(argv))` \nUnicodeDecodeError: 'ascii' codec can't decode byte 0xe2 in position 0: ordinal not in range(128)",
    "answer": "I personally tried to do that and it didn't worth the trouble at all so I ended up installing it on Ubuntu 14.04.\nIn case you have no other choice, try watching this\ntutorial"
  },
  {
    "url": "https://stackoverflow.com/questions/39857295/does-dce-have-its-own-linux-kernel-stack-or-does-it-use-the-host-machines-linux",
    "title": "Does DCE have its own linux kernel stack or does it use the host machine's linux kernel stack?",
    "question": "I have installed DCE (Directed Code Execution in advance mode). My question here is, when they say DCE uses the linux kernel stack, does DCE have its own linux kernel stack or does it use the host machine's linux kernel stack?",
    "answer": "DCE will not use the host linux kernel network stack. DCE will use the network stack from a specific version of the linux kernel that is coming from a separate ns-3 module named net-next-sim. For example, in the last version (1.8) released of dce, this module is being pulled from the \"sim-ns3-2.6.36-branch\" branch of the git repo\nhttps://github.com/direct-code-execution/net-next-sim.git\n.\nIn practice, you do not have to worry about where this is coming from since bake will automatically download, build, install, and configure it for you if you enable this feature. As suggested in the manual (\nhttps://www.nsnam.org/docs/dce/manual/html/getting-started.html\n), it's a matter of:\nmkdir dce\ncd dce\nbake.py configure -e dce-linux-1.8\nbake.py download\nbake.py build"
  },
  {
    "url": "https://stackoverflow.com/questions/39836123/how-can-i-measure-instantaneuous-bandwidth-using-ns-3",
    "title": "How can I measure instantaneuous bandwidth using ns-3?",
    "question": "I have looked into FlowMon which counts packets over the entire simulation interval. Can I specify shorter intervals and many such intervals? Are there other options to measure instantaneous bandwidth (or at least, bandwidth averaged over short intervals like 1ms) in ns-3?",
    "answer": "You could still use FlowMon for this. FlowMon\naccumulates\nthe number of packets as you progress through the simulation so at different time intervals you can get values such as txBytes and do some calculations with that.\nTake a look at NS3 scheduling, and try using that\nSimulator::Schedule(Seconds(1), &StatsCalculationCallback);\nWhere the StatsCalculationsCallback is the function where you would calculate the difference between the value now and value before to get for that short interval. Then in the StatsCalculationsCallback function you would then also need to reschedule again for the next interval."
  },
  {
    "url": "https://stackoverflow.com/questions/39802040/ns-3-wifi-base-station-and-accesspoint-handover",
    "title": "NS-3 WIFI Base Station and accesspoint handover",
    "question": "I am a new user of NS-3. Can you help me in writing a code of handover in between nodes in Wi-Fi environment?",
    "answer": "I'm gonna base my response on the little information you have provided.\nGeneral idea of Wi-Fi (as the technology which we use on daily basis to connect to internet and stuff like that :D) is based on IEEE 802.11 standard which does not support handover between nodes. Therefor you either are asking the wrong question or you want to implement the handover support to a IEEE 802.11 standard.\nIn case you want to do the latter I strongly suggest you to do the following steps (\nNS-3 tutorial in case needed\n):\n1- Install NS-3 simulator on a Linux operating system, preferably Ubuntu 14.04.\n2- Browse wifi/examples folder and try to fully understand basic wifi examples.\n3- Implement your proposed algorithm in proposed scenario (Which obviously requires you to understand how user equipment connects to a Wi-Fi access point automatically and how APs can interact with each other and etc.)."
  },
  {
    "url": "https://stackoverflow.com/questions/39478897/get-reception-time-of-a-packet-ns3",
    "title": "get reception time of a packet ns3",
    "question": "Good evening,\nI need to know the reception time of a packet. I only found ways to print out the time using callback methods and I cannot use it as a value in my script. Is there any solution to get this information?",
    "answer": "If by \"reception time\" you mean the time in your simulation that a packet is received, then you can use\nSimulation::Now().GetSeconds()\nfunction to get the current simulation time that your packet is received.\nIn order to do so, try to connect a callback function to Rx trace for your sink node and print the simulation time there."
  },
  {
    "url": "https://stackoverflow.com/questions/39222083/calculate-hash-value-for-udp-packets-in-ns2",
    "title": "Calculate hash value for UDP packets in NS2",
    "question": "My project is to create a sample network in NS2 and forward packets randomly within the nodes. Whenever a packet passes through a particular node the packets hash value should be calculated for the packets and stored within the node through which the packet passes or save them as a file separately (with one file for each node). I have written the code for the network creation and packet flow in NS2. But not sure how to implement hashing of packets in NS2. As of now i have read the trace file in Java and considered each row as a string to calculate MD5 hash in Java code. But i need to implement this dynamically within NS2 itself. Is there any way to do that?",
    "answer": "you can use in this case HashClassifier (C++ side) or any derived class such as DestHashClassifier, FidHashClassifier, SrcDestHashClassifier, or SrcDestFidHashClassifier, you can also use tcl side with classifier/Hash/Dest, classifier/Hash/Fid, classifier/Hash/SrcDest, or classifier/Hash/SrcDestFid"
  },
  {
    "url": "https://stackoverflow.com/questions/39097709/gdb-segmentation-fault-line-number-missing-with-c11-option",
    "title": "Line number of segmentation fault",
    "question": "Is there any gcc option I can set that will give me the line number of the segmentation fault?\nI know I can:\nDebug line by line\nPut printfs in the code to narrow down.\nEdits:\nbt\n/\nwhere\non gdb give No stack.\nHelpful suggestion",
    "answer": "I don't know of a gcc option, but you should be able to run the application with gdb and then when it crashes, type\nwhere\nto take a look at the stack when it exited, which should get you close.\n$ gdb blah\n(gdb) run\n(gdb) where\nEdit for completeness:\nYou should also make sure to build the application with debug flags on using the\n-g\ngcc option to include line numbers in the executable.\nAnother option is to use the\nbt\n(backtrace) command."
  },
  {
    "url": "https://stackoverflow.com/questions/38783459/repeated-errors-despite-correct-namespace",
    "title": "Repeated errors despite correct namespace",
    "question": "I added a class to\nns3\nand when using it I keep getting the error:\n../scratch/seven.cc: In function ‘int main(int, char**)’:\n../scratch/seven.cc:102:3: error: ‘RandomAppHelper’ was not declared in this scope\n   RandomAppHelper source = RandomAppHelper (\"ns3::TcpSocketFactory\", InetSocketAddress (Ipv4Address (\"192.168.1.10\"), 10));\n   ^\n../scratch/seven.cc:103:3: error: ‘source’ was not declared in this scope\n   source.SetAttribute (\"Delay\", StringValue (\"Constant:2.5\"));\n   ^\nThe code for this is here:\nhttps://www.nsnam.org/docs/release/3.3/doxygen/application.html\nI can't resolve the error. I used the correct\nnamespace\nns3\nin the code. Since the error is of \"not declared in scope\", I am not sure how to rectify it.\nHere is my implementation of the helper class (which I am using):\n#include \"ns3/log.h\"\n#include \"ns3/address.h\"\n#include \"ns3/node.h\"\n#include \"ns3/nstime.h\"\n#include \"ns3/socket.h\"\n#include \"ns3/simulator.h\"\n#include \"ns3/socket-factory.h\"\n#include \"ns3/packet.h\"\n#include \"ns3/uinteger.h\"\n#include \"ns3/trace-source-accessor.h\"\n#include \"ns3/tcp-socket-factory.h\"\n#include \"random-helper.h\"\n\nnamespace ns3{\n\nRandomAppHelper::RandomAppHelper (std::string protocol, Address remote)\n{\n  m_factory.SetTypeId (\"ns3::MpTcpBulkSendApplication\");\n  m_factory.Set (\"Protocol\", StringValue (protocol));\n  m_factory.Set (\"Remote\", AddressValue (remote));\n}\n\nvoid\nRandomAppHelper::SetAttribute (std::string name, const AttributeValue &value)\n{\n  m_factory.Set (name, value);\n}\n\nApplicationContainer\nRandomAppHelper::Install (Ptr<Node> node) const\n{\n  return ApplicationContainer (InstallPriv (node));\n}\n\nApplicationContainer\nRandomAppHelper::Install (std::string nodeName) const\n{\n  Ptr<Node> node = Names::Find<Node> (nodeName);\n  return ApplicationContainer (InstallPriv (node));\n}\n\nApplicationContainer\nRandomAppHelper::Install (NodeContainer c) const\n{\n  ApplicationContainer apps;\n  for (NodeContainer::Iterator i = c.Begin (); i != c.End (); ++i)\n    {\n      apps.Add (InstallPriv (*i));\n    }\n\n  return apps;\n}\n\nPtr<Application>\nRandomAppHelper::InstallPriv (Ptr<Node> node) const\n{\n  Ptr<Application> app = m_factory.Create<Application> ();\n  node->AddApplication (app);\n\n  return app;\n}\n\n\n}\nThis class is defined in the applications folder of ns3, which is included via the\napplications-module.h include.\nAnd in my code I have included it at the place where I use the RandomAppHelper.",
    "answer": "I guess you forgot to add your file names(I guess you created RandomAppHelper) in the wscript.py file located in the application folder. \nHope it works.\nBye"
  },
  {
    "url": "https://stackoverflow.com/questions/38760616/is-it-possible-to-simulate-dynamic-topologies-in-ns3",
    "title": "Is it possible to simulate dynamic topologies in ns3",
    "question": "I am trying to create simulation environment for some sort of routing protocol and in order to do this I need to simulate behaviors such as:\nadding new nodes\nadding new links\nremoving nodes and links\nIs it possible to do this in ns-3?",
    "answer": "Yes, you can do that, ns3 gives examples to bringing up and down node interfaces so you can observe the effect.\nyou can find this example in dynamic-global-routing.cc file"
  },
  {
    "url": "https://stackoverflow.com/questions/38671465/how-to-install-ns-3-simulator-correctly-using-cygwin-on-windows-7",
    "title": "How to install NS-3 simulator correctly using cygwin on windows 7",
    "question": "I need to run NS-3 simulator on my windows 7 so I installed cygwin and with devel, python and utils packages. I got a problem when I run\n./build.py\ncommand as the following :\nTraceback (most recent call last):\n  File \"./build.py\", line 10, in <module>\n    from util import run_command, fatal, CommandError\n  File \"/home/user-PC/ns-allinone-3.25/util.py\", line 3, in <module>\n    import subprocess\n  File \"/usr/lib/python2.7/subprocess.py\", line 430, in <module>\n    import pickle\n  File \"/usr/lib/python2.7/pickle.py\", line 1266, in <module>\n    import binascii as _binascii\nImportError: No such file or directory\nNote that I changed directory to the directory that contains the file of build.py and other files of ns-3 in the directory of\n{system root}/cygwin/home/user-PC\n.\nin my ns-3.25 folder, I have the following files:\nAUTHORS , doc, Makefile, scratch, testpy.supp, VERSION, waf-tools bindings,        examples, README, src, utils, waf, wscript CHANGES.html, LICENSE, RELEASE_NOTES,    test.py, utils.py, waf.bat, wutils.py.\nWhile in the main folder of this release of ns-3, I have the following including the folder of ns-3.25:\nbake, constants.pyc, pybindgen-0.17.0.post49+ng0e4e3bc, util.pyc,\nbuild.py, netanim-3.107, README, constants.py, ns-3.25, util.py.\nI tried this command\npython -v build.py |& tee build.log\nand got the following:\nuser@user-PC /home/user-PC/ns-allinone-3.25\n$ python -v build.py |& tee build.log\n# installing zipimport hook\nimport zipimport # builtin\n# installed zipimport hook\n# /usr/lib/python2.7/site.pyc matches /usr/lib/python2.7/site.py\nimport site # precompiled from /usr/lib/python2.7/site.pyc\n# /usr/lib/python2.7/os.pyc matches /usr/lib/python2.7/os.py\nimport os # precompiled from /usr/lib/python2.7/os.pyc\nimport errno # builtin\nimport posix # builtin\n# /usr/lib/python2.7/posixpath.pyc matches /usr/lib/python2.7/posixpath.py\nimport posixpath # precompiled from /usr/lib/python2.7/posixpath.pyc\n# /usr/lib/python2.7/stat.pyc matches /usr/lib/python2.7/stat.py\nimport stat # precompiled from /usr/lib/python2.7/stat.pyc\n# /usr/lib/python2.7/genericpath.pyc matches /usr/lib/python2.7/genericpath.py\nimport genericpath # precompiled from /usr/lib/python2.7/genericpath.pyc\n# /usr/lib/python2.7/warnings.pyc matches /usr/lib/python2.7/warnings.py\nimport warnings # precompiled from /usr/lib/python2.7/warnings.pyc\n# /usr/lib/python2.7/linecache.pyc matches /usr/lib/python2.7/linecache.py\nimport linecache # precompiled from /usr/lib/python2.7/linecache.pyc\n# /usr/lib/python2.7/types.pyc matches /usr/lib/python2.7/types.py\nimport types # precompiled from /usr/lib/python2.7/types.pyc\n# /usr/lib/python2.7/UserDict.pyc matches /usr/lib/python2.7/UserDict.py\nimport UserDict # precompiled from /usr/lib/python2.7/UserDict.pyc\n# /usr/lib/python2.7/_abcoll.pyc matches /usr/lib/python2.7/_abcoll.py\nimport _abcoll # precompiled from /usr/lib/python2.7/_abcoll.pyc\n# /usr/lib/python2.7/abc.pyc matches /usr/lib/python2.7/abc.py\nimport abc # precompiled from /usr/lib/python2.7/abc.pyc\n# /usr/lib/python2.7/_weakrefset.pyc matches /usr/lib/python2.7/_weakrefset.py\nimport _weakrefset # precompiled from /usr/lib/python2.7/_weakrefset.pyc\nimport _weakref # builtin\n# /usr/lib/python2.7/copy_reg.pyc matches /usr/lib/python2.7/copy_reg.py\nimport copy_reg # precompiled from /usr/lib/python2.7/copy_reg.pyc\n# /usr/lib/python2.7/traceback.pyc matches /usr/lib/python2.7/traceback.py\nimport traceback # precompiled from /usr/lib/python2.7/traceback.pyc\n# /usr/lib/python2.7/sysconfig.pyc matches /usr/lib/python2.7/sysconfig.py\nimport sysconfig # precompiled from /usr/lib/python2.7/sysconfig.pyc\n# /usr/lib/python2.7/re.pyc matches /usr/lib/python2.7/re.py\nimport re # precompiled from /usr/lib/python2.7/re.pyc\n# /usr/lib/python2.7/sre_compile.pyc matches /usr/lib/python2.7/sre_compile.py\nimport sre_compile # precompiled from /usr/lib/python2.7/sre_compile.pyc\nimport _sre # builtin\n# /usr/lib/python2.7/sre_parse.pyc matches /usr/lib/python2.7/sre_parse.py\nimport sre_parse # precompiled from /usr/lib/python2.7/sre_parse.pyc\n# /usr/lib/python2.7/sre_constants.pyc matches /usr/lib/python2.7/sre_constants.py\nimport sre_constants # precompiled from /usr/lib/python2.7/sre_constants.pyc\ndlopen(\"/usr/lib/python2.7/lib-dynload/_locale.dll\", 2);\nimport _locale # dynamically loaded from /usr/lib/python2.7/lib-dynload/_locale.dll\n# /usr/lib/python2.7/_sysconfigdata.pyc matches /usr/lib/python2.7/_sysconfigdata.py\nimport _sysconfigdata # precompiled from /usr/lib/python2.7/_sysconfigdata.pyc\n# zipimport: found 90 names in /usr/lib/python2.7/site-packages/paramiko-1.16.0-py2.7.egg\n# zipimport: found 29 names in /usr/lib/python2.7/site-packages/ecdsa-0.13-py2.7.egg\nimport encodings # directory /usr/lib/python2.7/encodings\n# /usr/lib/python2.7/encodings/__init__.pyc matches /usr/lib/python2.7/encodings/__init__.py\nimport encodings # precompiled from /usr/lib/python2.7/encodings/__init__.pyc\n# /usr/lib/python2.7/codecs.pyc matches /usr/lib/python2.7/codecs.py\nimport codecs # precompiled from /usr/lib/python2.7/codecs.pyc\nimport _codecs # builtin\n# /usr/lib/python2.7/encodings/aliases.pyc matches /usr/lib/python2.7/encodings/aliases.py\nimport encodings.aliases # precompiled from /usr/lib/python2.7/encodings/aliases.pyc\n# /usr/lib/python2.7/encodings/utf_8.pyc matches /usr/lib/python2.7/encodings/utf_8.py\nimport encodings.utf_8 # precompiled from /usr/lib/python2.7/encodings/utf_8.pyc\nPython 2.7.10 (default, Jun  1 2015, 18:05:38)\n[GCC 4.9.2] on cygwin\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n# /usr/lib/python2.7/__future__.pyc matches /usr/lib/python2.7/__future__.py\nimport __future__ # precompiled from /usr/lib/python2.7/__future__.pyc\n# /usr/lib/python2.7/optparse.pyc matches /usr/lib/python2.7/optparse.py\nimport optparse # precompiled from /usr/lib/python2.7/optparse.pyc\n# /usr/lib/python2.7/textwrap.pyc matches /usr/lib/python2.7/textwrap.py\nimport textwrap # precompiled from /usr/lib/python2.7/textwrap.pyc\n# /usr/lib/python2.7/string.pyc matches /usr/lib/python2.7/string.py\nimport string # precompiled from /usr/lib/python2.7/string.pyc\ndlopen(\"/usr/lib/python2.7/lib-dynload/strop.dll\", 2);\nimport strop # dynamically loaded from /usr/lib/python2.7/lib-dynload/strop.dll\n# /usr/lib/python2.7/gettext.pyc matches /usr/lib/python2.7/gettext.py\nimport gettext # precompiled from /usr/lib/python2.7/gettext.pyc\n# /usr/lib/python2.7/locale.pyc matches /usr/lib/python2.7/locale.py\nimport locale # precompiled from /usr/lib/python2.7/locale.pyc\ndlopen(\"/usr/lib/python2.7/lib-dynload/operator.dll\", 2);\nimport operator # dynamically loaded from /usr/lib/python2.7/lib-dynload/operator.dll\n# /usr/lib/python2.7/functools.pyc matches /usr/lib/python2.7/functools.py\nimport functools # precompiled from /usr/lib/python2.7/functools.pyc\ndlopen(\"/usr/lib/python2.7/lib-dynload/_functools.dll\", 2);\nimport _functools # dynamically loaded from /usr/lib/python2.7/lib-dynload/_functools.dll\n# /usr/lib/python2.7/copy.pyc matches /usr/lib/python2.7/copy.py\nimport copy # precompiled from /usr/lib/python2.7/copy.pyc\n# /usr/lib/python2.7/weakref.pyc matches /usr/lib/python2.7/weakref.py\nimport weakref # precompiled from /usr/lib/python2.7/weakref.pyc\n# /usr/lib/python2.7/struct.pyc matches /usr/lib/python2.7/struct.py\nimport struct # precompiled from /usr/lib/python2.7/struct.pyc\ndlopen(\"/usr/lib/python2.7/lib-dynload/_struct.dll\", 2);\nimport _struct # dynamically loaded from /usr/lib/python2.7/lib-dynload/_struct.dll\nimport xml # directory /usr/lib/python2.7/xml\n# /usr/lib/python2.7/xml/__init__.pyc matches /usr/lib/python2.7/xml/__init__.py\nimport xml # precompiled from /usr/lib/python2.7/xml/__init__.pyc\nimport xml.dom # directory /usr/lib/python2.7/xml/dom\n# /usr/lib/python2.7/xml/dom/__init__.pyc matches /usr/lib/python2.7/xml/dom/__init__.py\nimport xml.dom # precompiled from /usr/lib/python2.7/xml/dom/__init__.pyc\n# /usr/lib/python2.7/xml/dom/domreg.pyc matches /usr/lib/python2.7/xml/dom/domreg.py\nimport xml.dom.domreg # precompiled from /usr/lib/python2.7/xml/dom/domreg.pyc\n# /usr/lib/python2.7/xml/dom/minicompat.pyc matches /usr/lib/python2.7/xml/dom/minicompat.py\nimport xml.dom.minicompat # precompiled from /usr/lib/python2.7/xml/dom/minicompat.pyc\n# /usr/lib/python2.7/xml/dom/minidom.pyc matches /usr/lib/python2.7/xml/dom/minidom.py\nimport xml.dom.minidom # precompiled from /usr/lib/python2.7/xml/dom/minidom.pyc\n# /usr/lib/python2.7/xml/dom/xmlbuilder.pyc matches /usr/lib/python2.7/xml/dom/xmlbuilder.py\nimport xml.dom.xmlbuilder # precompiled from /usr/lib/python2.7/xml/dom/xmlbuilder.pyc\n# /usr/lib/python2.7/xml/dom/NodeFilter.pyc matches /usr/lib/python2.7/xml/dom/NodeFilter.py\nimport xml.dom.NodeFilter # precompiled from /usr/lib/python2.7/xml/dom/NodeFilter.pyc\n# /usr/lib/python2.7/shlex.pyc matches /usr/lib/python2.7/shlex.py\nimport shlex # precompiled from /usr/lib/python2.7/shlex.pyc\n# /usr/lib/python2.7/collections.pyc matches /usr/lib/python2.7/collections.py\nimport collections # precompiled from /usr/lib/python2.7/collections.pyc\ndlopen(\"/usr/lib/python2.7/lib-dynload/_collections.dll\", 2);\nimport _collections # dynamically loaded from /usr/lib/python2.7/lib-dynload/_collections.dll\n# /usr/lib/python2.7/keyword.pyc matches /usr/lib/python2.7/keyword.py\nimport keyword # precompiled from /usr/lib/python2.7/keyword.pyc\n# /usr/lib/python2.7/heapq.pyc matches /usr/lib/python2.7/heapq.py\nimport heapq # precompiled from /usr/lib/python2.7/heapq.pyc\ndlopen(\"/usr/lib/python2.7/lib-dynload/itertools.dll\", 2);\nimport itertools # dynamically loaded from /usr/lib/python2.7/lib-dynload/itertools.dll\ndlopen(\"/usr/lib/python2.7/lib-dynload/_heapq.dll\", 2);\nimport _heapq # dynamically loaded from /usr/lib/python2.7/lib-dynload/_heapq.dll\nimport thread # builtin\ndlopen(\"/usr/lib/python2.7/lib-dynload/cStringIO.dll\", 2);\nimport cStringIO # dynamically loaded from /usr/lib/python2.7/lib-dynload/cStringIO.dll\n# /home/user-PC/ns-allinone-3.25/constants.pyc matches /home/user-PC/ns-allinone-3.25/constants.py\nimport constants # precompiled from /home/user-PC/ns-allinone-3.25/constants.pyc\n# /home/user-PC/ns-allinone-3.25/util.pyc matches /home/user-PC/ns-allinone-3.25/util.py\nimport util # precompiled from /home/user-PC/ns-allinone-3.25/util.pyc\n# /usr/lib/python2.7/subprocess.pyc matches /usr/lib/python2.7/subprocess.py\nimport subprocess # precompiled from /usr/lib/python2.7/subprocess.pyc\nimport gc # builtin\ndlopen(\"/usr/lib/python2.7/lib-dynload/time.dll\", 2);\nimport time # dynamically loaded from /usr/lib/python2.7/lib-dynload/time.dll\ndlopen(\"/usr/lib/python2.7/lib-dynload/select.dll\", 2);\nimport select # dynamically loaded from /usr/lib/python2.7/lib-dynload/select.dll\ndlopen(\"/usr/lib/python2.7/lib-dynload/fcntl.dll\", 2);\nimport fcntl # dynamically loaded from /usr/lib/python2.7/lib-dynload/fcntl.dll\n# /usr/lib/python2.7/pickle.pyc matches /usr/lib/python2.7/pickle.py\nimport pickle # precompiled from /usr/lib/python2.7/pickle.pyc\nimport marshal # builtin\ndlopen(\"/usr/lib/python2.7/lib-dynload/binascii.dll\", 2);\nTraceback (most recent call last):\n  File \"build.py\", line 10, in <module>\n    from util import run_command, fatal, CommandError\n  File \"/home/user-PC/ns-allinone-3.25/util.py\", line 3, in <module>\n    import subprocess\n  File \"/usr/lib/python2.7/subprocess.py\", line 430, in <module>\n    import pickle\n  File \"/usr/lib/python2.7/pickle.py\", line 1266, in <module>\n    import binascii as _binascii\nImportError: No such file or directory\n# clear __builtin__._\n# clear sys.path\n# clear sys.argv\n# clear sys.ps1\n# clear sys.ps2\n# clear sys.exitfunc\n# clear sys.exc_type\n# clear sys.exc_value\n# clear sys.exc_traceback\n# clear sys.last_type\n# clear sys.last_value\n# clear sys.last_traceback\n# clear sys.path_hooks\n# clear sys.path_importer_cache\n# clear sys.meta_path\n# clear sys.flags\n# clear sys.float_info\n# restore sys.stdin\n# restore sys.stdout\n# restore sys.stderr\n# cleanup __main__\n# cleanup[1] cStringIO\n# cleanup[1] __future__\n# cleanup[1] site\n# cleanup[1] sysconfig\n# cleanup[1] thread\n# cleanup[1] gc\n# cleanup[1] select\n# cleanup[1] abc\n# cleanup[1] _weakrefset\n# cleanup[1] gettext\n# cleanup[1] sre_constants\n# cleanup[1] constants\n# cleanup[1] _codecs\n# cleanup[1] zope\n# cleanup[1] collections\n# cleanup[1] _struct\n# cleanup[1] _heapq\n# cleanup[1] _warnings\n# cleanup[1] shlex\n# cleanup[1] fcntl\n# cleanup[1] zipimport\n# cleanup[1] _sysconfigdata\n# cleanup[1] optparse\n# cleanup[1] struct\n# cleanup[1] textwrap\n# cleanup[1] _collections\n# cleanup[1] strop\n# cleanup[1] _functools\n# cleanup[1] keyword\n# cleanup[1] signal\n# cleanup[1] traceback\n# cleanup[1] marshal\n# cleanup[1] itertools\n# cleanup[1] posix\n# cleanup[1] exceptions\n# cleanup[1] _weakref\n# cleanup[1] heapq\n# cleanup[1] locale\n# cleanup[1] functools\n# cleanup[1] encodings\n# cleanup[1] operator\n# cleanup[1] string\n# cleanup[1] encodings.utf_8\n# cleanup[1] codecs\n# cleanup[1] encodings.aliases\n# cleanup[1] re\n# cleanup[1] _locale\n# cleanup[1] sre_compile\n# cleanup[1] _sre\n# cleanup[1] sre_parse\n# cleanup[2] copy_reg\n# cleanup[2] xml.dom\n# cleanup[2] xml.dom.NodeFilter\n# cleanup[2] xml\n# cleanup[2] posixpath\n# cleanup[2] errno\n# cleanup[2] _abcoll\n# cleanup[2] xml.dom.minicompat\n# cleanup[2] types\n# cleanup[2] genericpath\n# cleanup[2] stat\n# cleanup[2] warnings\n# cleanup[2] UserDict\n# cleanup[2] xml.dom.domreg\n# cleanup[2] copy\n# cleanup[2] os.path\n# cleanup[2] xml.dom.minidom\n# cleanup[2] weakref\n# cleanup[2] linecache\n# cleanup[2] time\n# cleanup[2] xml.dom.xmlbuilder\n# cleanup[2] os\n# cleanup sys\n# cleanup __builtin__\n# cleanup ints: 726 unfreed ints\n# cleanup floats\nAlso I tried with bake and got the following:\nuser@user-PC /home/user-PC/ns-allinone-3.25/bake/bake\n$ ./Bake.py build\n./Bake.py: line 26: $' \\n Bake.py\\n\\n This is the main Bake file, it stores all the classes related to the\\n basic Bake operation. The class Bake is responsible to identify and \\n execute the defined options  \\n': command not found\nC:/cygwin64/bin/import.exe: error while loading shared libraries: ?: cannot open shared object file: No such file or directory\n./Bake.py: line 29: try:: command not found\n./Bake.py: line 30: from: command not found\n./Bake.py: line 31: except: command not found\n./Bake.py: line 32: from: command not found\nC:/cygwin64/bin/import.exe: error while loading shared libraries: ?: cannot open shared object file: No such file or directory\nC:/cygwin64/bin/import.exe: error while loading shared libraries: ?: cannot open shared object file: No such file or directory\nC:/cygwin64/bin/import.exe: error while loading shared libraries: ?: cannot open shared object file: No such file or directory\nC:/cygwin64/bin/import.exe: error while loading shared libraries: ?: cannot open shared object file: No such file or directory\nC:/cygwin64/bin/import.exe: error while loading shared libraries: ?: cannot open shared object file: No such file or directory\nC:/cygwin64/bin/import.exe: error while loading shared libraries: ?: cannot open shared object file: No such file or directory\n./Bake.py: line 39: from: command not found\n./Bake.py: line 40: from: command not found\n./Bake.py: line 41: from: command not found\n./Bake.py: line 42: from: command not found\n./Bake.py: line 43: from: command not found\n./Bake.py: line 44: from: command not found\n./Bake.py: line 45: from: command not found\n./Bake.py: line 46: from: command not found\n./Bake.py: line 47: from: command not found\n./Bake.py: line 48: from: command not found\n./Bake.py: line 50: syntax error near unexpected token `('\n./Bake.py: line 50: `def signal_handler(signal, frame):'\nHere\nis the\ncygcheck -c\noutput. \nHow to get NS-3 installed successfully ?",
    "answer": "Following\nhttps://www.nsnam.org/docs/release/3.25/tutorial/singlehtml/index.html#building-ns3\nseems to work. (first step 2357 files compiled, so a bit long)\nTo debug your problem and save all the logging, so to better understand what is missing:\npython -v build.py |& tee build.log"
  },
  {
    "url": "https://stackoverflow.com/questions/38308634/globalrouting-error-in-combining-wireless-networks-and-point-to-point-connection",
    "title": "GlobalRouting Error in combining wireless networks and point to point connection",
    "question": "I am trying to create a network topology of n wireless networks and attach a single node to each of the wifi-ap nodes(as point to point connection) of all wireless networks.\nI created an echo application to send datas between the single node(remote node) and one of the wifi nodes.\nBut I am getting an error as below when i try to run this code\nassert failed. cond=\"w_lsa\", file=../src/internet/model/global-route-manager-impl.cc, line=809\nterminate called without an active exception\nThe propose topology is attached as image.\ntopology\nHow to route the packets in this topology?\nHere is the code.\n#include \"ns3/core-module.h\"\n#include \"ns3/mobility-module.h\"\n#include \"ns3/applications-module.h\"\n#include \"ns3/point-to-point-module.h\"\n#include \"ns3/wifi-module.h\"\n#include \"ns3/network-module.h\"\n#include \"ns3/csma-module.h\"\n#include \"ns3/internet-module.h\"\n#include \"ns3/bridge-helper.h\"\n#include \"ns3/netanim-module.h\"\n#include <vector>\n#include <stdint.h>\n#include <sstream>\n#include <fstream>\nusing namespace ns3;\n\nint main (int argc, char *argv[])\n{\n  uint32_t nWifis = 2;\n  uint32_t nStas = 2;\n  bool sendIp = true;\n  bool writeMobility = false;\n\n  CommandLine cmd;\n  cmd.AddValue (\"nWifis\", \"Number of wifi networks\", nWifis);\n  cmd.AddValue (\"nStas\", \"Number of stations per wifi network\", nStas);\n  cmd.AddValue (\"SendIp\", \"Send Ipv4 or raw packets\", sendIp);\n  cmd.AddValue (\"writeMobility\", \"Write mobility trace\", writeMobility);\n  cmd.Parse (argc, argv);\n\n  NodeContainer backboneNodes;\n  NetDeviceContainer backboneDevices;\n  Ipv4InterfaceContainer backboneInterfaces;\n  std::vector<NodeContainer> staNodes;\n  std::vector<NetDeviceContainer> staDevices;\n  std::vector<NetDeviceContainer> apDevices;\n  std::vector<Ipv4InterfaceContainer> staInterfaces;\n  std::vector<Ipv4InterfaceContainer> apInterfaces;\n\n  InternetStackHelper stack;\n  CsmaHelper csma;\n  Ipv4AddressHelper ip;\n  ip.SetBase (\"192.168.0.0\", \"255.255.255.0\");\n\n  backboneNodes.Create (nWifis);\n  stack.Install (backboneNodes);\n\n  backboneDevices = csma.Install (backboneNodes);\n\n  double wifiX = 0.0;\n\n  YansWifiPhyHelper wifiPhy = YansWifiPhyHelper::Default ();\n  wifiPhy.SetPcapDataLinkType (YansWifiPhyHelper::DLT_IEEE802_11_RADIO); \n\n  for (uint32_t i = 0; i < nWifis; ++i)\n    {\n      // calculate ssid for wifi subnetwork\n      std::ostringstream oss;\n      oss << \"wifi-default-\" << i;\n      Ssid ssid = Ssid (oss.str ());\n\n      NodeContainer remoteHost;\n      remoteHost.Create(1);\n      Ptr<Node> remote=remoteHost.Get(0);\n      Ptr<Node> apnode=backboneNodes.Get(i);\n      PointToPointHelper p2p;\n      p2p.SetDeviceAttribute (\"DataRate\", StringValue (\"5Mbps\"));\n      p2p.SetChannelAttribute (\"Delay\", StringValue (\"2ms\"));\n      NetDeviceContainer p2pDevices = p2p.Install(apnode,remote);\n      //setup remotenode\n      stack.Install (remoteHost);\n\n      // assign AP IP address to bridge, not wifi\n      //Ipv4InterfaceContainer\n\n      NodeContainer sta;\n      NetDeviceContainer staDev;\n      NetDeviceContainer apDev;\n      Ipv4InterfaceContainer staInterface;\n      Ipv4InterfaceContainer apInterface;\n      Ipv4InterfaceContainer remoteInterface;\n      MobilityHelper mobility;\n      BridgeHelper bridge;\n      WifiHelper wifi;\n      WifiMacHelper wifiMac;\n      YansWifiChannelHelper wifiChannel = YansWifiChannelHelper::Default ();\n      wifiPhy.SetChannel (wifiChannel.Create ());\n\n      sta.Create (nStas);\n      mobility.SetPositionAllocator (\"ns3::GridPositionAllocator\",\n                                     \"MinX\", DoubleValue (wifiX),\n                                     \"MinY\", DoubleValue (0.0),\n                                     \"DeltaX\", DoubleValue (5.0),\n                                     \"DeltaY\", DoubleValue (5.0),\n                                     \"GridWidth\", UintegerValue (1),\n                                     \"LayoutType\", StringValue (\"RowFirst\"));\n\n\n      // setup the AP.\n      mobility.SetMobilityModel (\"ns3::ConstantPositionMobilityModel\");\n      mobility.Install (remoteHost);\n      mobility.Install (backboneNodes.Get (i));\n      wifiMac.SetType (\"ns3::ApWifiMac\",\n                       \"Ssid\", SsidValue (ssid));\n      apDev = wifi.Install (wifiPhy, wifiMac, backboneNodes.Get (i));\n\n      NetDeviceContainer bridgeDev;\n      bridgeDev = bridge.Install (backboneNodes.Get (i), NetDeviceContainer (apDev, backboneDevices.Get (i)));\n\n      // assign AP IP address to bridge, not wifi\n      apInterface = ip.Assign (bridgeDev);\n      remoteInterface = ip.Assign (p2pDevices);\n\n      // setup the STAs\n      stack.Install (sta);\n      mobility.SetMobilityModel (\"ns3::ConstantPositionMobilityModel\");\n      mobility.Install (sta);\n      wifiMac.SetType (\"ns3::StaWifiMac\",\n                       \"Ssid\", SsidValue (ssid),\n                       \"ActiveProbing\", BooleanValue (false));\n      staDev = wifi.Install (wifiPhy, wifiMac, sta);\n      staInterface = ip.Assign (staDev);\n\n      //creating udp applications\n\n      UdpEchoServerHelper echoServer (9);\n\n      ApplicationContainer serverApps = echoServer.Install(remoteHost.Get(0));\n      serverApps.Start (Seconds (1.0));\n      serverApps.Stop (Seconds (10.0));\n\n      UdpEchoClientHelper echoClient (remoteInterface.GetAddress(1), 9);\n      echoClient.SetAttribute (\"MaxPackets\", UintegerValue (1));\n      echoClient.SetAttribute (\"Interval\", TimeValue (Seconds (1.0)));\n      echoClient.SetAttribute (\"PacketSize\", UintegerValue (1024));\n\n      ApplicationContainer clientApps = echoClient.Install(sta.Get(0));\n      clientApps.Start (Seconds (2.0));\n      clientApps.Stop (Seconds (10.0));\n\n      // save everything in containers.\n      staNodes.push_back (sta);\n      apDevices.push_back (apDev);\n      apInterfaces.push_back (apInterface);\n      staDevices.push_back (staDev);\n      staInterfaces.push_back (staInterface);\n\n      wifiX += 20.0;\n    }\n    Ipv4GlobalRoutingHelper::PopulateRoutingTables ();\n\n /* Address dest;\n  std::string protocol;\n  if (sendIp)\n    {\n      dest = InetSocketAddress (staInterfaces[1].GetAddress (1), 1025);\n      protocol = \"ns3::UdpSocketFactory\";\n    }\n  else\n    {\n      PacketSocketAddress tmp;\n      tmp.SetSingleDevice (staDevices[0].Get (0)->GetIfIndex ());\n      tmp.SetPhysicalAddress (staDevices[1].Get (0)->GetAddress ());\n      tmp.SetProtocol (0x807);\n      dest = tmp;\n      protocol = \"ns3::PacketSocketFactory\";\n    }\n\n  OnOffHelper onoff = OnOffHelper (protocol, dest);\n  onoff.SetConstantRate (DataRate (\"500kb/s\"));\n  ApplicationContainer apps = onoff.Install (staNodes[0].Get (0));\n  apps.Start (Seconds (0.5));\n  apps.Stop (Seconds (3.0));\n\n  wifiPhy.EnablePcap (\"wifi-wired-bridging\", apDevices[0]);\n  wifiPhy.EnablePcap (\"wifi-wired-bridging\", apDevices[1]);*/\n\n  if (writeMobility)\n    {\n      AsciiTraceHelper ascii;\n      MobilityHelper::EnableAsciiAll (ascii.CreateFileStream (\"wifi-wired-bridging.mob\"));\n    }\n\n  AnimationInterface anim(\"edgecomp2.xml\");\n  Simulator::Stop (Seconds (5.0));\n  Simulator::Run ();\n  Simulator::Destroy ();\n}",
    "answer": "I encountered this problem before but you could check this out here as follows.\nGlobal Routing problem with wifi infrastructure mode\nGlobalRouting does NOT work with Wi-Fi"
  },
  {
    "url": "https://stackoverflow.com/questions/37949842/new-to-network-simulator-3",
    "title": "New to Network Simulator 3",
    "question": "I recently started studying NS3, so I read the tutorial in the\nwebsite\n, but I'm having some problems.\nFor example I'm trying to create a small simulation where there are some nodes, using wifi, that move in the same direction at different speed (basically a road with some cars), but I found just some random models. Is there a model that can help me with that case (or must I change the position myself)?\nAnother one is the creation of a small protocol. Every node must send a certain message (a custom header with some extra fields) to the other nodes, but a node should read just the first message and reply, while it must ignore the other messages. How Should I do it?",
    "answer": "Welcome to NS3 :)\nA great place to start might be checking out the available examples in NS3 source files.\nThere is a \"example\" folder containing several scenarios in ns3 base directory. Also there are multiple examples for each module in \"ns3/src/[module]/examples\" directory."
  },
  {
    "url": "https://stackoverflow.com/questions/37629419/how-to-print-packets-received-using-udp-in-ns-3",
    "title": "How to print packets received using UDP in NS-3?",
    "question": "I am neither able to pass receiving socket address using parameters, nor able to bind\nsetrecvcallback\nmethod with socket.\nThe code below does not print anything. How can I print those packets?\n//included needed header files\n\nusing namespace ns3;\nusing namespace std;\n\nclass MyApp : public Application\n{\npublic:\n\n  MyApp ();\n  virtual ~MyApp();\n\n  void Setup (Ptr<Node> node,Address raddress, Address address, uint32_t packetSize, uint32_t nPackets, DataRate dataRate);\n\nprivate:\n  virtual void StartApplication (void);\n  virtual void StopApplication (void);\n\n  void ScheduleTx (void);\n  void SendPacket (void);\n  void ReceivePacket (Ptr<Socket>);\n\n  Ptr<Socket>     m_socket;\n  Ptr<Socket>     m_rsocket;\n  Address         m_peer;\n  uint32_t        m_packetSize;\n  uint32_t        m_nPackets;\n  DataRate        m_dataRate;\n  EventId         m_Event;\n  bool            m_running;\n  uint32_t        m_packetsReceived;\n  uint32_t        m_packetsSent;\n  Ptr<Packet>     m_spacket;\n  Ptr<Packet>     m_rpacket;\n  uint8_t*        rxPayload;\n  Address         m_raddress;\n  Ptr<Node>            node;\n};\n\nMyApp::MyApp ()\n  : m_socket (0),\n    m_peer (),\n    m_packetSize (0),\n    m_nPackets (0),\n    m_dataRate (0),\n    m_Event (),\n    m_running (false),\n    m_packetsSent (0)\n{\n}\n\nMyApp::~MyApp()\n{\n  m_socket = 0;\n}\n\nvoid\nMyApp::Setup (Ptr<Node> node,Address raddress ,Address address, uint32_t packetSize, uint32_t nPackets, DataRate dataRate)\n{\n  //m_socket = socket;\n  this->node=node;\n  m_peer = address;\n  m_packetSize = packetSize;\n  m_nPackets = nPackets;\n  m_dataRate = dataRate;\n  m_raddress=raddress;\n  //Socket::CreateSocket (nodes.Get (0), UdpSocketFactory::GetTypeId ())\n}\n\nvoid\nMyApp::StartApplication (void)\n{\n  m_socket = Socket::CreateSocket (node, UdpSocketFactory::GetTypeId ());\n  m_running = true;\n  m_packetsSent = 0;\n  m_packetsReceived=0;\n  m_socket->Bind ();\n\n  Ptr<SocketFactory> sockFactory = node->GetObject<UdpSocketFactory> ();\n  m_rsocket=sockFactory->CreateSocket ();\n  m_rsocket->Bind (InetSocketAddress (Ipv4Address::GetAny (), 8085));\n\n  m_rsocket->Connect (m_peer);\n  m_socket->Connect (m_peer);\n    m_socket->SetRecvCallback (MakeCallback(&MyApp::ReceivePacket,this));\n     m_rsocket->SetRecvCallback (MakeCallback(&MyApp::ReceivePacket,this));\n  SendPacket ();\n}\n\nvoid\nMyApp::StopApplication (void)\n{\n  m_running = false;\n\n  if (m_Event.IsRunning ())\n    {\n      Simulator::Cancel (m_Event);\n    }\n\n  if (m_socket)\n    {\n      m_socket->Close ();\n    }\n}\nvoid\nMyApp::SendPacket (void)\n{\n  std::stringstream msg;//msg2;\n\n  msg << \"My pay load is my payload\";\n  m_packetSize=msg.str ().length ();\n  m_spacket = Create<Packet> ((uint8_t*) msg.str().c_str(), msg.str().length());\n\n  uint8_t *buffer = new uint8_t  [m_spacket->GetSize ()];\n  memset(buffer, 0, m_spacket->GetSize () +1);\n  m_spacket->CopyData (buffer, m_spacket->GetSize ());\n\n  std::cout<<m_packetsReceived<< \"\\n\";\n  if(m_packetsReceived>0)std::cout<<\"received payload:\"<<rxPayload;\n  m_socket->Send (m_spacket);\n  if (++m_packetsSent < m_nPackets)\n    {\n      ScheduleTx ();\n    }\n}\n\nvoid\nMyApp::ReceivePacket (Ptr<Socket> socket)\n{\n\n  //uint32_t availableData;\n  //availableData = socket->GetRxAvailable ();\n  ++m_packetsReceived;\n  m_rpacket = socket->Recv (std::numeric_limits<uint32_t>::max (), 0);\n\n\n    rxPayload = new uint8_t  [m_rpacket->GetSize ()];\n   memset(rxPayload, 0, m_packetSize );\n\n   m_rpacket->CopyData (rxPayload, m_rpacket->GetSize ());\n}\n\nvoid\nMyApp::ScheduleTx (void)\n{\n  if (m_running)\n    {\n      Time tNext (Seconds (m_packetSize * 8 / static_cast<double> (m_dataRate.GetBitRate ())));\n      m_Event = Simulator::Schedule (tNext, &MyApp::SendPacket, this);\n\n    }\n}\n\n\nint\nmain (int argc, char *argv[])\n{\n  NodeContainer wifiStaNodes;\n  wifiStaNodes.Create (1);\n  NodeContainer wifiApNode;\n  wifiApNode.Create (1);\n\n  YansWifiChannelHelper channel = YansWifiChannelHelper::Default ();\n  YansWifiPhyHelper phy = YansWifiPhyHelper::Default ();\n  phy.SetChannel (channel.Create ());\n\n  WifiHelper wifi;\n  wifi.SetRemoteStationManager (\"ns3::AarfWifiManager\");\n\n  WifiMacHelper mac;\n  Ssid ssid = Ssid (\"ns-3-ssid\");\n  mac.SetType (\"ns3::StaWifiMac\",\n               \"Ssid\", SsidValue (ssid),\n               \"ActiveProbing\", BooleanValue (false));\n\n  NetDeviceContainer staDevices;\n  staDevices = wifi.Install (phy, mac, wifiStaNodes);\n\n  mac.SetType (\"ns3::ApWifiMac\",\n               \"Ssid\", SsidValue (ssid));\n\n  NetDeviceContainer apDevices;\n  apDevices = wifi.Install (phy, mac, wifiApNode);\n\n  NodeContainer nodes;\n  nodes.Add (wifiStaNodes);\n  nodes.Add (wifiApNode);\n\n  NetDeviceContainer devices;\n  devices.Add (staDevices);\n  devices.Add (apDevices);\n\n  MobilityHelper mobility;\n\n  mobility.SetMobilityModel (\"ns3::SteadyStateRandomWaypointMobilityModel\",\n                             \"MinSpeed\",DoubleValue (5.0),\"MaxSpeed\",DoubleValue (10.0),\n                             \"MinPause\",DoubleValue (0.04),\"MaxPause\",DoubleValue (0.04),\n                             \"MinX\", DoubleValue (0.0),\"MaxX\", DoubleValue (20.0),\n                             \"MinY\", DoubleValue (0.0),\"MaxY\", DoubleValue (20.0));\n\n  mobility.Install (nodes);\n\n  /*Ptr<RateErrorModel> em = CreateObject<RateErrorModel> ();\n  em->SetAttribute (\"ErrorRate\", DoubleValue (0.00001));\n  devices.Get (1)->SetAttribute (\"ReceiveListErrorModel\", PointerValue (em));\n*/\n\n  InternetStackHelper stack;\n  stack.Install (nodes);\n\n  Ipv4AddressHelper address;\n  address.SetBase (\"10.1.1.0\", \"255.255.255.252\");\n  Ipv4InterfaceContainer interfaces = address.Assign (devices);\n  //address.Assign (apDevices);\n\n  Ipv4GlobalRoutingHelper::PopulateRoutingTables ();\n\n  //device 0 is sta and device 1 is ap\n\n  PacketSinkHelper packetSinkHelper (\"ns3::UdpSocketFactory\", InetSocketAddress (Ipv4Address::GetAny (), 8080));\n  ApplicationContainer sinkApps = packetSinkHelper.Install (nodes.Get (0));\n  sinkApps.Start (Seconds (0.));\n  sinkApps.Stop (Seconds (20.));\n\n  PacketSinkHelper packetSinkHelper2 (\"ns3::UdpSocketFactory\", InetSocketAddress (Ipv4Address::GetAny (), 8085));\n  ApplicationContainer sinkApps2 = packetSinkHelper2.Install (nodes.Get (1));\n  sinkApps2.Start (Seconds (0.));\n  sinkApps2.Stop (Seconds (20.));\n\n  Ptr<MyApp> app = CreateObject<MyApp> ();\n  app->Setup (nodes.Get(1),InetSocketAddress (interfaces.GetAddress (1), 8085),InetSocketAddress (interfaces.GetAddress (0), 49153), 1040, 5, DataRate (\"1Mbps\"));\n  nodes.Get (1)->AddApplication (app);\n  app->SetStartTime (Seconds (1.));\n  app->SetStopTime (Seconds (20.));\n\n  Ptr<MyApp> app2 = CreateObject<MyApp> ();\n  app2->Setup (nodes.Get(0),InetSocketAddress (interfaces.GetAddress (0),8080), InetSocketAddress (interfaces.GetAddress (1), 49153), 1040, 5, DataRate (\"1Mbps\"));\n  nodes.Get (0)->AddApplication (app2);\n  app2->SetStartTime (Seconds (1.));\n  app2->SetStopTime (Seconds (20.));\n\n  AnimationInterface anim(\"test.xml\");\n  anim.EnablePacketMetadata (true);\n\n  Simulator::Stop (Seconds (5));\n  Simulator::Run ();\n  Simulator::Destroy ();\n\n  return 0;\n}",
    "answer": "You can write below codes for create massage and send it in MyApp::SendPacket (void) function:\nstd::ostringstream msg; msg << \"Hello!\" << '\\0';\nPtr<Packet> packet = Create<Packet> ((uint8_t*) msg.str().c_str(), msg.str().length());  \nm_socket->Send (packet);\nThen in this function write below codes for print your payload:\nuint8_t *buffer = new uint8_t[packet->GetSize ()];\npacket->CopyData(buffer, packet->GetSize ());\nstd::string s = std::string((char*)buffer);\nstd::cout << s << std::endl;"
  },
  {
    "url": "https://stackoverflow.com/questions/37629164/which-amazon-web-service-instance-must-i-use-for-standalone",
    "title": "Which amazon web service instance must I use for standalone?",
    "question": "I am running an ns3 network simulator experiment (\nhttps://www.nsnam.org/\n) on c4.4xlarge compute-optimized instance.\nMy goal is just to borrow a good ubuntu computer to run simulation which takes a long time to run (~ 2days). It is standalone and doesn't have to be a server.\nHowever I noticed with only one instance it is quite slow. What should I do to make the most of the service in this case?",
    "answer": "If the job you wish to run is too slow, then you have three choices:\nHave patience, or\nUse a more powerful EC2 instance, or\nUse more EC2 instances\nIf the simulator is able to run across multiple VMs in parallel, take a look at\nAmazon EC2 Spot Instances\n. They are low-priced instances that are made available when there is spare capacity on EC2. They can be as little as 90% of the standard price. The downside is that a rise in the Spot Price could cause the instances to be terminated with only two minutes notice."
  },
  {
    "url": "https://stackoverflow.com/questions/37384991/unable-to-call-tcp-socket-received-callback-function-on-ns3",
    "title": "Unable to Call Tcp Socket Received Callback Function on NS3",
    "question": "I am new with NS3. I am trying to create a custom application and currently have a difficulty on calling a Socket callback function using socket->SetRecvCallback. This problem occur while I use TcpSocketFactory, another socket such as UDP does not produce this issue.\nOn main\nPtr<Socket> ns3TcpSocket = Socket::CreateSocket(nodes.Get(0), TcpSocketFactory::GetTypeId());\nCustom Tcp Application Class\nthis->socket->SetRecvCallback(MakeCallback(&CustomTcpApplication::RecvCallback, this));\nthis->socket->SetSendCallback(MakeCallback(&CustomTcpApplication::WriteUntilBufferFull, this));\nMy callback function\nvoid CustomTcpApplication::RecvCallback(Ptr<Socket> socket)\n{\n    std::cout << \"On Receive Callback Function\" << std::endl;\n}\n\n\nvoid CustomTcpApplication::WriteUntilBufferFull(Ptr<Socket> localSocket, uint32_t txSpace)\n{\n    std::cout << \"On Send Callback Function\" << std::endl;\n}\nAlso. I read from this answer to implements SetAcceptCallback,\nns-3 wlan grid TCP not working while UDP is\nthis->socket->SetAcceptCallback(MakeNullCallback<bool, Ptr<Socket>, const Address &>(), MakeCallback(&CustomTcpApplication::Accept, this));\nCallback Function\nvoid CustomTcpApplication::Accept(Ptr<Socket> socket, const ns3::Address& from)\n{\n    std::cout << \"Connection accepted\" << std::endl;\n    socket->SetRecvCallback(MakeCallback(&CustomTcpApplication::MainRecvCallback, this));\n}\nHowever, I still cannot log it on the function. Did I missing any step?",
    "answer": "I got the same problem today. After tracing codes for hours, I found that there is no native support for TCP data receiving callback.\nThe tcp-socket-base.cc forks a new TcpSocketBase object for the following data transmission in TcpSocketBase::ProcessListen().\nThe copy constructor of TcpSocketBase resets new socket's callback functions including m_receivedData\n. That's why data receiving callback doesn't work for TCP.\nA simple workaround is to reserve the callback variable from original TcpSocketBase and make m_receivedDataTCP public in src/network/model/socket.h.\nTcpSocketBase::TcpSocketBase (const TcpSocketBase& sock)\n{\n   ...\n   m_receivedDataTCP = sock.m_receivedDataTCP;\n}"
  },
  {
    "url": "https://stackoverflow.com/questions/37376504/ns3-how-to-setup-rcvbufsize-for-each-tcp-session",
    "title": "NS3: how to setup RcvBufSize for each TCP session?",
    "question": "I have to run two TCP sessions with different RcvBufSize.\nI know the following code can setup the RcvBufSize for all TCP sessions.\nConfig::SetDefault(\"ns3::TcpSocket::RcvBufSize\", UintegerValue (1500000));\nActually, I'm looking for the function like\nsetsockopt()\nto setup SO_RCVBUF for each TCP session.\nI also tried to downcast\nPtr<Socket>\nto\nPtr<TcpSocket>\n, but\nSetRcvBufSize()\nis private function...\nIs there anyway to solve this problem?",
    "answer": "I changed\nSndBufSize\nin my application using\nSetAttribute\ncall. I have a class with the socket pointer member\nns3::Ptr<ns3::Socket> m_pSocket\nand to change the send buffer size I do this:\n// create tcp socket\nm_pSocket = ns3::Socket::CreateSocket( GetNode(), ns3::TcpSocketFactory::GetTypeId() );\nm_pSocket->SetAttribute(\"SndBufSize\", ns3::UintegerValue(4096000));\nSo in your case you have to call:\nyourSocket->SetAttribute(\"RcvBufSize\", ns3::UintegerValue(1500000));\nThis way you can set every attribute of\nns3::TcpSocket\n."
  },
  {
    "url": "https://stackoverflow.com/questions/37291482/how-to-use-multi-path-routing-in-ns-3",
    "title": "How to use multi-path routing in NS-3",
    "question": "I'm a beginner of NS-3, I want to configure multi-path routing in my network by NS-3, here is the code:\n#include \"ns3/core-module.h\"\n#include \"ns3/network-module.h\"\n#include \"ns3/csma-module.h\"\n#include \"ns3/internet-module.h\"\n#include \"ns3/point-to-point-module.h\"\n#include \"ns3/applications-module.h\"\n#include \"ns3/ipv4-global-routing-helper.h\"\n\nusing namespace ns3;\nusing namespace std;\n\nNS_LOG_COMPONENT_DEFINE (\"TestRoutingExample\");\n\nint main(int argc, char *argv[]) \n{\n    LogComponentEnable (\"UdpEchoClientApplication\", LOG_LEVEL_INFO);\n    LogComponentEnable (\"UdpEchoServerApplication\", LOG_LEVEL_INFO);\n\n    Ptr<Node> n0 = CreateObject<Node>();\n    Ptr<Node> n1 = CreateObject<Node>();\n    Ptr<Node> n2 = CreateObject<Node>();\n    Ptr<Node> n3 = CreateObject<Node>();\n    Ptr<Node> n4 = CreateObject<Node>();\n\n    Names::Add(\"n0\", n0);\n    Names::Add(\"n1\", n1);\n    Names::Add(\"n2\", n2);\n    Names::Add(\"n3\", n3);\n    Names::Add(\"n4\", n4);\n\n    NodeContainer n0n1(n0, n1);\n    NodeContainer n1n2(n1, n2);\n    NodeContainer n1n3(n1, n3);\n    NodeContainer n3n4(n3, n4);\n    NodeContainer n2n4(n2, n4);\n\n    NodeContainer global(n0, n1, n2, n3, n4);\n\n    // create link\n    PointToPointHelper p2p;\n    p2p.SetDeviceAttribute (\"DataRate\", StringValue (\"5Mbps\"));\n    p2p.SetChannelAttribute (\"Delay\", StringValue (\"2ms\"));\n    NetDeviceContainer d0d1 = p2p.Install(n0n1);\n    NetDeviceContainer d1d2 = p2p.Install(n1n2);\n    NetDeviceContainer d1d3 = p2p.Install(n1n3);\n    NetDeviceContainer d2d4 = p2p.Install(n2n4);\n    NetDeviceContainer d3d4 = p2p.Install(n3n4);\n    // create internet stack\n    InternetStackHelper internet;\n    internet.Install (global);\n\n    Ipv4AddressHelper ipv4;\n\n    ipv4.SetBase (\"10.0.0.0\", \"255.255.255.0\");\n    Ipv4InterfaceContainer i0i1 = ipv4.Assign (d0d1);\n\n    ipv4.SetBase (\"10.1.1.0\", \"255.255.255.0\");\n    Ipv4InterfaceContainer i1i2 = ipv4.Assign (d1d2);\n\n    ipv4.SetBase (\"10.2.2.0\", \"255.255.255.0\");\n    Ipv4InterfaceContainer i1i3 = ipv4.Assign (d1d3);\n\n    ipv4.SetBase (\"10.3.3.0\", \"255.255.255.0\");\n    Ipv4InterfaceContainer i2i4 = ipv4.Assign (d2d4);\n\n    ipv4.SetBase (\"10.4.4.0\", \"255.255.255.0\");\n    Ipv4InterfaceContainer i3i4 = ipv4.Assign (d3d4);\n\n\n    Config::SetDefault(\"ns3::Ipv4GlobalRouting::RandomEcmpRouting\",     BooleanValue(true)); // enable multi-path routing\n    Ipv4GlobalRoutingHelper::PopulateRoutingTables ();\n\n    // install application\n    UdpEchoServerHelper echoServer1(9999);\n    ApplicationContainer serverApps1 = echoServer1.Install (n4);\n    serverApps1.Start (Seconds (1.0));\n    serverApps1.Stop (Seconds (1000.0));\n\n    // n0 -> n4\n    UdpEchoClientHelper echoClient1(i2i4.GetAddress (1), 9999);\n    echoClient1.SetAttribute (\"MaxPackets\", UintegerValue (200));\n    echoClient1.SetAttribute (\"Interval\", TimeValue (Seconds (1)));\n    echoClient1.SetAttribute (\"PacketSize\", UintegerValue (1024));\n    ApplicationContainer clientApps1 = echoClient1.Install (n0);\n    clientApps1.Start (Seconds (2.0));\n    clientApps1.Stop (Seconds (10.0));\n\n    // dump config\n    p2p.EnablePcapAll (\"test\");\n\n    Simulator::Run ();\n    Simulator::Destroy ();\n\n    return 0;\n}\nThe topology is as follows:\nn0 will periodically send UDP packets to n4, but I find all the packets take the path: n0→n1→n2→n4 by checking the .pcap file, Why?",
    "answer": "Take a look at\ndynamic-global-routing.cc\nexample. Basically you can do this by enabling\nRespondToInterfaceEvents\n:\nConfig::SetDefault (\"ns3::Ipv4GlobalRouting::RespondToInterfaceEvents\", BooleanValue (true));\nRespondToInterfaceEvents: Set to true if you want to dynamically recompute the global routes upon Interface notification events (up/down, or add/remove address)\nAnd shutting down one of the interfaces on either node n1 or n4 (since both of them have two interfaces in your case). So it should look something like this:\nPtr<Ipv4> ipv41 = n1->GetObject<Ipv4> ();\n// The first ifIndex is 0 for loopback, then the first p2p is numbered 1,\n// then the next p2p is numbered 2\nuint32_t ipv4ifIndex1 = 1; // since you first installed d1d2\n\nSimulator::Schedule (Seconds(4), &Ipv4::SetDown, ipv41, ipv4ifIndex1);\nSimulator::Schedule (Seconds(6), &Ipv4::SetUp, ipv41, ipv4ifIndex1);\nFollowing this approach you can extend it and randomly fire SetDown and SetUp events. I hope this helps.\nUpdate: If you want to use\nRandomEcmpRouting\nyou have to move the\nSetDefault\ncall on top (before you create the interfaces)."
  },
  {
    "url": "https://stackoverflow.com/questions/36963678/how-to-use-tcp-variants-comparison-in-ns3",
    "title": "How to use Tcp Variants Comparison in NS3?",
    "question": "I need to compare different type of TCP using ns-3 for a class project. I am new with ns-3. I don't want to implement a new code. Briefly, I have 2 questions:\nWhich example of ns-3 is the best for my purpose?\nTcp-Variants-Comparison.cc\n?\nHow can I see the output. I ran the code, but there was no output.",
    "answer": "You can run your example using\n.waf\n. Navigate to your ns-3 directory (the place where\n.waf\nexecutable is located) and run:\n./waf --run tcp-variants-comparison\nThis will compile (if needed) and run the example with default arguments. You can change arguments using\n--command-template=\"%s <args>\"\n. If you look inside the\ntcp-variants-comparison.cc\nyou can see all available arguments, e.g.:\n...\ncmd.AddValue (\"delay\", \"Access link delay\", access_delay);\ncmd.AddValue (\"tracing\", \"Flag to enable/disable tracing\", tracing);\ncmd.AddValue (\"tr_name\", \"Name of output trace file\", tr_file_name);\ncmd.AddValue (\"cwnd_tr_name\", \"Name of output trace file\", cwnd_tr_file_name);\n...\nSo here is an example how you can store congestion window of default\nTcpWestwood\nprotocol to\ncwndTrace\nfile:\n./waf --run tcp-variants-comparison --command-template=\"%s --tracing=1 --cwnd_tr_name=cwndTrace\"\nYou can then use any tool you like to display the data. Here is how to plot it with\ngnuplot\n:\n$ gnuplot\ngnuplot> set terminal png size 640,480\ngnuplot> set output \"cwnd.png\"\ngnuplot> plot \"cwndTrace\" using 1:2 title 'Congestion Window' with linespoints\ngnuplot> exit\nYou should also take a look at\nthis NS-3 tutorial\n. This gives you a pretty good introduction to NS-3, so read it carefully.\nSo to answer your question completely, you can use this example for comparison of:\ncmd.AddValue (\"transport_prot\", \"Transport protocol to use: TcpTahoe, TcpReno, TcpNewReno, TcpWestwood, TcpWestwoodPlus \", transport_prot);\nSo run this example with different\ntransport_prot\narguments and compare your traces."
  },
  {
    "url": "https://stackoverflow.com/questions/36941768/how-to-setup-clion-to-use-waf-as-build-system",
    "title": "How to setup CLion to use waf as build system",
    "question": "I am trying to configure my Intellij Clion IDE for working with ns-3. Since ns-3 is using waf, it is more tricky than i thought and would be really happy to hear any advice",
    "answer": "CLion supports compilation databases\nfor quite some while, which waf, luckily, is able to generate using the\nclang_compilation_database\nextension.\nYou'll need to load it within your configuration and option step; i.e. like this:\ndef options(ctx):\n    # Assuming you just copied the script into a directory called tools\n    ctx.load('clang_compilation_database', tooldir='tools')\n    # ...\n\ndef configure(ctx):\n    ctx.load('clang_compilation_database', tooldir='tools')\n    # ...\nNow you can call\nwaf clangdb\n; you'll be presented a file called 'compile_commands.json' in your build directory."
  },
  {
    "url": "https://stackoverflow.com/questions/36799608/adding-waypoint-in-ns3-for-waypoint-mobility-model",
    "title": "Adding waypoint in ns3 for waypoint mobility model",
    "question": "I was trying adding waypoints for waypoint mobility model but i am not able to do so. This is what I did\nPtr<WaypointMobilityModel> waypoints = CreateObject<WaypointMobilityModel> (); \nwaypoints->AddWaypoint (Waypoint (Seconds (2.0),Vector (25.0, 0, 0))); \nwaypoints->AddWaypoint (Waypoint (Seconds (5.0),Vector (50.0, 0, 0))); \nmobility.SetMobilityModel(waypoints);  //mobility is my MobilityHelper\nSetMobilityModel expects a string but is instead getting a ptr when is called with parameter waypoints. Could you tell what should be the correct way for doing so?\nThis is the error i got:\nno matching function for call to ‘ns3::MobilityHelper::SetMobilityModel(ns3::Ptr<ns3::WaypointMobilityModel>&)’\n mobility.SetMobilityModel(waypoints);\n note:   no known conversion for argument 1 from ‘ns3::Ptr<ns3::WaypointMobilityModel>’ to ‘std::string {aka std::basic_string<char>}’",
    "answer": "The one and only ns3 Forum is\nhttps://groups.google.com/forum/?fromgroups#!forum/ns-3-users"
  },
  {
    "url": "https://stackoverflow.com/questions/36674426/building-network-topology-to-download-file-from-multiple-servers",
    "title": "Building network topology to download file from multiple servers",
    "question": "In my Network Programming class, I got a topic like this:\nLet’s say there are network topology with configuration like below:\nThe S1, S2, S3 contains the same file DATA.dat.\nDesign the protocol and code a server program that install on servers S1, S2, S3 and a client program install on client C to\ndownload the file Data.dat from servers S1, S2, S3 in the same time\n, and the downloaded\nfile is not corrupted\n.\nNetwork configuration:\nBandwidth between servers and router is not known (in range 100kbps ~ 1000kbps)\nBandwidth between client C and router is 10Mbps.\nPacket loss rate is not known.\nI have no idea about the way to solve this. So I hope you could give me some keywords to solve this. Thanks a lot",
    "answer": "Your protocol should first find meta-information about the download. This information must contain a list of servers, filelength, and a hash (md5, rc4 or similar to verify that the file is not corrupt when finished).\nThe protocol must have the possibility to download the file by chunks. This way you can connect to multiple servers as once and download different chunks in parallel. A typical chunk size could be 1MB (and the last chunk will be smaller)."
  },
  {
    "url": "https://stackoverflow.com/questions/36550308/building-topology-in-c-using-ns3",
    "title": "Building topology in C++ using ns3",
    "question": "Could anyone please tell me why I get this message after running my program for building topology in ns3.24?\nassert failed. cond=\"c.GetN () == 2\", file=../src/point-to-point/helper/point-to-point-helper.cc, line=220\nterminate called without an active exception\nThank you.",
    "answer": "Try to check the nodes number, to install the pointTopoint it must be done in two nodes. Like below:\nnodes.Create(2)\nIf you are trying to install in a different numbers of nodes it can cause this error.\nBR,"
  },
  {
    "url": "https://stackoverflow.com/questions/36468422/socket-programming-in-ns3-with-python",
    "title": "Socket programming in ns3 with python",
    "question": "I wrote a code in python for doing socket programming in ns3. In my code I can see the source sends a packet to the sink, but sink will not respond to receive the packet (Actually I believe \"RecPkt\" method is not executing, but I don't know why). Here is the part of my code related to methods for sending and receiving packets:\npacketsize = 64 #bytes\npktcount = 2\npktinterval = 0.25 #seconds \n\n\ndef RecPkt(socket):\n    while socket.Recv():\n        print \"Received one packet!\"\n\ndef SndPkt(socket, packetsize, pktcount, pktinterval):\n    if pktcount > 0: \n        socket.Send(ns.network.Packet(packetsize)) \n        ns.core.Simulator.Schedule(pktinterval, SndPkt, socket, packetsize, pktcount-1, pktinterval)\n        print \"Sending one packet!\"\n    else:\n        socket.Close()\nHere is the code for defining the source and the sink:\nappSource = ns.network.NodeList.GetNode(1)\nappSink = ns.network.NodeList.GetNode(20)\n\nremoteAddr = appSink.GetObject(ns.internet.Ipv4.GetTypeId()).GetAddress(1,0).GetLocal()\n\nsink = ns.network.Socket.CreateSocket(appSink, ns.core.TypeId.LookupByName(\"ns3::UdpSocketFactory\"))\nsink.Bind(ns.network.InetSocketAddress(ns.network.Ipv4Address.GetAny(), 80))\nsink.SetRecvCallback(RecPkt)\n\nsource = ns.network.Socket.CreateSocket(appSource, ns.core.TypeId.LookupByName(\"ns3::UdpSocketFactory\"))\nsource.Connect(ns.network.InetSocketAddress(remoteAddr, port))\nhere is the last part of the code relating to repeating sending the packet for each interval. For example if the pktcount=2 then the source will send two packets:\nns.core.Simulator.Schedule(ns.core.Seconds(30.0), SndPkt, source, packetsize, pktcount, pktinterval)\n\nprint \"Run Simulation.\"\nns.core.Simulator.Stop(ns.core.Seconds(stopTime))\nns.core.Simulator.Run()\nns.core.Simulator.Destroy()\nHere is the result that I am getting:\nConfigure Tracing.\nRun Simulation.\nSending one packet!\nSending one packet!\nroot@far-System:\nWould you please help me where is my mistake?\nThanks a lot",
    "answer": "Thanks for the question! Even though there is no answer it gave me hope that NS-3 sockets might work with Python and therefore made me investigate further.\nI cannot directly help you with your problem (answer to the comment by Mateus Sousa about port number might be helpful), but based on your code and some C++ examples I have created the following working example. I hope you can benefit from it and find the bug in your implementation.\nimport ns.applications\nimport ns.core\nimport ns.internet\nimport ns.network\nimport ns.point_to_point\n\nnodes = ns.network.NodeContainer()\nnodes.Create(2)\n\npointToPoint = ns.point_to_point.PointToPointHelper()\npointToPoint.SetDeviceAttribute(\"DataRate\", ns.core.StringValue(\"5Mbps\"))\npointToPoint.SetChannelAttribute(\"Delay\", ns.core.StringValue(\"2000ms\"))\n\ndevices = pointToPoint.Install(nodes)\n\nstack = ns.internet.InternetStackHelper()\nstack.Install(nodes)\n\naddress = ns.internet.Ipv4AddressHelper()\naddress.SetBase(ns.network.Ipv4Address(\"10.1.1.0\"),\n                ns.network.Ipv4Mask(\"255.255.255.0\"))\n\ninterfaces = address.Assign(devices)\n\nsource = ns.network.Socket.CreateSocket(\n    nodes.Get(0),\n    ns.core.TypeId.LookupByName(\"ns3::UdpSocketFactory\")\n)\n\n\nsink = ns.network.Socket.CreateSocket(\n    nodes.Get(1),\n    ns.core.TypeId.LookupByName(\"ns3::UdpSocketFactory\")\n)\n\n\ndef send_packet(socket):\n    print(\"sending\", ns.core.Simulator.Now())\n    socket.Send(ns.network.Packet(5))\n\n\ndef rcv_packet(socket):\n    print(\"received\", ns.core.Simulator.Now())\n\n\nsink.SetRecvCallback(rcv_packet)\n\n\nsink_address = ns.network.InetSocketAddress(interfaces.GetAddress(1), 4477)\nany_address = ns.network.InetSocketAddress(\n    ns.network.Ipv4Address.GetAny(), 4477\n)\n\nsink.Bind(any_address)\nsource.Connect(sink_address)\n\nns.core.Simulator.Schedule(\n    ns.core.Seconds(0.0), send_packet, source,\n)\n\nns.core.Simulator.Run()\nns.core.Simulator.Destroy()"
  },
  {
    "url": "https://stackoverflow.com/questions/36331672/adding-waypoints-in-ns3",
    "title": "Adding waypoints in ns3",
    "question": "I am new to ns3 and this is what I am stuck at. I was trying to add waypoints but don't know how to do it, would be great if you guys could help\nThis is what I tried:\nmobility.SetMobilityModel (\"ns3::WaypointMobilityModel\",\n                        \"NextWaypoint\", WaypointValue(),\n                        \"WaypointsLeft\", UintegerValue (1),\n                        \"LazyNotify\", BooleanValue (false),\n                        \"InitialPositionIsWaypoint\", BooleanValue (false)\n                        );\n\nmobility.Install (wifiStaNodes);  //wifiStanodes is my nodeContainer\n\nPtr<WaypointMobilityModel> waypoints =wifiStaNodes.Get(0)->GetObject<WaypointMobilityModel> ();\n\nwaypoints->AddWaypoint (Waypoint (Seconds (0.0), Vector (0.0, 0.0, 0.0)));\nwaypoints->AddWaypoint (Waypoint (Seconds (2.0), Vector (50.0, 50.0, 0)));\nBut this doesn't seem to work, moreover theres an error:\nmsg=\"Attribute name=NextWaypoint tid=ns3::WaypointMobilityModel: initial value cannot be set using attributes\"\nWaypoint mobility model class reference",
    "answer": "The attributes you try to use are not valid. If you read the class reference, NextWaypoint and WaypointsLeft are only for \"READ\". You can not set them, that's why you get \"initial value cannot be set using attributes\".\nThere is a reference scenario (test case) for WaypointMobilityModel in /src/mobility/test/waypoint-mobility-model-test.cc"
  },
  {
    "url": "https://stackoverflow.com/questions/36265329/simulator-for-openflow-in-lte",
    "title": "Simulator for Openflow in LTE",
    "question": "I am currently researching on SDN in mobile networks (LTE). for that i am looking for a simulator, need advise.\nI have gone through NS3 and it appears as it supports Openflow Switches, but couldn't find documentation for that purpose. Need help in simulating SDN network in LTE. any suggestion/advise would be highly appreciated.\nThanks,\nShahzoob",
    "answer": "NS-3 has a module called ofsoftswitch13 which might be quite helpful in your case. It implements controller entity as well as OF 13 protocol."
  },
  {
    "url": "https://stackoverflow.com/questions/36253378/ns-3-build-error",
    "title": "ns-3 Build Error",
    "question": "I am trying to build ns-3 using the command\n./waf\ninside the ns-3 folder,\nbut it gives me this:\nWaf: Entering directory `/home/mptcp/build'\n        Waf: Leaving directory `/home/mptcp/build'\n        source not found: 'model/mp-tcp-onoff-application.cc' in \n\nbld(features=['cxx', 'cxxshlib', 'ns3module'], \n\nns3_dir_location='src/applications', pcfilegen=bld(features='ns3pcfile', \n\nidx=2, meths=[], prec=defaultdict(<type 'list'>, {}), _name='', source='', \n\nmodule='ns3-applications', mappings={}, path=/home/mptcp/src/applications, \n\ntarget='') in /home/mptcp/src/applications, use=['ns3-internet', 'ns3-\n\nconfig-store', 'ns3-stats', 'ns3-mptcp'], mappings={}, uselib='', meths=\n\n['_add_test_code', 'apply_bundle', 'process_rule', 'process_source', \n\n'apply_link', 'apply_implib', 'process_use', 'propagate_uselib_vars', \n\n'apply_incpaths', 'apply_vnum', 'set_macosx_deployment_target'], \n\nprec=defaultdict(<type 'list'>, {}), source=['model/bulk-send-\n\napplication.cc', 'model/onoff-application.cc', 'model/packet-sink.cc', \n\n'model/ping6.cc', 'model/radvd.cc', 'model/radvd-interface.cc', \n\n'model/radvd-prefix.cc', 'model/udp-client.cc', 'model/udp-server.cc', \n\n'model/seq-ts-header.cc', 'model/udp-trace-client.cc', 'model/packet-loss-\n\ncounter.cc', 'model/udp-echo-client.cc', 'model/udp-echo-server.cc', \n\n'model/v4ping.cc', 'model/application-packet-probe.cc', 'helper/bulk-send-\n\nhelper.cc', 'helper/on-off-helper.cc', 'helper/packet-sink-helper.cc', \n\n'helper/ping6-helper.cc', 'helper/udp-client-server-helper.cc', \n\n'helper/udp-echo-helper.cc', 'helper/v4ping-helper.cc', 'helper/radvd-\n\nhelper.cc', 'model/mp-tcp-packet-sink.cc', 'model/mp-tcp-bulk-send-\n\napplication.cc', 'model/mp-tcp-onoff-application.cc', 'helper/mp-tcp-\n\npacket-sink-helper.cc', 'helper/mp-tcp-bulk-send-helper.cc'], test=False, \n\nis_ns3_module=True, install_path='${LIBDIR}', module_deps=['internet', \n\n'config-store', 'stats', 'mptcp'], dependencies=['internet', 'config-\n\nstore', 'stats', 'mptcp'], path=/home/mptcp/src/applications, vnum=None, \n\nposted=True, is_static=False, target='../../ns3.19-applications-debug', \n\nidx=1, _name='ns3-applications') in /home/mptcp/src/applications\nI cant figure out what to do.\nI have removed the file /mp-tcp-onoff-application.cc from the folder and have also edited the wscript file.\nHow to remove this error ? This seems to be a missing source file error, what does the error message say ? I have already removed the file references.",
    "answer": "The error says that waf can't find\nmodel/mp-tcp-onoff-application.cc\n. In the error message the source attribute of the task generator lists\nmodel/mp-tcp-onoff-application.cc\nas a source. waf is perfectly right :)\nIf you have removed\nmodel/mp-tcp-onoff-application.cc\nfrom disk you should ensure that your\nwscript\ndoes not consider model/mp-tcp-onoff-application.cc as a source. Without the wscript I can't help you more.\nIf the wscript build the source list, try to\nwaf clean\nbefore your build"
  },
  {
    "url": "https://stackoverflow.com/questions/36252495/unable-to-locate-package-python-gnomedesktop-installing-pyviz-in-ns3",
    "title": "Unable to locate package python-gnomedesktop: Installing PyViz in ns3",
    "question": "I am following the commands\nhere\nto install PyViz.\nI get the error:\n~$ sudo apt-get install python-gnome2-desktop\nReading package lists... Done\nBuilding dependency tree       \nReading state information... Done\nPackage python-gnome2-desktop is not available, but is referred to by another package.\nThis may mean that the package is missing, has been obsoleted, or\nis only available from another source\nHowever the following packages replace it:\n  python-wnck:i386 python-rsvg:i386 python-gnomekeyring:i386 python-wnck python-rsvg python-gnomekeyring\n\nE: Package 'python-gnome2-desktop' has no installation candidate\nI tried to search the solutions for the problem but all give the same error.\nI have Ubuntu 15.04.",
    "answer": "It is just python-gnome2:\npython-gnome2\nYou can see with an\napt-cache search\n:\n$apt-cache search python-gnome2\n    python-gnome2 - Python bindings for the GNOME desktop environment\n    python-gnome2-desktop-dev - Python bindings for the GNOME desktop environment\n    python-gnome2-dev - Python bindings for the GNOME desktop environment - development files\n    python-gnome2-doc - Python bindings for the GNOME desktop environment\nYou actually need to install\npython-gnome2-desktop-dev\n,\npython-gnomedesktop\nwill be installed with the dev package.\npython-gnomedesktop (>= 2.32.0+dfsg-1)\nPython bindings for the GNOME desktop library"
  },
  {
    "url": "https://stackoverflow.com/questions/36104945/passing-value-by-reference-on-c",
    "title": "passing value by reference on C++",
    "question": "I am trying to understand what the arguments are for this method in a class from ns-3.\nvoid ns3::OnOffHelper::SetAttribute (   std::string     name,\nconst AttributeValue &  value \n)\nI was able to pass the first argument, but I am not sure what the second argument should be. Does it mean I have to pass a pointer value for the second argument?\nThanks,\nBZ",
    "answer": "No, pass it how you would pass a normal variable.\nThe difference is that the variable is passed by reference and not by value so any changes the function\nSetAttribute\nmakes to\nvalue\nwill still be visible once the function returns. In this case however, its\nconst &\nwhich promises you that it won't change\nvalue\n, it will only use it's information. This is usually done to prevent expensive copies (before C++11)."
  },
  {
    "url": "https://stackoverflow.com/questions/35998492/how-to-generate-a-random-number-for-an-exponential-distribution-in-gcc-5",
    "title": "how to generate a random number for an exponential distribution in GCC 5",
    "question": "I wanted an exponential distribution to control when to occupy a channel and for how long. The code I have now uses C++ 11 and is not compatible with ns3. I was wondering if there is a way to generate the random number that is compatible with c++ 5 compiler that ns3 uses. current code is\nstd::random_device rd;\nstd::mt19937 gen(rd());\n//std::uniform_real_distribution<> dis(1, std::numeric_limits<int>::max());\nstd::uniform_real_distribution<> dis(0,1);\nlong double length = log(1-dis(gen))/(-0.25);\nstd::cout<<length<<std::endl;",
    "answer": "NS-3 provides an\nExponential Random\nVariable from which you can get the values you want.\ndouble mean = 3.14;\ndouble bound = 0.0;\nPtr<ExponentialRandomVariable> x = CreateObject<ExponentialRandomVariable> ();\nx->SetAttribute (\"Mean\", DoubleValue (mean));\nx->SetAttribute (\"Bound\", DoubleValue (bound));\n// The expected value for the mean of the values returned by an\n// exponentially distributed random variable is equal to mean.\ndouble value = x->GetValue ();"
  },
  {
    "url": "https://stackoverflow.com/questions/35808849/how-to-use-nvcc-as-compiler-in-ns3",
    "title": "How to use nvcc as compiler in ns3",
    "question": "I'm trying to use cuda in ns3, but when I tried to run\nCXX=\"nvcc\" ./waf configure\n, it shows the following message on the screen:\nChecking for 'g++' (C++ compiler)        : not found \nChecking for 'clang++' (C++ compiler)    : not found \nChecking for 'icpc' (C++ compiler)       : not found \ncould not configure a C++ compiler!\n(complete log in /home/kelu/workspace/ns-3.24/build/config.log)\nI checked the config.log, it says the following:\nChecking for 'g++' (C++ compiler)\nfind program='nvcc' paths=['/usr/local/sbin', '/usr/local/bin', '/usr/sbin', '/usr/bin', '/sbin', '/bin', '/usr/local/cuda/bin'] var='CXX' -> ['nvcc']\nfrom /home/kelu/workspace/ns-3.24: Could not determine the compiler type\nnot found\n----------------------------------------\nChecking for 'clang++' (C++ compiler)\nfind program='nvcc' paths=['/usr/local/sbin', '/usr/local/bin', '/usr/sbin', '/usr/bin', '/sbin', '/bin', '/usr/local/cuda/bin'] var='CXX' -> ['nvcc']\nfrom /home/kelu/workspace/ns-3.24: Not clang/clang++\nnot found\n----------------------------------------\nChecking for 'icpc' (C++ compiler)\nfind program='nvcc' paths=['/usr/local/sbin', '/usr/local/bin', '/usr/sbin', '/usr/bin', '/sbin', '/bin', '/usr/local/cuda/bin'] var='CXX' -> ['nvcc']\nfrom /home/kelu/workspace/ns-3.24: Not icc/icpc\nnot found\nfrom /home/kelu/workspace/ns-3.24: could not configure a C++ compiler!\nnvcc is located in /usr/local/cuda/bin, which is in path. But it seems to me that the building script of ns3 does not resolve nvcc as a compiler.\nCould anybody please tell me the right way to make nvcc the CXX compiler in ns3?\nThanks.",
    "answer": "I haven't found a way to use nvcc in ns-3, but I did find a work around for this problem. I'm happy to share my solution here to help others:\nMake your cuda code a static library:\nar rcs libcudacode.a a.o b.o c.o\n(you need to make the *.o files first using g++, nvcc, or anything else you want)\nput libcudacode.a in\n/your/lib/folder/\nand put your cuda code in\n/your/src/folder\nAdd lib folder and src folder into waf:\nCXXFLAGS_EXTRA=\"-I/your/src/folder -I/your/cuda/dir/include\" LINKFLAGS_EXTRA=\"-L/your/lib/folder -L/your/cuda/dir/lib64 -lcudacode -lcudart\" ./waf configure\n.\n./waf\nYour code should be compiled now. You can access any public functions in your cuda code by\n#including \"corresponding_header.h\"\nA little bit explanation:\nCXXFLAGS_EXTRA\nand\nLINKFLAGS_EXTRA\nadd compilation flags in ns-3's compiling system. You need to add both your cuda code and NVidia's cuda library to use the functions.\nIf you used any other libraries, also put them in\nCXXFLAGS_EXTRA\nand\nLINKFLAGS_EXTRA\nCheck the cuda directory name in your system. It's probably not lib64 in your machine."
  },
  {
    "url": "https://stackoverflow.com/questions/35543906/parallel-simulations-using-ns3-and-stdthread",
    "title": "Parallel simulations using NS3 and std::thread",
    "question": "I am using the NS3 framework to run Wi-Fi simulations with various configurations. I want to use std::thread to run many (hundreds) of simulations simultaneously, within one process.\nHere is a my code, with some configuration redacted:\nvoid simulation(RateAdaptation    rate_adaptation,\n                const bool        channel_fading,\n                // In meters, between AP and station.\n                const uint32_t    distance)\n{\n  ns3::SeedManager::SetSeed(++seed);\n\n  ns3::NodeContainer station_node, ap_node;\n  station_node.Create(1);\n  ap_node.Create(1);\n\n  ns3::YansWifiChannelHelper channel;\n  channel.SetPropagationDelay(\"ns3::ConstantSpeedPropagationDelayModel\");\n  channel.AddPropagationLoss( \"ns3::LogDistancePropagationLossModel\");\n\n\n\n  // About 130 lines of more configuration for the simulation and\n  // function parameters.\n\n\n\n  ns3::Simulator::Stop(ns3::Seconds(10.0));\n\n  ns3::Ptr<ns3::FlowMonitor> flowmon;\n  ns3::FlowMonitorHelper *flowmonHelper = new ns3::FlowMonitorHelper();\n  flowmon = flowmonHelper->InstallAll();\n\n  ns3::Simulator::Run();\n  ns3::Simulator::Destroy();\n  flow_output(flowmon, flowmonHelper);\n}\n\nint main(int argc, char *argv[])\n{\n  std::vector<std::thread> jobs;\n\n  for (uint32_t i = 0; i < 20; ++i)\n  {\n    uint32_t varying_distance = 5*(i+1);\n\n    jobs.push_back(std::thread(simulation,\n                               RateAdaptation::Aarf,\n                               false,\n                               varying_distance));\n  }\n\n  for (auto it = jobs.begin(); it < jobs.end(); ++it)\n  {\n    it.join();\n  }\n\n  return 0;\n}\nWhen I run this code for just one job in jobs, it works perfect, but for any larger number (say two), I get output like this:\nassert failed. cond=\"SystemThread::Equals (m_main)\", msg=\"Simulator::ScheduleDestroy Thread-unsafe invocation!\", file=../src/core/model/default-simulator-impl.cc, line=289\nterminate called without an active exception\nCommand ['[redacted]'] terminated with signal SIGIOT. Run it under a debugger to get more information (./waf --run <program> --comm    and-template=\"gdb --args %s <args>\").\nAnd indeed running it in Valgrind returns hundreds of problems.\nTwo questions:\nIs it possible that I'm doing something wrong, and NS3 should support this?\nIs it known that NS3 can't run multiple simulations in parallel?",
    "answer": "The short answer: you can't do this with ns-3.\nThe long answer: use multiple processes instead of multiple threads (the ns-3 library maintains global state that is not protected from multiple thread concurency).\nI would suggest using the ns-3 python wrappers to easily setup parallel multiprocessing jobs. It might not be entirely trivial if you want to perform tracing beyond the default tracing setup (in this case, you will probably need to do your own tracing in C++ and the topology setup in python)"
  },
  {
    "url": "https://stackoverflow.com/questions/35450860/how-to-add-a-variable-of-a-method-of-a-class-in-aonther-program-in-python",
    "title": "How to add a variable of a method of a class in aonther program in python?",
    "question": "I have a class called WIFISegment as below in ns3.py :\nclass WIFISegment( object ):\n    \"\"\"Equivalent of radio WiFi channel.\n       Only Ap and WDS devices support SendFrom().\"\"\"\n    def __init__( self ):\n        # Helpers instantiation.\n        self.channelhelper = ns.wifi.YansWifiChannelHelper.Default()\n        self.phyhelper = ns.wifi.YansWifiPhyHelper.Default()\n        self.wifihelper = ns.wifi.WifiHelper.Default()\n        self.machelper = ns.wifi.NqosWifiMacHelper.Default()\n        # Setting channel to phyhelper.\n        self.channel = self.channelhelper.Create()\n        self.phyhelper.SetChannel( self.channel )\n\n    def add( self, node, port=None, intfName=None, mode=None ):\n        \"\"\"Connect Mininet node to the segment.\n           Will create WifiNetDevice with Mac type specified in\n           the MacHelper (default: AdhocWifiMac).\n           node: Mininet node\n           port: node port number (optional)\n           intfName: node tap interface name (optional)\n           mode: TapBridge mode (UseLocal or UseBridge) (optional)\"\"\"\n        # Check if this Mininet node has assigned an underlying ns-3 node.\n        if hasattr( node, 'nsNode' ) and node.nsNode is not None:\n            # If it is assigned, go ahead.\n            pass\n        else:\n            # If not, create new ns-3 node and assign it to this Mininet node.\n            node.nsNode = ns.network.Node()\n            allNodes.append( node )\n        # Install new device to the ns-3 node, using provided helpers.\n        device = self.wifihelper.Install( self.phyhelper, self.machelper, node.nsNode ).Get( 0 )\n        mobilityhelper = ns.mobility.MobilityHelper()\n        # Install mobility object to the ns-3 node.\n        mobilityhelper.Install( node.nsNode )\n        # If port number is not specified...\n        if port is None:\n            # ...obtain it automatically.\n            port = node.newPort()\n        # If interface name is not specified...\n        if intfName is None:\n            # ...obtain it automatically.\n            intfName = Link.intfName( node, port ) # classmethod\n        # In the specified Mininet node, create TBIntf bridged with the 'device'.\n        tb = TBIntf( intfName, node, port, node.nsNode, device, mode )\n        return tb\nThis class has a method called\ndef add( self, node, port=None, intfName=None, mode=None )\nand in this method we define\nmobilityhelper\n.\nI was wondering if I can use mobilityhelper in another program. \nFor example, I wrote another program and in my program I import WIFISegment, then define wifi = WIFISegment() and I can use its method \"add\" as follow\nwifi.add(h1)\n(h1 is host here).\nMy question is How I can use mobilityhelper of add() method in my other program. Because I need to set a new mobility each time.\nThanks\nFarzaneh",
    "answer": "The obvious way is to return it:\nreturn tb, mobilityhelper\nand use it like this:\noriginal_ret_value, your_mobilityhelper = wifi.add(h1)\nBut that would break compatibility with your old code (\nadd\nreturned\nTBIntf\n, but now it returns tuple). You could add optional parameter to indicate whether the\nadd\nmethod should return mobilityhelper or not:\ndef add( self, node, port=None, intfName=None, mode=None, return_mobilityhelper=False ):\n    ...\n    if return_mobilityhelper:\n        return tb, mobilityhelper\n    else:\n        return tb\nNow if you use\nadd\nthe same way you did before, it behaves the same way it did before\nwifi.add(h1)\n. But you can use the new parameter and then get your mobilityhelper\nwhatever, mobilityhelper = wifi.add(h1, return_mobilityhelper=True)\nor\nreturned_tuple = wifi.add(h1, return_mobilityhelper=True)\nmobilityhelper = returned_tuple[1]\nThe other way is to modify a parameter (a list)\ndef add( self, node, port=None, intfName=None, mode=None, out_mobilityhelper=None):\n    ...\n    if hasattr(out_mobilityhelper, \"append\"):  \n        out_mobilityhelper.append(mobilityhelper)\n    return tb\nIt's still compatible with your old code but you can pass a list to the parameter and then extract your mobilityhelper\nmobhelp_list = []\nwifi.add(h1, out_mobilityhelper=mobhelp_list)\nmobilityhelper = mobhelp_list[0]"
  },
  {
    "url": "https://stackoverflow.com/questions/35319085/ns-3-802-11e-edca-txop-specific-mac-layer",
    "title": "ns-3 802.11e EDCA TXOP, Specific Mac Layer",
    "question": "I'm ns-3 newbie and I want to simulate with 802.11e EDCA mac layer for TXOP.\nI can find some simple example about point to point,\nwith\nPointToPointHelper\nAnd\nUdpEcho(Client/Server)Helper\nclasses.\nI could also get a fact that there are\nCsmaHelper\nclass and wifi/model/edca_txop.cc file.\nBut I couldn't find how to simulate with 802.11e mac layer.\nI would not know which application class is used, or which helper class is used, exactly.\nSo If you guys have some knowledge, may I ask you to tell me?\nIf it is difficult, could you give some simple example please? then I will try to understand how to use, which class can be used.\nIf this ask is rude, then give me some link for how to use 802.11e edca please. And also teach me rule of this site and netiquette also please, if It is ok.",
    "answer": "Quoting the NS-3\nDocumentation\nFor IEEE 802.11e\nQoS-based EDCA and queueing extensions of 802.11e\nan attribute QosSupported that allows configuration of 802.11e/WMM-style QoS support\nThe\nns3::DcaTxop\nobject is used high MACs that are not QoS-enabled, and for transmission of frames (e.g., of type Management) that the standard says should access the medium using the DCF.\nns3::EdcaTxopN\nis is used by QoS-enabled high MACs and also performs 802.11n-style MSDU aggregation.\nFor scope and limitations.\nAt the MAC layer, most of the main functions found in deployed Wi-Fi\nequipment for 802.11a/b/e/g are implemented, but there are scattered\ninstances where some limitations in the models exist. Most notably,\n802.11n/ac configurations are not supported by adaptive rate controls; only the so-called ConstantRateWifiManager can be used by those\nstandards at this time. Support for 802.11n and ac is evolving. Some\nadditional details are as follows:\n802.11g does not support 9 microseconds slot\n802.11e TXOP is not supported\nBSSBasicRateSet for 802.11b has been assumed to be 1-2 Mbit/s\nBSSBasicRateSet for 802.11a/g has been assumed to be 6-12-24 Mbit/s\ncases where RTS/CTS and ACK are transmitted using HT formats are not supported"
  },
  {
    "url": "https://stackoverflow.com/questions/34963798/debugging-using-gdb",
    "title": "Debugging using GDB",
    "question": "I am trying to get a bug out of my ns-3 (networking simulation software) program.\nI run it under gdb:\nProgram received signal SIGSEGV, Segmentation fault.\n0x00007ffff4850195 in ns3::MpTcpBulkSendApplication::StartApplication (this=0x706850) at ../src/applications/model/mp-tcp-bulk-send-application.cc:170\n170       m_socket->Bind();\n(gdb) bt\n#0  0x00007ffff4850195 in ns3::MpTcpBulkSendApplication::StartApplication (this=0x706850) at ../src/applications/model/mp-tcp-bulk-send-application.cc:170\n#1  0x00007ffff09f9b45 in ns3::EventImpl* ns3::MakeEvent<void (ns3::Application::*)(), ns3::Application*>(void (ns3::Application::*)(), ns3::Application*)::EventMemberImpl0::Notify() (this=0x62f440) at ./ns3/make-event.h:94\n#2  0x00007ffff02e90ef in ns3::EventImpl::Invoke (this=0x62f440) at ../src/core/model/event-impl.cc:45\n#3  0x00007ffff02ee3a9 in ns3::DefaultSimulatorImpl::ProcessOneEvent (this=0x6d2d00) at ../src/core/model/default-simulator-impl.cc:141\n#4  0x00007ffff02ee7ac in ns3::DefaultSimulatorImpl::Run (this=0x6d2d00) at ../src/core/model/default-simulator-impl.cc:194\n#5  0x00007ffff02e9ff5 in ns3::Simulator::Run () at ../src/core/model/simulator.cc:161\n#6  0x0000000000410640 in main (argc=1, argv=0x7fffffffdc58) at ../scratch/doordi3.cc:188\nI can't understand what is happening, what gives the error. Any help would be welcome.\nThanks.\nThis function is the place from where error is coming:\n// Application Methods\nvoid MpTcpBulkSendApplication::StartApplication (void) // Called at time specified by Start\n{\n  NS_LOG_FUNCTION (this);\n  //NS_LOG_UNCOND(Simulator::Now().GetSeconds() << \" StartApplication -> Node-FlowId: {\" << GetNode()->GetId() <<\"-\" << m_flowId<< \"} MaxBytes: \" << m_maxBytes << \" F-Type: \" << m_flowType << \" S-Time: \" << m_simTime);\n  // Create the socket if not already\n  if (!m_socket)\n     { cout<<\"Going to Bind\"<<endl;\n      //m_socket = CreateObject<MpTcpSocketBase>(GetNode()); //m_socket = Socket::CreateSocket (GetNode (), m_tid);\n      m_socket = DynamicCast<MpTcpSocketBase>(Socket::CreateSocket (GetNode (), m_tid));\n      m_socket->Bind();\n      //m_socket->SetMaxSubFlowNumber(m_subflows);\n      m_socket->SetFlowType(m_flowType);\n      m_socket->SetOutputFileName(m_outputFileName);\n      int result = m_socket->Connect(m_peer);\n      if (result == 0)\n        {\n          m_socket->SetFlowId(m_flowId);\n          m_socket->SetDupAckThresh(m_dupack);\n          m_socket->SetConnectCallback(MakeCallback(&MpTcpBulkSendApplication::ConnectionSucceeded, this),MakeCallback(&MpTcpBulkSendApplication::ConnectionFailed, this));\n          m_socket->SetDataSentCallback(MakeCallback(&MpTcpBulkSendApplication::DataSend, this));\n          m_socket->SetCloseCallbacks (MakeCallback (&MpTcpBulkSendApplication::HandlePeerClose, this),MakeCallback (&MpTcpBulkSendApplication::HandlePeerError, this));\n          //m_socket->SetSendCallback(MakeCallback(&MpTcpBulkSendApplication::DataSend, this));\n        }\n      else\n        {\n          NS_LOG_UNCOND(\"Connection is failed\");\n        }\n    }\n  if (m_connected)\n    { \n      SendData ();\n    }\n}",
    "answer": "In the comments you indicated that printing out the value of the pointer produces a 0. So that's pretty much your answer. The code is attempting to dereference a null pointer.\nYou obtained this pointer from some library function whose purpose, based on the context, is to create a socket. If you were to check the documentation of your library function, you will find an explanation that a null pointer gets returned if the socket cannot be created for some reason.\nSo, you have two follow-up courses of action:\n1) Investigate why the socket could not be created.\n2) Take this as a lesson learned: whenever you are calling a library function, you must check its documentation. If the library function indicates that it could possibly fail in its mission, and return a value, or some indication of some sorts that the operation has failed, your code must check for it, and take the appropriate action. You cannot assume that the library function will always succeed. Otherwise your code will fail in some mysterious fashion, and you will be forced to go to some web site and ask strangers to help you. And you don't obviously want to do that. You want to be able to figure out your bugs all by yourself."
  },
  {
    "url": "https://stackoverflow.com/questions/34664950/error-in-a-ns-3-simulation",
    "title": "Error in a ns-3 simulation?",
    "question": "I am trying to run a simulation but I keep getting some kind of error. I am not an expert on C++, but I think it's due to header file include. I am getting the following error:\nerror: ISO C++ forbids declaration of ‘type name’ with no type [-fpermissive]\n void OutInterest(Ptr<const ns3::ndn::InterestHeader> interestHeader,Ptr<const ns3::ndn::Face> face) {\n                            ^\n../scratch/vndn_simulation.cc:87:52: error: template argument 1 is invalid\n void OutInterest(Ptr<const ns3::ndn::InterestHeader> interestHeader,Ptr<const ns3::ndn::Face> face) {\n                                                    ^\n../scratch/vndn_simulation.cc:87:28: error: ISO C++ forbids declaration of ‘type name’ with no type [-fpermissive]\n void OutInterest(Ptr<const ns3::ndn::InterestHeader> interestHeader,Ptr<const ns3::ndn::Face> face) {\nAny idea on how to solve this error?",
    "answer": "It says here:\nclass NameComponents;\n       ^\nIn file included from ./ns3/ndn-v2v-net-device-face.h:31:0,\n                 from ../scratch/vndn_simulation.cc:15:\n./ns3/ndn-header-helper.h:34:21: note: ‘ns3::ndn::NameComponents’ has a previous declaration here\n        typedef Name NameComponents;\n                     ^\nthat you cannot forward declare\nNameComponents\nbecause the compiler has already seen that it is a\ntypedef\nand not a class."
  },
  {
    "url": "https://stackoverflow.com/questions/34639446/how-to-solve-the-permission-for-ns3-hg",
    "title": "How to solve the permission for NS3 hg",
    "question": "I am trying to install ns3 in my Mac os 10.10.3 and when I typed\n./download.py\nI got the following message:\nUpdating ns-3 branch\n =>  hg --cwd ns-3-dev pull -u\nnot trusting file /Users/username/Documents/ns-3-allinone/ns-3-dev/.hg/hgrc from untrusted user username, group staff\nnot trusting file /Users/username/Documents/ns-3-allinone/ns-3-dev/.hg/hgrc from untrusted user username, group staff\nabort: repository default not found!\nTraceback (most recent call last):\n  File \"./download.py\", line 242, in <module>\n    sys.exit(main())\n  File \"./download.py\", line 198, in main\n    ns3_dir = get_ns3(options.ns3_branch)\n  File \"./download.py\", line 29, in get_ns3\n    run_command(['hg', '--cwd', ns3_dir, 'pull', '-u'])\n  File \"/Users/username/Documents/ns-3-allinone/util.py\", line 25, in run_command\n    raise CommandError(\"Command %r exited with code %i\" % (argv, retval))\nutil.CommandError: Command ['hg', '--cwd', 'ns-3-dev', 'pull', '-u'] exited with code 255\nI dont know how to activate permission for ns3 hg.",
    "answer": "To avoid your problem, I think you need to put:\n[trusted]\nusers = root\nin the\n/Users/username/Documents/ns-3-allinone/ns-3-dev/.hg/hgrc\nfile, this should work.\nFor additional information please read the\nhelp on trust in Mercurial\nand make sure that you've set a correct trust settings."
  },
  {
    "url": "https://stackoverflow.com/questions/34300936/transport-layer-end-to-end-rate-control-in-ns-3",
    "title": "Transport layer end-to-end rate control in ns-3",
    "question": "I am looking for an end-to-end rate control for an application that uses UDP. What can I use/implement for that?\nI couldn't find any of the RTP and DCCP implemented.",
    "answer": "You can use linux kernel implementation of DCCP through\nDCE\n."
  },
  {
    "url": "https://stackoverflow.com/questions/33949888/ns-3-how-to-change-node-position-during-simulation",
    "title": "NS-3: How to change node position during simulation?",
    "question": "I am trying to model in NS-3 some nodes moving with constant vertical velocity inside a rectangle.\nProblem\n: I have to add the feature that, when a node goes beyond y=2500, its x-position abruptly changes to its x-position + 257. This is what I have tried so far:\nNodeContainer nodes;\nnodes.Create (25);\nMobilityHelper mobility;\nmobility.SetPositionAllocator (\"ns3::GridPositionAllocator\",\n                             \"MinX\", DoubleValue (0.0),\n                             \"MinY\", DoubleValue (0.0),\n                             \"DeltaX\", DoubleValue (500),\n                             \"DeltaY\", DoubleValue (500),\n                             \"GridWidth\", UintegerValue (5),\n                             \"LayoutType\", StringValue (\"RowFirst\"));\n\nmobility.SetMobilityModel (\"ns3::ConstantVelocityMobilityModel\");\nmobility.Install (nodes);\nfor (uint n=0 ; n < nodes.GetN() ; n++)\n {\n    Ptr<ConstantVelocityMobilityModel> mob = nodes.Get(n)->GetObject<ConstantVelocityMobilityModel>();\n    mob->SetVelocity(Vector(0, 10, 0));        \n }\nfor (uint n=0 ; n < satellites.GetN() ; n++)\n {\n    Ptr<ConstantVelocityMobilityModel> cvMob = satellites.Get(n)->GetObject<ConstantVelocityMobilityModel>();\n    Ptr<MobilityModel> mob = satellites.Get(n)->GetObject<MobilityModel>();\n    Vector m_position = mob->GetPosition();\n    Vector m_velocity = mob->GetVelocity();\n    if (m_position.y > 2500) \n        {\n           m_position.x += 257;\n           m_velocity.y *= -1;\n           cvMob->SetVelocity(m_velocity);\n           mob->SetPosition(m_position);\n        }\n }\nThis last for loop is not working at all! How should I implement the feature into the current script?\nPS: Since I am new to NS-3, I do not want to risk modifying any NS-3 source file.",
    "answer": "what you need to do is to move the content of your second loop in a 'scheduled' method (e.g. CheckBound).\nvoid CheckBound(Ptr< ConstantVelocityMobilityModel > mob ){\n    Vector m_position = mob->GetPosition();\n    Vector m_velocity = mob->GetVelocity();\n    if (m_position.y > 2500) \n        {\n           m_position.x += 257;\n           m_velocity.y *= -1;\n           mob->SetVelocity(m_velocity);\n           mob->SetPosition(m_position);\n        }\n}\nThen in your main you need to estimate when this has to be called. Doing simple math calculations, we estimate the Dy which is the distance to your 2500 limit and the time it is required Dt = Dy/speed. \ne.g.\nfor (uint n=0 ; n < satellites.GetN() ; n++)\n {\n    Ptr<ConstantVelocityMobilityModel> cvMob = satellites.Get(n)->GetObject<ConstantVelocityMobilityModel>();\n    Vector m_position = cvMob->GetPosition();\n    Vector m_speed = cvMob->GetVelocity();\n    double Dy = 2500 - m_position.y;\n    double Dt = Dy/m_speed.y; \n    Simulator::Schedule(Seconds(Dt), MakeCallback(&CheckBound, cvMob));\n }"
  },
  {
    "url": "https://stackoverflow.com/questions/33949231/how-to-implement-multiple-channels-in-wifi-module-of-ns3",
    "title": "How to implement multiple channels in wifi module of ns3",
    "question": "My objective is to create multiple link/channels to connect with different wifi nodes surrounding it. In the example \"wifi-simple-adhoc-grid\", only one channel per wifi node is created. How can I extend this to multiple channels?",
    "answer": "There are two options:\ninstall multiple NetDevices. This configuration is known as\nmulti-radio scenario.\nhave a look at the WAVE module that has\nsupport for multi-channel, implementing the IEEE 1609.4. This\ninstalls single radio with multi-channel."
  },
  {
    "url": "https://stackoverflow.com/questions/33537663/create-a-wireless-link-between-two-nodes-in-ns3",
    "title": "Create a Wireless Link between two nodes in ns3",
    "question": "I have to build a topology where 2 nodes are connected via the wifi network or cellular network.\nIn ns-3 I can't find examples to do so.\nHow could I build the topology ?",
    "answer": "NS3 has only 4G network modules, WiMax and LTE. NS3 has no 2G or 3G modules.\nHere is the example to create topology of a source node sending UDP packet to a sink node with combination of cellular network and Wifi Network.\nLTE Network + Wifi Network\n#include \"ns3/lte-helper.h\"\n#include \"ns3/epc-helper.h\"\n\n#include \"ns3/core-module.h\"\n#include \"ns3/point-to-point-module.h\"\n#include \"ns3/wifi-module.h\"\n#include \"ns3/csma-module.h\"\n#include \"ns3/network-module.h\"\n#include \"ns3/applications-module.h\"\n#include \"ns3/mobility-module.h\"\n#include \"ns3/config-store-module.h\"\n#include \"ns3/wimax-module.h\"\n#include \"ns3/internet-module.h\"\n#include \"ns3/global-route-manager.h\"\n#include \"ns3/ipcs-classifier-record.h\"\n#include \"ns3/service-flow.h\"\n#include <iostream>\n#include \"ns3/ipv4-global-routing-helper.h\"\n#include \"ns3/mobility-module.h\"\n#include \"ns3/lte-module.h\"\n#include \"ns3/point-to-point-helper.h\"\n#include <iomanip>\n#include <string>\n#include <fstream>\n#include <vector>\n\nNS_LOG_COMPONENT_DEFINE (\"WimaxSimpleExample\");\n\nusing namespace ns3;\n\n\n\nint main (int argc, char *argv[])\n{\nConfig::SetDefault (\"ns3::LteAmc::AmcModel\", EnumValue (LteAmc::PiroEW2010));\n  bool verbose = false;\n\n  int duration = 500, schedType = 0;\n\n\n  uint16_t numberOfUEs=2;               //Default number of ues attached to each eNodeB         \n\n  Ptr<LteHelper> lteHelper;     //Define LTE    \n  Ptr<EpcHelper>  epcHelper;    //Define EPC\n\n  NodeContainer remoteHostContainer;            //Define the Remote Host\n  NetDeviceContainer internetDevices;   //Define the Network Devices in the Connection between EPC and the remote host\n\n  Ptr<Node> pgw;                                //Define the Packet Data Network Gateway(P-GW)  \n  Ptr<Node> remoteHost;         //Define the node of remote Host\n\n  InternetStackHelper internet;                 //Define the internet stack     \n  PointToPointHelper p2ph;                              //Define Connection between EPC and the Remote Host\n  Ipv4AddressHelper ipv4h;                              //Ipv4 address helper\n  Ipv4StaticRoutingHelper ipv4RoutingHelper;    //Ipv4 static routing helper    \n  Ptr<Ipv4StaticRouting> remoteHostStaticRouting;\n\n  Ipv4InterfaceContainer internetIpIfaces;      //Ipv4 interfaces\n\n\n\n\n  CommandLine cmd;\n  cmd.AddValue (\"scheduler\", \"type of scheduler to use with the network devices\", schedType);\n  cmd.AddValue (\"duration\", \"duration of the simulation in seconds\", duration);\n  cmd.AddValue (\"verbose\", \"turn on all WimaxNetDevice log components\", verbose);\n  cmd.Parse (argc, argv);\n  LogComponentEnable (\"UdpClient\", LOG_LEVEL_INFO);\n  LogComponentEnable (\"UdpServer\", LOG_LEVEL_INFO);\n  //LogComponentEnable (\"UdpEchoClientApplication\", LOG_LEVEL_INFO);\n  //LogComponentEnable (\"UdpEchoServerApplication\", LOG_LEVEL_INFO);\n\n  NodeContainer ssNodes;\n  NodeContainer bsNodes;\n\n  ssNodes.Create (2);\n  bsNodes.Create (1);\n\n\nuint32_t nCsma = 3;\n\n  NodeContainer p2pNodes;\n  p2pNodes.Create (2);\n\n  PointToPointHelper pointToPoint;\n  pointToPoint.SetDeviceAttribute (\"DataRate\", StringValue (\"5Mbps\"));\n  pointToPoint.SetChannelAttribute (\"Delay\", StringValue (\"2ms\"));\n\n  NetDeviceContainer p2pDevices;\n  p2pDevices = pointToPoint.Install (p2pNodes);\n\n  NodeContainer csmaNodes;\n  csmaNodes.Add (p2pNodes.Get (1));\n  csmaNodes.Create (nCsma);\n\n  CsmaHelper csma;\n  csma.SetChannelAttribute (\"DataRate\", StringValue (\"100Mbps\"));\n  csma.SetChannelAttribute (\"Delay\", TimeValue (NanoSeconds (6560)));\n\n  NetDeviceContainer csmaDevices;\n  csmaDevices = csma.Install (csmaNodes);\n\n  NodeContainer wifiApNode = p2pNodes.Get (0);\n\n  YansWifiChannelHelper channel = YansWifiChannelHelper::Default ();\n  YansWifiPhyHelper phy = YansWifiPhyHelper::Default ();\n  phy.SetChannel (channel.Create ());\n\n  WifiHelper wifi = WifiHelper::Default ();\n  wifi.SetRemoteStationManager (\"ns3::AarfWifiManager\");\n\n  NqosWifiMacHelper mac = NqosWifiMacHelper::Default ();\n\n  Ssid ssid = Ssid (\"ns-3-ssid\");\n  mac.SetType (\"ns3::StaWifiMac\",\n           \"Ssid\", SsidValue (ssid),\n           \"ActiveProbing\", BooleanValue (false));\n\n  NetDeviceContainer staDevices;\n  staDevices = wifi.Install (phy, mac, ssNodes);\n\n  mac.SetType (\"ns3::ApWifiMac\",\n           \"Ssid\", SsidValue (ssid));\n\n  NetDeviceContainer apDevices;\n  apDevices = wifi.Install (phy, mac, wifiApNode);\n\n  MobilityHelper mobility1;\n\n  mobility1.SetPositionAllocator (\"ns3::GridPositionAllocator\",\n                             \"MinX\", DoubleValue (0.0),\n                             \"MinY\", DoubleValue (0.0),\n                             \"DeltaX\", DoubleValue (5.0),\n                             \"DeltaY\", DoubleValue (10.0),\n                             \"GridWidth\", UintegerValue (3),\n                             \"LayoutType\", StringValue (\"RowFirst\"));\n\n\n\n\n  mobility1.SetMobilityModel (\"ns3::ConstantPositionMobilityModel\");\n  mobility1.Install (wifiApNode);\n(wifiApNode.Get(0) -> GetObject<ConstantPositionMobilityModel>()) -> SetPosition(Vector(100.0, 501.0, 0.0));\n  InternetStackHelper stack1;\n  stack1.Install (csmaNodes);\n  stack1.Install (wifiApNode);\n  stack1.Install (ssNodes);\n\n  Ipv4AddressHelper address1;\n\n  address1.SetBase (\"11.1.1.0\", \"255.255.255.0\");\n  Ipv4InterfaceContainer p2pInterfaces;\n  p2pInterfaces = address1.Assign (p2pDevices);\n\n  address1.SetBase (\"11.1.2.0\", \"255.255.255.0\");\n  Ipv4InterfaceContainer csmaInterfaces;\n  csmaInterfaces = address1.Assign (csmaDevices);\n\n  address1.SetBase (\"11.1.3.0\", \"255.255.255.0\");\n  address1.Assign (staDevices);\n  address1.Assign (apDevices);\n\n  UdpEchoServerHelper echoServer (9);\n\n  ApplicationContainer serverApps1 = echoServer.Install (csmaNodes.Get (nCsma));\n  serverApps1.Start (Seconds (1.0));\n  serverApps1.Stop (Seconds (duration+0.1));\n\n  UdpEchoClientHelper echoClient (csmaInterfaces.GetAddress (nCsma), 9);\n  echoClient.SetAttribute (\"MaxPackets\", UintegerValue (1000));\n  echoClient.SetAttribute (\"Interval\", TimeValue (Seconds (1.)));\n  echoClient.SetAttribute (\"PacketSize\", UintegerValue (1024));\n\n  ApplicationContainer clientApps1 = \n    echoClient.Install (ssNodes.Get (0));\n  clientApps1.Start (Seconds (2.0));\n  clientApps1.Stop (Seconds (duration+0.1));\n\n  Ipv4GlobalRoutingHelper::PopulateRoutingTables ();\n\n\n  //pointToPoint.EnablePcapAll (\"third\");\n  phy.EnablePcap (\"third\", apDevices.Get (0));\n  //csma.EnablePcap (\"third\", csmaDevices.Get (0), true);\n\n\n\n\n    lteHelper = CreateObject<LteHelper> ();\n    epcHelper = CreateObject<EpcHelper> ();\n\n    lteHelper->SetEpcHelper (epcHelper);\n    lteHelper->SetSchedulerType(\"ns3::RrFfMacScheduler\");\n    lteHelper->SetAttribute (\"PathlossModel\",\n                           StringValue (\"ns3::FriisPropagationLossModel\"));\n      pgw = epcHelper->GetPgwNode ();\n\n    remoteHostContainer.Create (1);\n    remoteHost = remoteHostContainer.Get (0);\n    internet.Install (remoteHostContainer);\n\n      p2ph.SetDeviceAttribute (\"DataRate\", DataRateValue (DataRate (\"100Gb/s\")));\n      p2ph.SetDeviceAttribute (\"Mtu\", UintegerValue (1500));\n      p2ph.SetChannelAttribute (\"Delay\", TimeValue (Seconds (0.010))); \n      internetDevices = p2ph.Install (pgw, remoteHost);\n\n      ipv4h.SetBase (\"1.0.0.0\", \"255.0.0.0\");\n      internetIpIfaces = ipv4h.Assign (internetDevices);\n\n      remoteHostStaticRouting = ipv4RoutingHelper.GetStaticRouting (remoteHost->GetObject<Ipv4> ());\n      remoteHostStaticRouting->AddNetworkRouteTo (Ipv4Address (\"7.0.0.0\"), Ipv4Mask (\"255.0.0.0\"), 1);\n\n      std::cout << \"2. Installing LTE+EPC+remotehost. Done!\" << std::endl;\n\n\nMobilityHelper mobility;\n  Ptr<ListPositionAllocator> positionAlloc;\n  positionAlloc = CreateObject<ListPositionAllocator> ();\n\n  positionAlloc->Add (Vector (0.0, 500.0, 0.0)); //STA\n\n  mobility.SetPositionAllocator (positionAlloc);\n  mobility.SetMobilityModel (\"ns3::ConstantVelocityMobilityModel\");  \n  mobility.Install(ssNodes.Get(0));\n\n  Ptr<ConstantVelocityMobilityModel> cvm = ssNodes.Get(0)->GetObject<ConstantVelocityMobilityModel>();\n  cvm->SetVelocity(Vector (5, 0, 0)); //move to left to right 10.0m/s\n\n  positionAlloc = CreateObject<ListPositionAllocator> ();\n\n  positionAlloc->Add (Vector (0.0, 500.0, 10.0)); //MAG1AP\n  positionAlloc->Add (Vector (0.0, 510.0, 0.0));  //MAG2AP\n\n  mobility.SetPositionAllocator (positionAlloc);\n  mobility.SetMobilityModel (\"ns3::ConstantPositionMobilityModel\");\n\n  mobility.Install (NodeContainer(bsNodes.Get(0),ssNodes.Get(1)));\n\n\n\n\n\nNetDeviceContainer ssDevs, bsDevs;\n\n            bsDevs = lteHelper->InstallEnbDevice (bsNodes);\n            ssDevs=lteHelper->InstallUeDevice (ssNodes);\n\n            for (uint16_t j=0; j < numberOfUEs; j++)\n            {\n                    lteHelper->Attach (ssDevs.Get(j), bsDevs.Get(0));  \n            }\n\n\n            Ipv4InterfaceContainer iueIpIface;\n            iueIpIface = epcHelper->AssignUeIpv4Address (NetDeviceContainer (ssDevs));\n\n  lteHelper->ActivateEpsBearer (ssDevs, EpsBearer (EpsBearer::NGBR_VIDEO_TCP_DEFAULT), EpcTft::Default ());\n\n\n\nUdpServerHelper udpServer;\n  ApplicationContainer serverApps;\n  UdpClientHelper udpClient;\n  ApplicationContainer clientApps;\n\n  udpServer = UdpServerHelper (100);\n\n  serverApps = udpServer.Install (ssNodes.Get (0));\n  serverApps.Start (Seconds (6));\n  serverApps.Stop (Seconds (duration));\n\n  udpClient = UdpClientHelper (iueIpIface.GetAddress (0), 100);\n  udpClient.SetAttribute (\"MaxPackets\", UintegerValue (200000));\n  udpClient.SetAttribute (\"Interval\", TimeValue (Seconds (0.004)));\n  udpClient.SetAttribute (\"PacketSize\", UintegerValue (1024));\n\n  clientApps = udpClient.Install (remoteHost);\n  clientApps.Start (Seconds (6));\n  clientApps.Stop (Seconds (duration));\n    lteHelper->EnableTraces ();\n\n\n\n\n  NS_LOG_INFO (\"Starting simulation.....\");\nSimulator::Stop(Seconds(duration));\n\n  Simulator::Run ();\n\n\n\n\n\n  Simulator::Destroy ();\n  NS_LOG_INFO (\"Done.\");\n\n  return 0;\n}\nWiMax Network + Wifi Network\n#include \"ns3/core-module.h\"\n#include \"ns3/point-to-point-module.h\"\n#include \"ns3/wifi-module.h\"\n#include \"ns3/csma-module.h\"\n#include \"ns3/network-module.h\"\n#include \"ns3/applications-module.h\"\n#include \"ns3/mobility-module.h\"\n#include \"ns3/config-store-module.h\"\n#include \"ns3/wimax-module.h\"\n#include \"ns3/internet-module.h\"\n#include \"ns3/global-route-manager.h\"\n#include \"ns3/ipcs-classifier-record.h\"\n#include \"ns3/service-flow.h\"\n#include <iostream>\n\nNS_LOG_COMPONENT_DEFINE (\"WimaxSimpleExample\");\n\nusing namespace ns3;\n\nint main (int argc, char *argv[])\n{\n  bool verbose = false;\n\n  int duration = 1000, schedType = 0;\n  WimaxHelper::SchedulerType scheduler = WimaxHelper::SCHED_TYPE_SIMPLE;\n\n  CommandLine cmd;\n  cmd.AddValue (\"scheduler\", \"type of scheduler to use with the network devices\", schedType);\n  cmd.AddValue (\"duration\", \"duration of the simulation in seconds\", duration);\n  cmd.AddValue (\"verbose\", \"turn on all WimaxNetDevice log components\", verbose);\n  cmd.Parse (argc, argv);\n  LogComponentEnable (\"UdpClient\", LOG_LEVEL_INFO);\n  LogComponentEnable (\"UdpServer\", LOG_LEVEL_INFO);\n  //LogComponentEnable (\"UdpEchoClientApplication\", LOG_LEVEL_INFO);\n  //LogComponentEnable (\"UdpEchoServerApplication\", LOG_LEVEL_INFO);\n\n  switch (schedType)\n    {\n    case 0:\n      scheduler = WimaxHelper::SCHED_TYPE_SIMPLE;\n      break;\n    case 1:\n      scheduler = WimaxHelper::SCHED_TYPE_MBQOS;\n      break;\n    case 2:\n      scheduler = WimaxHelper::SCHED_TYPE_RTPS;\n      break;\n    default:\n      scheduler = WimaxHelper::SCHED_TYPE_SIMPLE;\n    }\n\n  NodeContainer ssNodes;\n  NodeContainer bsNodes;\n\n  ssNodes.Create (2);\n  bsNodes.Create (1);\n\n\nuint32_t nCsma = 3;\n\n  NodeContainer p2pNodes;\n  p2pNodes.Create (2);\n\n  PointToPointHelper pointToPoint;\n  pointToPoint.SetDeviceAttribute (\"DataRate\", StringValue (\"5Mbps\"));\n  pointToPoint.SetChannelAttribute (\"Delay\", StringValue (\"2ms\"));\n\n  NetDeviceContainer p2pDevices;\n  p2pDevices = pointToPoint.Install (p2pNodes);\n\n  NodeContainer csmaNodes;\n  csmaNodes.Add (p2pNodes.Get (1));\n  csmaNodes.Create (nCsma);\n\n  CsmaHelper csma;\n  csma.SetChannelAttribute (\"DataRate\", StringValue (\"100Mbps\"));\n  csma.SetChannelAttribute (\"Delay\", TimeValue (NanoSeconds (6560)));\n\n  NetDeviceContainer csmaDevices;\n  csmaDevices = csma.Install (csmaNodes);\n\n  NodeContainer wifiApNode = p2pNodes.Get (0);\n\n  YansWifiChannelHelper channel = YansWifiChannelHelper::Default ();\n  YansWifiPhyHelper phy = YansWifiPhyHelper::Default ();\n  phy.SetChannel (channel.Create ());\n\n  WifiHelper wifi = WifiHelper::Default ();\n  wifi.SetRemoteStationManager (\"ns3::AarfWifiManager\");\n\n  NqosWifiMacHelper mac = NqosWifiMacHelper::Default ();\n\n  Ssid ssid = Ssid (\"ns-3-ssid\");\n  mac.SetType (\"ns3::StaWifiMac\",\n           \"Ssid\", SsidValue (ssid),\n           \"ActiveProbing\", BooleanValue (false));\n\n  NetDeviceContainer staDevices;\n  staDevices = wifi.Install (phy, mac, ssNodes);\n\n  mac.SetType (\"ns3::ApWifiMac\",\n           \"Ssid\", SsidValue (ssid));\n\n  NetDeviceContainer apDevices;\n  apDevices = wifi.Install (phy, mac, wifiApNode);\n\n  MobilityHelper mobility1;\n\n  mobility1.SetPositionAllocator (\"ns3::GridPositionAllocator\",\n                             \"MinX\", DoubleValue (0.0),\n                             \"MinY\", DoubleValue (0.0),\n                             \"DeltaX\", DoubleValue (5.0),\n                             \"DeltaY\", DoubleValue (10.0),\n                             \"GridWidth\", UintegerValue (3),\n                             \"LayoutType\", StringValue (\"RowFirst\"));\n\n\n\n\n  mobility1.SetMobilityModel (\"ns3::ConstantPositionMobilityModel\");\n  mobility1.Install (wifiApNode);\n(wifiApNode.Get(0) -> GetObject<ConstantPositionMobilityModel>()) -> SetPosition(Vector(800.0, 0.0, 0.0));\n  InternetStackHelper stack1;\n  stack1.Install (csmaNodes);\n  stack1.Install (wifiApNode);\n  stack1.Install (ssNodes);\n\n  Ipv4AddressHelper address1;\n\n  address1.SetBase (\"11.1.1.0\", \"255.255.255.0\");\n  Ipv4InterfaceContainer p2pInterfaces;\n  p2pInterfaces = address1.Assign (p2pDevices);\n\n  address1.SetBase (\"11.1.2.0\", \"255.255.255.0\");\n  Ipv4InterfaceContainer csmaInterfaces;\n  csmaInterfaces = address1.Assign (csmaDevices);\n\n  address1.SetBase (\"11.1.3.0\", \"255.255.255.0\");\n  address1.Assign (staDevices);\n  address1.Assign (apDevices);\n\n  UdpEchoServerHelper echoServer (9);\n\n  ApplicationContainer serverApps1 = echoServer.Install (csmaNodes.Get (nCsma));\n  serverApps1.Start (Seconds (1.0));\n  serverApps1.Stop (Seconds (duration));\n\n  UdpEchoClientHelper echoClient (csmaInterfaces.GetAddress (nCsma), 9);\n  echoClient.SetAttribute (\"MaxPackets\", UintegerValue (1000));\n  echoClient.SetAttribute (\"Interval\", TimeValue (Seconds (1.)));\n  echoClient.SetAttribute (\"PacketSize\", UintegerValue (1024));\n\n  ApplicationContainer clientApps1 = \n    echoClient.Install (ssNodes.Get (0));\n  clientApps1.Start (Seconds (2.0));\n  clientApps1.Stop (Seconds (duration));\n\n  Ipv4GlobalRoutingHelper::PopulateRoutingTables ();\n\n\n  //pointToPoint.EnablePcapAll (\"third\");\n  phy.EnablePcap (\"third\", apDevices.Get (0));\n  //csma.EnablePcap (\"third\", csmaDevices.Get (0), true);\n\n\n\n\n  WimaxHelper wimax;\n\n  NetDeviceContainer ssDevs, bsDevs;\n\n  ssDevs = wimax.Install (ssNodes,\n                      WimaxHelper::DEVICE_TYPE_SUBSCRIBER_STATION,\n                      WimaxHelper::SIMPLE_PHY_TYPE_OFDM,\n                      scheduler);\n  bsDevs = wimax.Install (bsNodes, WimaxHelper::DEVICE_TYPE_BASE_STATION, WimaxHelper::SIMPLE_PHY_TYPE_OFDM, scheduler);\n\n  wimax.EnableAscii (\"bs-devices\", bsDevs);\n  wimax.EnableAscii (\"ss-devices\", ssDevs);\n\n  Ptr<SubscriberStationNetDevice> ss[2];\n\n  for (int i = 0; i < 2; i++)\n    {\n      ss[i] = ssDevs.Get (i)->GetObject<SubscriberStationNetDevice> ();\n      ss[i]->SetModulationType (WimaxPhy::MODULATION_TYPE_QAM16_12);\n    }\n\n  Ptr<BaseStationNetDevice> bs;\n\n  bs = bsDevs.Get (0)->GetObject<BaseStationNetDevice> ();\n\n\n  MobilityHelper mobility;\n  Ptr<ListPositionAllocator> positionAlloc;\n  positionAlloc = CreateObject<ListPositionAllocator> ();\n\n  positionAlloc->Add (Vector (-1061.0, 70.0, 0.0)); //STA\n\n  mobility.SetPositionAllocator (positionAlloc);\n  mobility.SetMobilityModel (\"ns3::ConstantVelocityMobilityModel\");  \n  mobility.Install(ssNodes.Get(0));\n\n  Ptr<ConstantVelocityMobilityModel> cvm = ssNodes.Get(0)->GetObject<ConstantVelocityMobilityModel>();\n  cvm->SetVelocity(Vector (5, 0, 0)); //move to left to right 10.0m/s\n\n  positionAlloc = CreateObject<ListPositionAllocator> ();\n\n  positionAlloc->Add (Vector (-0.0, 40.0, 0.0)); //MAG1AP\n  positionAlloc->Add (Vector (0.0, 40.0, 0.0));  //MAG2AP\n\n  mobility.SetPositionAllocator (positionAlloc);\n  mobility.SetMobilityModel (\"ns3::ConstantPositionMobilityModel\");\n\n  mobility.Install (NodeContainer(bsNodes.Get(0),ssNodes.Get(1)));\n\n\n  InternetStackHelper stack;\n  stack.Install (bsNodes);\n  //stack.Install (ssNodes);\n\n  Ipv4AddressHelper address;\n  address.SetBase (\"10.1.1.0\", \"255.255.255.0\");\n\n  Ipv4InterfaceContainer SSinterfaces = address.Assign (ssDevs);\n  Ipv4InterfaceContainer BSinterface = address.Assign (bsDevs);\n\n  if (verbose)\n    {\n      wimax.EnableLogComponents ();  // Turn on all wimax logging\n    }\n  /*------------------------------*/\n  UdpServerHelper udpServer;\n  ApplicationContainer serverApps;\n  UdpClientHelper udpClient;\n  ApplicationContainer clientApps;\n\n  udpServer = UdpServerHelper (100);\n\n  serverApps = udpServer.Install (ssNodes.Get (0));\n  serverApps.Start (Seconds (6));\n  serverApps.Stop (Seconds (duration));\n\n  udpClient = UdpClientHelper (SSinterfaces.GetAddress (0), 100);\n  udpClient.SetAttribute (\"MaxPackets\", UintegerValue (1200));\n  udpClient.SetAttribute (\"Interval\", TimeValue (Seconds (0.5)));\n  udpClient.SetAttribute (\"PacketSize\", UintegerValue (1024));\n\n  clientApps = udpClient.Install (ssNodes.Get (1));\n  clientApps.Start (Seconds (6));\n  clientApps.Stop (Seconds (duration));\n\n  Simulator::Stop (Seconds (duration + 0.1));\n\n  wimax.EnablePcap (\"wimax-simple-ss0\", ssNodes.Get (0)->GetId (), ss[0]->GetIfIndex ());\n  wimax.EnablePcap (\"wimax-simple-ss1\", ssNodes.Get (1)->GetId (), ss[1]->GetIfIndex ());\n  wimax.EnablePcap (\"wimax-simple-bs0\", bsNodes.Get (0)->GetId (), bs->GetIfIndex ());\n\n  IpcsClassifierRecord DlClassifierUgs (Ipv4Address (\"0.0.0.0\"),\n                                    Ipv4Mask (\"0.0.0.0\"),\n                                    SSinterfaces.GetAddress (0),\n                                    Ipv4Mask (\"255.255.255.255\"),\n                                    0,\n                                    65000,\n                                    100,\n                                    100,\n                                    17,\n                                    1);\n  ServiceFlow DlServiceFlowUgs = wimax.CreateServiceFlow (ServiceFlow::SF_DIRECTION_DOWN,\n                                                      ServiceFlow::SF_TYPE_RTPS,\n                                                      DlClassifierUgs);\n\n  IpcsClassifierRecord UlClassifierUgs (SSinterfaces.GetAddress (1),\n                                    Ipv4Mask (\"255.255.255.255\"),\n                                    Ipv4Address (\"0.0.0.0\"),\n                                    Ipv4Mask (\"0.0.0.0\"),\n                                    0,\n                                    65000,\n                                    100,\n                                    100,\n                                    17,\n                                    1);\n  ServiceFlow UlServiceFlowUgs = wimax.CreateServiceFlow (ServiceFlow::SF_DIRECTION_UP,\n                                                      ServiceFlow::SF_TYPE_RTPS,\n                                                      UlClassifierUgs);\n  ss[0]->AddServiceFlow (DlServiceFlowUgs);\n  ss[1]->AddServiceFlow (UlServiceFlowUgs);\n\n\n\n  NS_LOG_INFO (\"Starting simulation.....\");\n  Simulator::Run ();\n\n  ss[0] = 0;\n  ss[1] = 0;\n  bs = 0;\n\n  Simulator::Destroy ();\n  NS_LOG_INFO (\"Done.\");\n\n  return 0;\n}\nThe codes is belong to these Author under GPL2 :\nhttps://code.google.com/p/tesis-ns3/source/browse/trunk/lena/scratch/?r=5"
  },
  {
    "url": "https://stackoverflow.com/questions/33536305/how-to-use-attributes-in-ns3",
    "title": "How to use Attributes in ns3",
    "question": "How are values set using attributes in ns3 ? I have attributes of a class defined in a file and I try to set the in my main function. I am unable to change them.\nMy problem:\nThis is the definition:\nTypeId MpTcpSocketBase::GetTypeId(void)\n{\n  static TypeId tid = TypeId(\"ns3::MpTcpSocketBase\")\n      .SetParent<TcpSocketBase>()\n      .AddConstructor<MpTcpSocketBase>()\n      .AddAttribute(\"CongestionControl\",\n                    \"Congestion control algorithm\",\n          EnumValue(Linked_Increases),\n          MakeEnumAccessor(&MpTcpSocketBase::SetCongestionCtrlAlgo),\n          MakeEnumChecker(Uncoupled_TCPs,   \"Uncoupled_TCPs\",\n                          Fully_Coupled,    \"Fully_Coupled\",\n                          RTT_Compensator,  \"RTT_Compensator\",\n                          Linked_Increases, \"Linked_Increases\",\n                          COUPLED_INC,      \"COUPLED_INC\",\n                          COUPLED_EPSILON,  \"COUPLED_EPSILON\",\n                          COUPLED_SCALABLE_TCP, \"COUPLED_SCALABLE_TCP\",\n                          COUPLED_FULLY, \"COUPLED_FULLY\",\n                          UNCOUPLED, \"UNCOUPLED\"))\n\n      .AddAttribute(\"SchedulingAlgorithm\",\n                    \"Algorithm for data distribution between sub-flows\",\n          EnumValue(Round_Robin),\n          MakeEnumAccessor(&MpTcpSocketBase::SetDataDistribAlgo),\n          MakeEnumChecker(Round_Robin, \"Round_Robin\"))\n\n      .AddAttribute(\"PathManagement\",\n                     \"Mechanism for establishing new sub-flows\",\n          EnumValue(FullMesh),\n          MakeEnumAccessor(&MpTcpSocketBase::SetPathManager),\n          MakeEnumChecker(Default,\"Default\",\n                          FullMesh, \"FullMesh\",\n                          NdiffPorts, \"NdiffPorts\"))\n\n      .AddAttribute(\"MaxSubflows\",\n                    \"Maximum number of sub-flows per each mptcp connection\",\n          UintegerValue(8),\n          MakeUintegerAccessor(&MpTcpSocketBase::maxSubflows),\n          MakeUintegerChecker<uint8_t>())\n\n     .AddAttribute(\"RandomGap\",\n          \"Random gap between subflows setup\",\n          UintegerValue(50),\n          MakeUintegerAccessor(&MpTcpSocketBase::m_rGap),\n          MakeUintegerChecker<uint32_t>())\n\n      .AddAttribute(\"Subflows\",\n                    \"The list of sub-flows associated to this protocol.\",\n          ObjectVectorValue(),\n          MakeObjectVectorAccessor(&MpTcpSocketBase::subflows),\n          MakeObjectVectorChecker<MpTcpSocketBase>())\n\n      .AddAttribute (\"ShortFlowTCP\", \"Use TCP for short flows\",\n          BooleanValue (false),\n          MakeBooleanAccessor (&MpTcpSocketBase::m_shortFlowTCP),\n          MakeBooleanChecker())\n\n      .AddAttribute (\"AlphaPerAck\", \" Update alpha per ACK \",\n          BooleanValue (false),\n          MakeBooleanAccessor (&MpTcpSocketBase::m_alphaPerAck),\n          MakeBooleanChecker())\n\n      .AddAttribute (\"ShortPlotting\", \" Activate large flow plotting \",\n          BooleanValue (false),\n          MakeBooleanAccessor (&MpTcpSocketBase::m_shortPlotting),\n          MakeBooleanChecker())\n\n      .AddAttribute (\"LargePlotting\", \" Activate short flow plotting \",\n          BooleanValue (false),\n          MakeBooleanAccessor (&MpTcpSocketBase::m_largePlotting),\n          MakeBooleanChecker());\n\n  return tid;\n}\nThis is the use:\nConfig::SetDefault(\"ns3::Ipv4GlobalRouting::FlowEcmpRouting\", BooleanValue(true));\n  Config::SetDefault(\"ns3::TcpSocket::SegmentSize\", UintegerValue(1400));\n  Config::SetDefault(\"ns3::TcpSocket::DelAckCount\", UintegerValue(0));\n  Config::SetDefault(\"ns3::DropTailQueue::Mode\", StringValue(\"QUEUE_MODE_PACKETS\"));\n  Config::SetDefault(\"ns3::DropTailQueue::MaxPackets\", UintegerValue(100));\n  Config::SetDefault(\"ns3::TcpL4Protocol::SocketType\", TypeIdValue(MpTcpSocketBase::GetTypeId()));\n  Config::SetDefault(\"ns3::MpTcpSocketBase::MaxSubflows\", UintegerValue(8)); // Sink\n  Config::SetDefault(\"ns3::MpTcpSocketBase::CongestionControl\", StringValue(\"Uncoupled_TCPs\"));\n  //Config::SetDefault(\"ns3::MpTcpSocketBase::PathManagement\", StringValue(\"NdiffPorts\"));\nBut nothing is changing here, Is there any way I can set this values in my main function.",
    "answer": "The use of attributes is explained in the\nmanual"
  },
  {
    "url": "https://stackoverflow.com/questions/33475972/error-compiling-ns-3-waf-could-not-load-the-waf-tool-clang-compilation-databas",
    "title": "Error compiling ns-3 waf (Could not load the Waf tool 'clang_compilation_database)",
    "question": "I update my ns-3 version (including private modules) to the last release and when compiling, this is the error generated:\nmattia@pcsensori16:~/ns3-mmwave$ ./waf configure\nSetting top to                           : /home/mattia/ns3-mmwave \nSetting out to                           : /home/mattia/ns3-mmwave/build \nChecking for 'gcc' (C compiler)          : /usr/bin/gcc \nChecking for cc version                  : 4.8.4 \nChecking for 'g++' (C++ compiler)        : /usr/bin/g++ \nCould not load the Waf tool 'clang_compilation_database' from ['/home/mattia/ns3-mmwave/.waf-1.8.12-f00e5b53f6bbeab1384a38c9cc5d51f7', '/home/mattia/ns3-mmwave', '/usr/lib/python2.7', '/usr/lib/python2.7/plat-x86_64-linux-gnu', '/usr/lib/python2.7/lib-tk', '/usr/lib/python2.7/lib-old', '/usr/lib/python2.7/lib-dynload', '/usr/local/lib/python2.7/dist-packages', '/usr/lib/python2.7/dist-packages', '/usr/lib/python2.7/dist-packages/PILcompat', '/usr/lib/python2.7/dist-packages/gtk-2.0', '/usr/lib/python2.7/dist-packages/ubuntu-sso-client']\nNo module named clang_compilation_database\n(complete log in /home/mattia/ns3-mmwave/build/config.log)\nSomeone has an idea about what I'm missing?\n[EDIT: add of the config.log file]\nChecking for 'clang++' (C++ compiler)\nfind program=['clang++'] paths=['/Library/Frameworks/Python.framework/Versions/3.4/bin', '/Library/Frameworks/Python.framework/Versions/3.4/bin', '/opt/local/bin', '/opt/local/sbin', '/usr/local/bin', '/usr/bin', '/bin', '/usr/sbin', '/sbin', '/opt/X11/bin', '/Library/TeX/texbin'] var='CXX' -> ['/usr/bin/clang++']\n(tool ar is already loaded, skipping)\n/usr/bin/clang++\nfrom /Users/mattia/ns3-mmwave: Could not load the Waf tool 'clang_compilation_database' from ['/Users/mattia/ns3-mmwave/.waf-1.8.12-f00e5b53f6bbeab1384a38c9cc5d51f7', '/Users/mattia/ns3-mmwave/.waf-1.8.12-f00e5b53f6bbeab1384a38c9cc5d51f7/waflib', '/Users/mattia/ns3-mmwave', '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python27.zip', '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7', '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/plat-darwin', '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/plat-mac', '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/plat-mac/lib-scriptpackages', '/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python', '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/lib-tk', '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/lib-old', '/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/lib-dynload', '/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/PyObjC', '/Library/Python/2.7/site-packages']\nNo module named clang_compilation_database",
    "answer": "Try to remove the build folder either manually (rm -f build) or with ./waf distclean and re-configure."
  },
  {
    "url": "https://stackoverflow.com/questions/33319049/python-error-while-building-code-using-waf",
    "title": "Python Error while building code using waf",
    "question": "I had code that worked fine. I shut down my PC (Ubuntu) and then, built the same software (ns-3) and now I get the error:\nTraceback (most recent call last):\n  File \"./waf\", line 148, in <module>\n    Scripting.prepare(t, cwd, VERSION, wafdir)\n  File \"/home/ns-allinone-3.6/ns-3.6/.waf-1.5.8-12763e767c863088b8579dbeeb8265b6/wafadmin/Scripting.py\", line 102, in prepare\n    prepare_impl(t,cwd,ver,wafdir)\n  File \"/home/ns-allinone-3.6/ns-3.6/.waf-1.5.8-12763e767c863088b8579dbeeb8265b6/wafadmin/Scripting.py\", line 95, in prepare_impl\n    main()\n  File \"/home/ns-allinone-3.6/ns-3.6/.waf-1.5.8-12763e767c863088b8579dbeeb8265b6/wafadmin/Scripting.py\", line 130, in main\n    fun(ctx)\n  File \"/home/ns-allinone-3.6/ns-3.6/.waf-1.5.8-12763e767c863088b8579dbeeb8265b6/wafadmin/Scripting.py\", line 269, in build\n    bld=check_configured(bld)\n  File \"/home/ns-allinone-3.6/ns-3.6/.waf-1.5.8-12763e767c863088b8579dbeeb8265b6/wafadmin/Scripting.py\", line 219, in check_configured\n    bld.load_dirs(proj[SRCDIR],proj[BLDDIR])\n  File \"/home/ns-allinone-3.6/ns-3.6/.waf-1.5.8-12763e767c863088b8579dbeeb8265b6/wafadmin/Build.py\", line 245, in load_dirs\n    self.load()\n  File \"/home/ns-allinone-3.6/ns-3.6/.waf-1.5.8-12763e767c863088b8579dbeeb8265b6/wafadmin/Build.py\", line 78, in load\n    if f:data=cPickle.load(f)\nEOFError\nI am just amazed at this, how could 2 minutes before everything was fine and now I am screwed by this error.\nWhat should I do, I am totally bewildered. I have a deadline and suddenly this code stops, it worked fine, only change I did was to switch off my PC.",
    "answer": "NS-3.6 is a very very old ns-3 release which you are trying to build with a new system (gcc compiler, python etc). I think the only solution to solve the problem is to update the simulator to a new release.\nTry to rebuild it. First write:\nrm -rf build\nand build from scratch"
  },
  {
    "url": "https://stackoverflow.com/questions/33283109/network-simulation-tool-supporting-bluetooth",
    "title": "Network simulation tool supporting Bluetooth",
    "question": "We'd like to perform a Bluetooth network simulation.\nAs far as we have researched, Bluetooth module has not been implemented in ns-3 and ns-2 modules recommended in\nthis question\nhave not been updated for years. We have not found any other simulation tool supporting this protocol apart from\nthis mention to Qualnet\n, which I have not been able to verify on their website.\nIs there any current network simulation tool that includes a Bluetooth module or should we still use ns-2?",
    "answer": "All the Bluetooth examples in ns-2.29/ucbt-0.9.8.2a/test/ are working OK :\n$ ns-nist-pmipv6 1f.tcl\netc. etc. \n( Except tcp.tcl, which causes \"Segmentation fault\", when the old executable 'ns-nist-pmipv6' is used with a contemporary \"Linux OS\".)\nExamples are :\n1f.tcl        mr5n.tcl       pico-3mb.tcl  scat-form-law.tcl  test_inq.tcl\n2sco_inq.tcl  ms5n1.tcl      pico.tcl      tcp.tcl            test_sco.tcl\n3f.tcl        ms5n.tcl       rphsi.tcl     tdrp.tcl           test_sdp.tcl\ndsdv.tcl      multislot.tcl  rs.tcl        test_fh.tcl        udp.tcl\nCode : ns-2.29-nist-mob-022707.tgz ( + pmip6-for-ns-2.29-nist.patch )\nNIST-MOB info :\n.\nhttps://groups.google.com/forum/?fromgroups#!searchin/ns-users/nist|sort:date\n.\nhttp://www.linuxquestions.org/questions/tags/nist-mob/\nThe compat-gcc-34-**-3.4.6 compilers from CentOS ( RHEL ) which can compile the old nist-mob code have been repacked to Debian packages. Versions are available for Ubuntu 10.04 + 10.10 and for Ubuntu 11.10 .. 15.04 ."
  },
  {
    "url": "https://stackoverflow.com/questions/33218072/libxml-xmlwriter-h-not-found-after-updating-to-xcode-7-0-1-and-el-capitan",
    "title": "'libxml/xmlwriter.h' not found after updating to Xcode 7.0.1 and El Capitan",
    "question": "I just updated my MacBook to\nEl Capitan\nand I have now\nXcode 7.0.1\n. When compiling my NS-3 script, I get the following error (I didn't have before the update):\nIn file included from ../src/config-store/model/config-store.cc:11:\n    ../src/config-store/model/xml-config.h:5:10: fatal error: 'libxml/xmlwriter.h' file not found\n    #include <libxml/xmlwriter.h>\n             ^\n    1 error generated.\n    Waf: Leaving directory `/Users/marcogiordani/final-ns3-mmwave-dir/build'\n    Build failed\n     -> task in 'ns3-config-store' failed (exit status 1): \n        {task 4469735696: cxx config-store.cc -> config-store.cc.1.o}\n    ['/usr/bin/g++', '-Wall', '-Werror', '-Wno-potentially-evaluated-expression', '-Wno-unused-local-typedefs', '-fPIC', '-I.', '-I..', '-I/usr/include/libxml2', '-DNS3_ASSERT_ENABLE', '-DNS3_LOG_ENABLE', '-DHAVE_SYS_IOCTL_H=1', '-DHAVE_IF_NETS_H=1', '-DHAVE_NET_ETHERNET_H=1', '-DHAVE_SQLITE3=1', '../src/config-store/model/config-store.cc', '-c', '-o', 'src/config-store/model/config-store.cc.1.o']\nAny suggestion to this issue?",
    "answer": "To whom it may concern, I have just solved the problem by typing on the Terminal:\nxcode-select —-install\nFor some reason, when updating to Xcode 7.0.1, the CommandLineTool hadn’t been updated too, so I did it manually. Now everything works fine."
  },
  {
    "url": "https://stackoverflow.com/questions/32995782/error-building-linking-ns3-network-simulator-with-openflow",
    "title": "Error building/linking ns3 network simulator with OpenFlow",
    "question": "I'm trying to build ns-3.24.1 on Fedora 22 inside a VirtualBox VM. I am running:\n./waf configure --enable-examples --enable-tests --with-openflow=/path/to/openflow --with-pybindgen=/path/to/pybindgen\n./waf build\nI want to use OpenFlow, so I downloaded and configured/built the OFSID according to\nthese instructions\nbefore running the above configure command. The output from the configure step shows OpenFlow as 'enabled'.\nThe ns-3.24.1 build proceeds normally until it gets to the following step and spits out the subsequent error:\n[2291/2493] Linking build/src/openflow/examples/ns3.24.1-openflow-switch-debug\n./libns3.24.1-openflow-debug.so: undefined reference to `update_checksums'\ncollect2: error: ld returned 1 exit status\n...\nI.e., it appears to build everything correctly but then errors on the link step.\nApparently\nupdate_checksums\nis in [...]/ns-3.24.1/src/openflow/model/openflow-interface.h; for some reason the link step doesn't know to look here for\nopenflow-interface.h\n.\nWhat could be causing it and what can I try to fix it? FWIW I've re-downloaded both the ns-3 and OFSID sources several times to no avail.",
    "answer": "First and foremost, there is no need to install OpenFlow/Python unless you want to use OpenFlow and/or Python for your development. It is explained in the tutorial:\nRegarding the portion about modules not built:\nModules not built (see ns-3 tutorial for explanation):\nbrite          click                     openflow visualizer\nThis just means that\nsome ns-3 modules that have dependencies on outside libraries may not\nhave been built, or that the configuration specifically asked not to\nbuild them. It does not mean that the simulator did not build\nsuccessfully or that it will provide wrong results for the modules\nlisted as being built.\nAfter the 'configure' do you see that OpenFlow is enabled?\nUnder ---- Summary of optional NS-3 features: you should see:\n\"NS-3 OpenFlow Integration     :\nenabled\n\""
  },
  {
    "url": "https://stackoverflow.com/questions/32927265/where-can-i-read-what-ns3-module-needs-to-be-built",
    "title": "Where can I read what ns3 module needs to be built? [closed]",
    "question": "Closed.\nThis question is seeking recommendations for software libraries, tutorials, tools, books, or other off-site resources. It does not meet\nStack Overflow guidelines\n. It is not currently accepting answers.\nWe don’t allow questions seeking recommendations for software libraries, tutorials, tools, books, or other off-site resources. You can edit the question so it can be answered with facts and citations.\nClosed\n9 years ago\n.\nImprove this question\nI work on Windows 7 & I must use the ns3 network simulator, so I install the Cygwin emulator. I successfully download the ns3 from the official cite and install it, but six modules wasn't been installed. I think it's because when I install Cygwin, I didn't install some packages, and these ns3 modules needs in this packages. So, there was the message:\nModules not built (see ns-3 tutorial for explanation):\nbrite                     click                     fd-net-device\nopenflow                  tap-bridge                visualizer\nI found the ns3 tutorial (pdf file on the off. cite), but I can't find in these document what should I do to successfully built these modules! There is just an installation steps and some examples! I tried to run the test & I the test return me\n0 of 0 tests passed (0 passed, 0 skipped, 0 failed, 0 crashed, 0 valgrind errors)\nSo, I think I will not be able to work with ns3 for now, because no one tests can be passed!\nWhere can I read about what I must to update/install in Cygwin\n(maybe, install other version of gcc, or install java etc)\nto build more modules successfully?",
    "answer": "Those modules require another additional software besides NS3 since these modules developed by integrating/using another projects.\nYou can find how to install and using it in their respected NS3 module documentation page or NS3 Wiki\nBrite :\nhttps://www.nsnam.org/docs/models/html/brite.html\nOpenFlow :\nhttps://www.nsnam.org/docs/models/html/openflow-switch.html\nClick :\nhttps://www.nsnam.org/docs/models/html/click.html\nvisualizer :\nhttps://www.nsnam.org/wiki/PyViz\nTap-Bridge : required to build in linux based OS\nfd-net-device : required to build in linux based OS\nTapBridge and emulation features aspects depend on Linux and those components are not enabled on the Windows via Cygwin. If you want to serious work on NS3 and still need Windows, consider virtualization of a popular Linux platform\nhttps://www.nsnam.org/wiki/HOWTO_use_VirtualBox_to_run_simulations_on_Windows_machines\nand\nhttps://www.nsnam.org/wiki/HOWTO_use_VMware_to_set_up_virtual_networks_%28Windows%29\nUnless, you need these modules. You can skip it. It is not required to have it."
  },
  {
    "url": "https://stackoverflow.com/questions/32799839/ns3-c-expression-with-side-effects-will-be-evaluated-despite-being-used-as-a",
    "title": "ns3, c++, expression with side effects will be evaluated despite being used as an operand to 'typeid'",
    "question": "Something strange happens: I didn't modify any part of my ns3 c++ code, and running a compilation this is the error that appear:\n[ 815/1681] cxx: scratch/initial-scenario.cc -> build/scratch/initial-scenario.cc.1.o\nIn file included from ../scratch/initial-scenario.cc:3:\nIn file included from ./ns3/core-module.h:18:\nIn file included from ./ns3/calendar-scheduler.h:24:\nIn file included from ./ns3/scheduler.h:25:\nIn file included from ./ns3/object.h:29:\nIn file included from ./ns3/object-base.h:23:\nIn file included from ./ns3/type-id.h:25:\nIn file included from ./ns3/trace-source-accessor.h:24:\n./ns3/callback.h:1244:54: error: expression with side effects will be evaluated despite being used as an operand to 'typeid' [-Werror,-Wpotentially-evaluated-expression]\n                        \"got=\" << Demangle ( typeid (*other).name () ) << std::endl <<\n                                                     ^\n./ns3/fatal-error.h:98:32: note: expanded from macro 'NS_FATAL_ERROR'\n      std::cerr << \"msg=\\\"\" << msg << \"\\\", \";           \\\n                               ^\n1 error generated.\nI don't understand why this error come out. The strange thing is that I'm working with two similar codes in two different directories and the error appear in both but I didn't modify anything. Could be a problem of the compiler? Any suggestion?",
    "answer": "I solve the problem following what is suggested in here:\nhttps://www.nsnam.org/wiki/Ns-3.24-errata\nThe problem is related to the update of Xcode 7.0"
  },
  {
    "url": "https://stackoverflow.com/questions/32769252/ns3-programming-video-trace",
    "title": "Ns3 programming Video trace",
    "question": "I'm new to programming with ns3 and I would like to ask how can I use a video trace file (obtained from http:/trace.eas.asu.edu) with a simple network topology (like the one described in first.cc in tutorials). I've already download the trace file and put the file into the ns3-22 file.",
    "answer": "You can use the ns3::UdpTraceClient to load a trace file and send it.\nYou have to make sure that the file is formated in the proper way as described below:\nTrace files could be downloaded form :\nhttp://www2.tkn.tu-berlin.de/research/trace/ltvt.html\n(the 2 first lines of the file should be removed)\nA valid trace file is a file with 4 columns:\n-1- the first one represents the frame index\n-2- the second one indicates the type of the frame: I, P or B\n-3- the third one indicates the time on which the frame was generated by the encoder\n-4- the fourth one indicates the frame size in byte\nYou can also try the Evalvid patch. It is a bit outdated and might require some effort to port."
  },
  {
    "url": "https://stackoverflow.com/questions/32558565/rtt-variation-in-ns3",
    "title": "RTT Variation in NS3",
    "question": "How does RTT vary in ns3 ?\nI have a point to point link in which the delay and bandwidth parameters I have given, the RTT must be twice of the delay. But RTT varies , where is it changing ? How is it changing ?",
    "answer": "It can vary because of to NetDevices's buffering , TCP's efficiency, ACKs failure and many more,  even for a P2P link with configured delay and bandwidth parameters."
  },
  {
    "url": "https://stackoverflow.com/questions/32161985/analyzing-tcp-traffic",
    "title": "Analyzing TCP Traffic",
    "question": "I just ran a simulation for multipath tcp protocol sending 100,000 bytes from client to server in the network simulator 3. I got the trace file (pcap) and analyzed it in Wire Shark. The\nflow graph\nis very weird. How can ACKs be sent and received on both sides ?",
    "answer": "How can ACKs be sent and received on both sides ?\nBecause that's how TCP works.\nRFC 793\nsays:\nAcknowledgment Number:  32 bits\n\n  If the ACK control bit is set this field contains the value of the\n  next sequence number the sender of the segment is expecting to\n  receive.  Once a connection is established this is always sent.\nso, once the connection is established,\nevery single packet in the connection has the ACK bit set\n."
  },
  {
    "url": "https://stackoverflow.com/questions/32038496/ns-3-with-dce-how-to-get-input-at-runtime-working-with-my-binaries",
    "title": "NS-3 with DCE: How to get input at runtime working with my binaries",
    "question": "I'm using ns-3 with direct code execution, working on Ubuntu, and after a while, I got everything to work, but the thing is: I have four nodes with each one binary to run, and some of the binaries take input from me at runtime, via std::cin. (They will then send messages to the other nodes based on the input). I need to get this working inside the ns-3-environment and I couldn't figure out how.\nSo far, if I start my simulation and it gets to the point where a node with an application starts that is waiting for input (in an endless loop), the whole thing blocks, it doesn't start other applications, it never even stops the simulation. If I just curiously type something and hit enter, it says \"relocation error: elf-cache/0/libgcc_s.so.1: symbol dl_iterate_phdr, version GLIBC_2.2.5 not defined in file 0001.so.6 with link time reference\" and gives me an exit code 127.\nSo, naturally I would just find out how to do runtime input in ns3, but I can't find any material on this.",
    "answer": "So, I found the solution for file input finally. Maybe it's useful for someone.\nstd::ifstream config_doc(\"path/here/file.txt\", std::ifstream::binary);\nworked for me -\nif\nyou make sure that your path starts at the designated folder for the ns3-node. For example, if it's the 0th (1st) node, it has to be placed inside the folder files-0, like this:\n(...)\n/source/ns-3-dce/files-0/path/here/file.txt\n(if you use path/here/file.txt like above). The node always has its home directory in its files-x directory."
  },
  {
    "url": "https://stackoverflow.com/questions/31882187/iso-c-forbids-declaration-of-multiset-with-no-type",
    "title": "ISO C++ forbids declaration of ‘multiset’ with no type",
    "question": "I am getting this error while building a software (ns3) using waf\nIn file included from ../src/internet-stack/mp-tcp-typedefs.cc:6:\n../src/internet-stack/mp-tcp-typedefs.h:151: error: ISO C++ forbids declaration of ‘multiset’ with no type\n../src/internet-stack/mp-tcp-typedefs.h:151: error: expected ‘;’ before ‘<’ token\nIn file included from ../src/internet-stack/mp-tcp-socket-impl.cc:17:\n../src/internet-stack/mp-tcp-typedefs.h:151: error: ISO C++ forbids declaration of ‘multiset’ with no type\n../src/internet-stack/mp-tcp-typedefs.h:151: error: expected ‘;’ before ‘<’ token\nI searched for the error and the solutions say that probably I am missing a\nusing namespace std\nor\n#include <set>\nin my C++ code, but my code is not missing those. The file where the error originates\n[mp-tcp-typedefs.h]\nis\nhere\n(Line 151 has the error).\nI tried resolving the error but still, I Am getting those for a long time now.\nMy gcc/g++ version is g++ (Ubuntu/Linaro 4.4.7-8ubuntu1) 4.4.7.",
    "answer": "You should not put\nusing namespace std;\nin a header file:\nWhy is \"using namespace std;\" considered bad practice?\nYou can probably fix your code by\nmoving\nyour\nusing namespace std;\ninside your own namespace changing this:\nusing namespace std;\n\nnamespace ns3 {\nto this:\nnamespace ns3 {\n\nusing namespace std;\nBut better to remove the\nusing namespace std;\nand qualify all your standard symbols with\nstd::\nor else declare them individually\ninside\nyour own namespace.\nnamespace ns3 {\n\nusing std::string;\nusing std::list;\nusing std::multiset;\nusing std::queue;"
  },
  {
    "url": "https://stackoverflow.com/questions/31626376/duplicate-symbol-error-adding-new-library",
    "title": "Duplicate symbol error adding new library [duplicate]",
    "question": "This question already has an answer here\n:\nOdd duplicate symbols error\n(1 answer)\nClosed\n9 years ago\n.\nworking in the ns-3 environment, I have made a library where there are some methods called in my code. In order to compile the library I add in the wscript file the link to the library and I control if it is already define as follow:\n#ifndef MY_LIBRARY_H_\n#define MY_LIBRARY_H_\n\n.. my methods\n\n#endif\nWhen I build the code this following error is generated:\nduplicate symbol __Z8getValueiib in:\n    src/model/bs-phy.cc.1.o\n    src/model/ue-phy.cc.1.o\nld: 3 duplicate symbols for architecture x86_64\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\nI think this is due to the fact that I use my methods in more then one class and maybe there are some error for multi-compiling. Any idea to solve the problems? (I'm not an expert and maybe I'm missing something!!!)\nThanks for the help!!\n[EDIT]\nuint32_t findOutSector()\n{\n    uint32_t sector = 0;\n    return sector;\n}",
    "answer": "Is your function\nfindOutSector\nwritten in the header directly? If yes, put the definition in a\n.c\nfile (+ compile & link) and just the function declaration in the header. The function should just exist once in all compiled objects and the declaration serves as reference to it."
  },
  {
    "url": "https://stackoverflow.com/questions/30861365/simulation-of-sockets-in-network-simulator",
    "title": "Simulation of Sockets in Network Simulator",
    "question": "I want to simulate some nodes with Network Simulator(NS-3). The communication between them is UDP traditional socket. i want to know, for simulation is it \nenough to simulate from Transport Layer till Application Layer or is needed also to simulate Physical and Data-Link Layer of OSI Layers?",
    "answer": "NS3 is complete OSI layer simulation from Application Layer to Physical Layer. Thus, you need specify on what kind of network component that is your simulation run. It can be a very simple setup to do that using NS3 helpers API.\nHere is a very simple UDP simulation example on NS3 :\nhttps://www.nsnam.org/docs/doxygen/first_8cc_source.html\nThe toturial is in here :\nhttps://www.nsnam.org/docs/release/3.23/tutorial/singlehtml/index.html#a-first-ns-3-script"
  },
  {
    "url": "https://stackoverflow.com/questions/30075436/is-a-ns2-code-workable-in-ns3",
    "title": "Is a NS2 code workable in NS3?",
    "question": "I have built up a code in NS2.35 and now want to take it to NS3 since I want to include open flow related bits in it ..is it possible to do so or is openflow easy to implement even in NS2 ?",
    "answer": "NS2 and NS3 are basically two different things, so there is no \"straightforward\" way to do transfer from one to the other.\nI got stuck into similar situation in my recent project. Some helpful modules were built in NS2 and we want to use them. However, the limitation of NS2 makes us struggled during the past few weeks. After countless meetings and discussion, we finally decided to begin the transfer from NS2 to NS3. I would recommend you do the same thing if you are not too eager to get the simulation result from NS2.\nBTW, the NS3 google group is quite help:)\nCheers,\nZeyu"
  },
  {
    "url": "https://stackoverflow.com/questions/30017735/in-ns-3-can-waf-run-a-code-in-a-nested-folder-more-than-two-levels-of-folde",
    "title": "In ns-3, can ./waf --run a code in a nested folder more than two levels of folder?",
    "question": "3 and hope this question is not too stupid... I'm recently using ns-3 and try to compile the codes. I found that I don't need to explicitly specify compilation, instead, using\n./waf --run someCode.cc\nwill first compile and code and then execute it. My question is, I'm trying to compile/run the code in a deeper folder. To be precise, I want to execute one example code located in\n<ns-3.22>/src/lte/example/lena-simple-epc.cc\nbut when I enter\n./waf --run src/lte/example/lena-simple-epc\nI just got the following message:\nWaf: Entering directory `..../ns-allinone-3.22/ns-3.22/build'\nprogram 'src/lte/examples/lena-simple-epc' not found; available programs are: [...]\nBut, if I copy the file\nsrc/lte/examples/lena-simple-epc.cc\nunder the folder\nscratch\nand execute\n./waf --run scratch/lena-simple-epc\n, then it works perfectly. Is this expected or did I miss any step? (Forgot to export some environment variables or something?)",
    "answer": "You don't need to specify all the path!\nJust run:\n./waf --run lena-simple-epc\nIf you are not secure on how to start a script just look at the wscript file in the examples folder and look for these rows.\nobj = bld.create_ns3_program('lena-simple-epc',\n                             ['lte'])\nobj.source = 'lena-simple-epc.cc'\nWith\nlena-simple-epc\nyou can start the script."
  },
  {
    "url": "https://stackoverflow.com/questions/29782238/ns3-c-udpechoclientapplication-error",
    "title": "NS3 C++ UdpEchoClientApplication error",
    "question": "I currently have 9 nodes and I want two of them to be a server. This is the code I currently have:\nApplicationcontainer serverApps =echoServer.Install (nodes.Get (3), nodes.Get (4));\nserverApps.Start (Seconds (1.0));\nserverApps.Stop (Seconds (10.0));\nWhen I try to compile it, it gives me the error\nBuild failed\n-> task in 'harry24' failed (exit status 1): \n{task 48837520: cxx harry24.cc -> harry24.cc.5.o}\n['/usr/bin/g++', '-O0', '-ggdb', '-g3', '-Wall', '-Werror', '-Wno-error=deprecated-declarations', '-fstrict-aliasing', '-Wstrict-aliasing', '-pthread', '-pthread', '-I.', '-I..', '-I/usr/include/gtk-2.0', '-I/usr/lib/x86_64-linux-gnu/gtk-2.0/include', '-I/usr/include/atk-1.0', '-I/usr/include/cairo', '-I/usr/include/gdk-pixbuf-2.0', '-I/usr/include/pango-1.0', '-I/usr/include/gio-unix-2.0', '-I/usr/include/glib-2.0', '-I/usr/lib/x86_64-linux-gnu/glib-2.0/include', '-I/usr/include/pixman-1', '-I/usr/include/freetype2', '-I/usr/include/libpng12', '-I/usr/include/libxml2', '-DNS3_ASSERT_ENABLE', '-DNS3_LOG_ENABLE', '-DHAVE_SYS_IOCTL_H=1', '-DHAVE_IF_NETS_H=1', '-DHAVE_NET_ETHERNET_H=1', '-DHAVE_PACKET_H=1', '-DHAVE_SQLITE3=1', '-DHAVE_IF_TUN_H=1', '-DHAVE_GSL=1', '../scratch/harry24.cc', '-c', '-o', 'scratch/harry24.cc.5.o']",
    "answer": "You should place these two nodes inside a\nNodeContainer\nand then call\nechoServer.install\non the container.\nNodeContainer nc;\nnc.Add(nodes.Get (3));\nnc.Add(nodes.Get (4));\n\nApplicationcontainer serverApps =echoServer.Install (nc);\nserverApps.Start (Seconds (1.0));\nserverApps.Stop (Seconds (10.0));\nThe available install method overloads in udp-echo-helper.h .\n/**\n   * Create a UdpEchoServerApplication on the specified Node.\n   *\n   * \\param node The node on which to create the Application.  The node is\n   *             specified by a Ptr<Node>.\n   *\n   * \\returns An ApplicationContainer holding the Application created,\n   */\n  ApplicationContainer Install (Ptr<Node> node) const;\n\n  /**\n   * Create a UdpEchoServerApplication on specified node\n   *\n   * \\param nodeName The node on which to create the application.  The node\n   *                 is specified by a node name previously registered with\n   *                 the Object Name Service.\n   *\n   * \\returns An ApplicationContainer holding the Application created.\n   */\n  ApplicationContainer Install (std::string nodeName) const;\n\n  /**\n   * \\param c The nodes on which to create the Applications.  The nodes\n   *          are specified by a NodeContainer.\n   *\n   * Create one udp echo server application on each of the Nodes in the\n   * NodeContainer.\n   *\n   * \\returns The applications created, one Application per Node in the \n   *          NodeContainer.\n   */\n  ApplicationContainer Install (NodeContainer c) const;"
  },
  {
    "url": "https://stackoverflow.com/questions/29766643/dependencies-beween-classes-across-different-namespace",
    "title": "Resolve build errors due to circular dependency amongst classes",
    "question": "I often find myself in a situation where I am facing multiple compilation/linker errors in a C++ project due to some bad design decisions (made by someone else :) ) which lead to circular dependencies between C++ classes in different header files\n(can happen also in the same file)\n. But fortunately(?) this doesn't happen often enough for me to remember the solution to this problem for the next time it happens again.\nSo for the purposes of easy recall in the future I am going to post a representative problem and a solution along with it. Better solutions are of-course welcome.\nA.h\nclass B;\nclass A\n{\n    int _val;\n    B *_b;\npublic:\n\n    A(int val)\n        :_val(val)\n    {\n    }\n\n    void SetB(B *b)\n    {\n        _b = b;\n        _b->Print(); // COMPILER ERROR: C2027: use of undefined type 'B'\n    }\n\n    void Print()\n    {\n        cout<<\"Type:A val=\"<<_val<<endl;\n    }\n};\nB.h\n#include \"A.h\"\nclass B\n{\n    double _val;\n    A* _a;\npublic:\n\n    B(double val)\n        :_val(val)\n    {\n    }\n\n    void SetA(A *a)\n    {\n        _a = a;\n        _a->Print();\n    }\n\n    void Print()\n    {\n        cout<<\"Type:B val=\"<<_val<<endl;\n    }\n};\nmain.cpp\n#include \"B.h\"\n#include <iostream>\n\nint main(int argc, char* argv[])\n{\n    A a(10);\n    B b(3.14);\n    a.Print();\n    a.SetB(&b);\n    b.Print();\n    b.SetA(&a);\n    return 0;\n}",
    "answer": "The way to think about this is to \"think like a compiler\".\nImagine you are writing a compiler. And you see code like this.\n// file: A.h\nclass A {\n  B _b;\n};\n\n// file: B.h\nclass B {\n  A _a;\n};\n\n// file main.cc\n#include \"A.h\"\n#include \"B.h\"\nint main(...) {\n  A a;\n}\nWhen you are compiling the\n.cc\nfile (remember that the\n.cc\nand not the\n.h\nis the unit of compilation), you need to allocate space for object\nA\n. So, well, how much space then? Enough to store\nB\n! What's the size of\nB\nthen? Enough to store\nA\n! Oops.\nClearly a circular reference that you must break.\nYou can break it by allowing the compiler to instead reserve as much space as it knows about upfront - pointers and references, for example, will always be 32 or 64 bits (depending on the architecture) and so if you replaced (either one) by a pointer or reference, things would be great. Let's say we replace in\nA\n:\n// file: A.h\nclass A {\n  // both these are fine, so are various const versions of the same.\n  B& _b_ref;\n  B* _b_ptr;\n};\nNow things are better. Somewhat.\nmain()\nstill says:\n// file: main.cc\n#include \"A.h\"  // <-- Houston, we have a problem\n#include\n, for all extents and purposes (if you take the preprocessor out) just copies the file into the\n.cc\n. So really, the\n.cc\nlooks like:\n// file: partially_pre_processed_main.cc\nclass A {\n  B& _b_ref;\n  B* _b_ptr;\n};\n#include \"B.h\"\nint main (...) {\n  A a;\n}\nYou can see why the compiler can't deal with this - it has no idea what\nB\nis - it has never even seen the symbol before.\nSo let's tell the compiler about\nB\n. This is known as a\nforward declaration\n, and is discussed further in\nthis answer\n.\n// main.cc\nclass B;\n#include \"A.h\"\n#include \"B.h\"\nint main (...) {\n  A a;\n}\nThis\nworks\n. It is not\ngreat\n. But at this point you should have an understanding of the circular reference problem and what we did to \"fix\" it, albeit the fix is bad.\nThe reason this fix is bad is because the next person to\n#include \"A.h\"\nwill have to declare\nB\nbefore they can use it and will get a terrible\n#include\nerror. So let's move the declaration into\nA.h\nitself.\n// file: A.h\nclass B;\nclass A {\n  B* _b; // or any of the other variants.\n};\nAnd in\nB.h\n, at this point, you can just\n#include \"A.h\"\ndirectly.\n// file: B.h\n#include \"A.h\"\nclass B {\n  // note that this is cool because the compiler knows by this time\n  // how much space A will need.\n  A _a; \n}\nHTH."
  },
  {
    "url": "https://stackoverflow.com/questions/29622626/error-while-building-ns-3",
    "title": "Error while building ns-3",
    "question": "I am trying to install\nns-3\nby tarball but when I try to build with following command\n./build.py --enable-examples --enable-tests\nas  given in manual I get following error:\nTraceback (most recent call last):\n  File \"./build.py\", line 170, in <module>\n    sys.exit(main(sys.argv))\n  File \"./build.py\", line 111, in main\n    config = dom.parse(dot_config)\n  File \"/usr/local/lib/python2.7/xml/dom/minidom.py\", line 1917, in parse\n    from xml.dom import expatbuilder\n  File \"/usr/local/lib/python2.7/xml/dom/expatbuilder.py\", line 32, in <module>\n    from xml.parsers import expat\n  File \"/usr/local/lib/python2.7/xml/parsers/expat.py\", line 4, in <module>\n    from pyexpat import *\nImportError: /usr/local/lib/python2.7/lib-dynload/pyexpat.so: undefined symbol: PyUnicodeUCS2_DecodeUTF\nI know this error is related to python but not able to resolve after doing a lot of Google search.Can anybody help me how to proceed further?",
    "answer": "Solved:\nAfter exhausted research I found Python for Linux default setting is\nUCS2\n.\nI rebuilt Python from source using\n./configure --enable-unicode=ucs4\nto force compile using UCS4.\nHere is the\nlink\n."
  },
  {
    "url": "https://stackoverflow.com/questions/29547202/enabling-ns-3-logging-under-eclipse",
    "title": "Enabling ns-3 logging under Eclipse",
    "question": "There is a link available on how to configure Eclipse with waf to run ndnSIM programs.\nhttps://www.nsnam.org/wiki/HOWTO_configure_Eclipse_with_ns-3\nHowever, I did not understand how to specify the module names so that it also print all the INFO/DEBUG/ERR/WRN logs. Right now, I am NOT able to see any logs when run from Eclipse.\nAn equivalent command command line for the program to run from command line is below.\nNS_LOG=ndn.Consumer:ndn.Producer ./waf --run=ndn-grid-topo-plugin\nI also tried to export the NS_LOG variable in Eclipse's debug/run configuration settings, with value \"ndn.Consumer:ndn.Producer\" but it did not work.\nCan someone please tell how to achieve same in Eclipse?",
    "answer": "I think this screenshot sums up the steps pretty well. Then you can probably select which module to run using the UI."
  },
  {
    "url": "https://stackoverflow.com/questions/29382876/implement-p2p-file-transfer-using-ns2-ns3",
    "title": "Implement P2P file transfer using NS2/NS3",
    "question": "I am working on a peer-to-peer file transfer project that should be implemented either using NS2 or NS3.\nIt would be of great help if anyone could give some pointers or source codes using which I can work on.\nNote: A simple P2P file transfer code would also be very helpful, in which the peer nodes maintain a database of nodes that contain the files.",
    "answer": "ns3 p2p\nhttps://www.google.com/webhp?hl=all&gws_rd=ssl#hl=en&q=ns3+p2p\nns3 example\nhttps://www.nsnam.org/doxygen/nms-p2p-nix_8cc.html\nns3 Forum\nhttps://groups.google.com/forum/?fromgroups#!forum/ns-3-users\nns3 p2p INFO\nhttps://groups.google.com/forum/?fromgroups#!searchin/ns-3-users/p2p|sort:date\n.....\nns2\nZetasim p2p\nhttps://www.google.com/webhp?hl=all&gws_rd=ssl#hl=en&q=ns2+zetasim\nZetasim code\nhttp://code.google.com/p/zetasim/\np2p-Zetasim_ns234.patch\nhttps://drive.google.com/file/d/0B7S255p3kFXNZnhnYXBlb2tOeEk/view?usp=sharing\np2p-ZetaSim_ns235.patch\nhttps://drive.google.com/file/d/0B7S255p3kFXNMmM4RVd4eGFxT2M/view?usp=sharing\n....\nns2\nbittorrent-p2p\n: p2p-bittorrent.tar.gz →\nhttps://drive.google.com/file/d/0B7S255p3kFXNaGhxNEIteC11YTg/view?usp=sharing\np2p-bittorrent_ns234.patch\nhttps://drive.google.com/file/d/0B7S255p3kFXNWXoyTzJ3Q05WdTg/view?usp=sharing\np2p-bittorrent_ns235.patch\nhttps://drive.google.com/file/d/0B7S255p3kFXNMi16cmtFdXhJdjA/view?usp=sharing\n....\np2p INFO ns2\nhttp://www.linuxquestions.org/questions/tags/p2p-ns2/\n.\nhttp://www.linuxquestions.org/questions/tags/bittorrent-p2p/\n.\nhttps://groups.google.com/forum/?fromgroups#!searchin/ns-users/p2p|sort:date\n....."
  },
  {
    "url": "https://stackoverflow.com/questions/29339199/how-to-inherit-a-simplerefcount-subclass-for-a-class-in-ns3-network-simulator-3",
    "title": "How to inherit a SimpleRefCount subclass for a class in ns3 (Network Simulator 3)",
    "question": "In network simulator 3, I want to create a Ptr< RoutingTable > object. However, the compiler returns as such:\n./ns3/ptr.h:457:7: error: 'class ns3::dsdv::RoutingTable' has no member named 'Unref'\n    m_ptr->Unref();\nI've searched through ns3's doxygen, and I now understand that I should inherit SimpleRefCount which provides Ref and Unref methods for the class. To help me, I've reviewed the class OutputStreamWrapper which inherits from a SimpleRefCount< OutputStreamWrapper >. I have some understanding of generic types. However, I cannot for the life of me see where the actual inheritance takes place. I cannot find the link between OutputStreamWrapper and its SimpleRefCount parent.\nYour help would be greatly appreciated.",
    "answer": "If you look at the\nsource\n:\n27 namespace ns3 {\n28 \n70 class OutputStreamWrapper : public SimpleRefCount<OutputStreamWrapper>\n//                             ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑\n//                                  right here\nIf that's what you're asking."
  },
  {
    "url": "https://stackoverflow.com/questions/28952524/error-while-creating-array-of-objects-in-ns-3-c",
    "title": "Error while creating array of objects in NS-3 (C++)",
    "question": "In an NS-3\n.cc\nfile I am trying to create an array of instantiations of the\nUdpEchoClientHelper\nclass, just by doing:\nUdpEchoClientHelper echoClient[NO_OF_NODES];\nand when I am trying to build I am getting the error message:\n../scratch/test.cc:55:33: error: no matching function for call to ‘ns3::UdpEchoClientHelper::UdpEchoClientHelper()’\nAm I doing something wrong at the array declaration?",
    "answer": "There's no matching constructor for\nUdpEchoClientHelper::UdpEchoClientHelper()\nThese are the available constructors:\n/**\n   * Create UdpEchoClientHelper which will make life easier for people trying\n   * to set up simulations with echos.\n   *\n   * \\param ip The IP address of the remote udp echo server\n   * \\param port The port number of the remote udp echo server\n   */\n  UdpEchoClientHelper (Address ip, uint16_t port);\n  /**\n   * Create UdpEchoClientHelper which will make life easier for people trying\n   * to set up simulations with echos.\n   *\n   * \\param ip The IPv4 address of the remote udp echo server\n   * \\param port The port number of the remote udp echo server\n   */\n  UdpEchoClientHelper (Ipv4Address ip, uint16_t port);\n  /**\n   * Create UdpEchoClientHelper which will make life easier for people trying\n   * to set up simulations with echos.\n   *\n   * \\param ip The IPv6 address of the remote udp echo server\n   * \\param port The port number of the remote udp echo server\n   */\n  UdpEchoClientHelper (Ipv6Address ip, uint16_t port);\nYou should take a look to the tutorials first."
  },
  {
    "url": "https://stackoverflow.com/questions/28690721/isis2-in-ns-3-and-bridge-tap",
    "title": "Isis2 in ns-3 and bridge tap",
    "question": "So I need to simulate\nIsis2\nin\nns-3\n. (I am also to modify Isis2 slightly, wrapping it with some C/C++ code since I need at least a quasi real-time mission-critical behavior)\nSince I am far from having any of that implemented it would interesting to know if this is a suitable way of conduct. I need to specifically monitor the performance of the consensus during sporadic wifi (ad hoc) behavior.\nWould it make sense to virtualize a machine for each instance of Isis2 and then use the tap bridge( model and analyze the traffic in the ns-3 channel? \n(I also am to log the events on each instance; composing the various data into a unified presentation)",
    "answer": "You need to start by building an Isis2 application program, and this would have to be done using C/CLI or C++/CLI.  C++/CLI will be easier because the match with the Isis2 type system is closer.  But as I type these words, I'm trying to remember whether Mono actually supports C++/CLI.  If there isn't a Mono compiler for C++/CLI, you might be forced to use C# or IronPython.  Basically, you have to work with what the compiler will support.\nYou'll build this and the library on your mono platform and should test it out, which you can do on any Linux system.  Once you have it working, that's the thing you'll experiment with on NS/3.  Notice that if you work on Windows, you would be able to use C++/CLI (for sure) and then can just make a Windows VM for NS3.  So this would mean working on Windows, but not needing to learn C#.\nThis is because Isis2 is a library for group communication, multicast, file replication and sharing, DHTs and so forth and to access any particular functionality you need an application program to \"drive\" it.  I wouldn't expect performance issues if you follow the recommendations in the video tutorials and the user manual; even for real-time uses the system is probably both fast enough and steady enough in its behavior.\nThen yes, I would take a virtual machine with the needed binaries for Mono (Mono is loaded from DLLs so they need to be available at the right virtual file system locations) and your Isis2 test program and run that within NS3.  I haven't tried this but don't see any reason it wouldn't work.\nKeep in mind that the default timer settings for timeout and retransmission are very slow and tuned for running on Amazon AWS, inside a data center.  So once you have this working, but before simulating your wifi setup, you may want to experiment with tuning the system to be more responsive in that setting.  I'm thinking that ISIS_DEFAULTTIMEOUT will probably be way too long for you, and the RTDELAY setting may also be too long for you.  Amazon AWS is a peculiar environment and what makes Isis2 stable in AWS might not be ideal in a Wifi setting with very different goals...  but all of those parameters can be tuned by just setting the desired values in the Environment, which can be done in bash on the line that launches your test program, or using the bash \"Export\" command."
  },
  {
    "url": "https://stackoverflow.com/questions/28150246/where-can-i-find-the-printed-information-generated-in-the-cpp-files-of-ns2-libra",
    "title": "Where can i find the printed information generated in the cpp files of NS2 library in which I added some cout() functions to print some information?",
    "question": "I'm using ns2 in linux to do some network experiments.  I added some print lines in some of the cpp files of the ns library(through the function cout()). But when I execute the TCL scripts, I can't see the printed information on the screen. So where can i find the printed information generated in the cpp files?",
    "answer": "@Ryan ,  Hi.\nNs2 is an otcl / tcl application.\nThe \"functions\" must also be compiled into ns-2.3x/tcl/lib/{ files.tcl }.\nExample \"print a message\" is the default HELLO :\ncd ns-2.3x/tcl/lib/ && \ngrep -in hello ns-lib.tcl\n860: self at 0.0 \"$ragent start\" ;# start BEACON/HELLO Messages\n867: self at 0.0 \"$ragent start\" ;# start BEACON/HELLO Messages\n891: self at 0.0 \"$ragent start\" ;# start BEACON/HELLO Messages\nYou can also check where HELLO is present in files.cc :\ncd ns-2.3x/ &&\ngrep -Rin hello *\n-"
  },
  {
    "url": "https://stackoverflow.com/questions/28053190/waff-wiki-function-in-ns-3-does-not-get-parameters",
    "title": "waff wiki function in ns-3 does not get parameters",
    "question": "In\nns-3\nsimulator\ndocumentation\nthey provide a simple bash function to ease your life:\nfunction waff {\n   CWD=\"$PWD\"\n   cd $NS3DIR\n   ./waf --cwd=\"$CWD\" $*\n   cd -\n}\nThis function is supposed to execute the\n./waf\nprogram situated in the ns-3 root folder but inside the folder you are actually situated into.\nSo in the case of\n~/project$ waff --run first\nwaf will run the\nfirst\nscript in the\n~/project\nfolder.\nBut if I try to run any simulation by adding one parameter to the script's command like\n~/project$ waff --run \"first --PrintHelp\"\nit throws an error\nwaf: error: no such option: --PrintHelp\n.\nIt only works when I actually run the scripts from the root folder without the\nwaff\nfunction.\nHow to modify the function to make it expand the $* to an argument between double commas?",
    "answer": "Well, I feel embarrased because the solution was way easier than expected.\nIf anyone using DCE has the same problem, it's as easy as quoting the $*:\n./waf --cwd=\"$CWD\" $*\nwith:\n./waf --cwd=\"$CWD\" \"$*\""
  },
  {
    "url": "https://stackoverflow.com/questions/27952846/how-to-measure-qos-parameters-in-the-ns-3-simulation",
    "title": "How to measure QoS parameters in the ns-3 simulation",
    "question": "I would like to simulate voip in a wimax network. What I would like to measure are the QoS parameters such as IPTD, IPDV and IPLR. I am new to the ns-3 simulator and I can't find anything about QoS measurment. I've already searched in google and it seems that there is nothing like QoS library? If I am correct, how to measure these parameters in this simulation tool? If not, could please someone give me some advice where I can find such library?",
    "answer": "From my short experience,\nGenerally you need to use the flowMonitor helper class to get the statistics. \nRefer below.\nhttp://www.nsnam.org/doxygen/classns3_1_1_flow_monitor_helper.html\nIf it is just the basic statistics like bytes received, sent etc, you have already functions in the packet class that can be used to get the values. Else you need to define them and write methods to do the calculations.\nI am not an expert in wireless world, but you can find an example here\nhttp://personal.ee.surrey.ac.uk/Personal/K.Katsaros/media/ns3lab-sol/lab-5-solved.cc"
  },
  {
    "url": "https://stackoverflow.com/questions/27749388/what-protocol-is-inside-my-packet-ns3",
    "title": "What protocol is inside my packet? (Ns3)",
    "question": "I\nneed to know if the packets that my Rx is getting are ARP\nin order to discard them for my process.\nI've looked into the manual and the tutorial of ns3, but I found nothing in both of them about which protocol is inside a packet.\nIs there any function or part in ns3 which let me know the protocol that is inside my packet\n? Or need I to look for the hexadecimal code of the header and compare it with the ARP one? This should be\nextremely inefficient\n, since I would have to do it with each packet I receive in my simulation. (And since I've It not done, I'm not sure that It's the correct way nor just possible).\nThanks for reading",
    "answer": "GetUid() is not relevant; it is merely an internal ID for packet data structures that has no relation to the protocols being carried.\nIn ns-3, packets are serialized in network byte order into Buffer objects, analogous to Linux kernel skbuffs.  A brute force way to inspect the packet contents is to deserialize (copy) the packet contents into a separate buffer, and pick through the bytes, as you mentioned.  However, there are better ways.\nIf you are at the Wifi layer, and you want to learn whether the packet you have is an ARP packet, there are two main ways you can learn this.  First, you can inspect the headers of the packet.  If you are at the point in the stack where only the LlcSnapHeader has been added by the WifiNetDevice, you can try to peek the header and look at the protocol number (stored in the Type field).  Given a Ptr pkt, you can try:\nLlcSnapHeader llc;\npkt->PeekHeader (llc);\nif (llc.GetType () == 0x0806)\n  {\n    // found an ARP packet\n  }\nHowever, note that if you are at a place in the stack where various frame types are being used, not all packets will have an LlcSnapHeader, so peeking such as above may not be reliable, or you may need to check other possibilities.  Also, in cases where you are not fortunate enough that the header you care about is at the very front of the packet, keep in mind that it is not expensive to copy the Packet and remove headers from the packet copy (essentially popping them off the stack) to get at the header you want.\nA second technique is possible if you have enabled Packet metadata in the simulation.  this is a data structure that contains metadata about all of the headers and trailers that have been added, and can be returned to the client as a linked list that can be scanned for header information.  By default, it is disabled in simulations for performance reasons, but can be enabled by calling this at the beginning of the main() program:\nPacket::EnablePrinting ();\nand then using the BeginItem() iterator of the Packet class (see the ns-3 Doxygen).  There are no good example programs using this as far as I know, but a test suite exists in src/network/test that may provide hints."
  },
  {
    "url": "https://stackoverflow.com/questions/27648685/how-to-change-the-flags-in-the-tcp-header-of-a-packet-in-ns-2",
    "title": "How to change the flags in the tcp header of a packet in NS-2?",
    "question": "I'm trying to change the ECN mark in the tcp header of a specific packet in NS-2 but could not find the way.\nIs there anyone who can give me a hand? Thanks a lot!",
    "answer": "I found it in ns2.35/tcp/tcp-full.cc , line 874. Below is the code that marks ECN(or we can say ECE here).\nif (ecn_ && ect_ && recent_ce_ ) { \n    // This is needed here for the ACK in a SYN, SYN/ACK, ACK\n    // sequence.\n    pflags |= TH_ECE;\n}"
  },
  {
    "url": "https://stackoverflow.com/questions/27546249/ns-3-dce-and-iperf3",
    "title": "NS-3 dce and iperf3",
    "question": "In NS-3 DCE (Network simulator 3 Direct Code Exectution), with NS-3 version 3.21 and dce version 1.4, one of the included binaries by default is iperf. This version of iperf is 2.0.5 however, and the newest version of iperf is 3.0.10. Since iperf3 is not backwards compatible with iperf2, and iperf3 offers some interesting new features, it would be very helpful if I could use iperf3 with NS-3 dce.\nAs is explained on the following link:\nhttp://www.nsnam.org/docs/dce/release/1.1/manual/html/dce-user-newapps.html\nthere are certain requirements (like flags in the makefile) that have to be adjusted to generate a binary that can be used by dce.\nI can't get it to work however. I tried changing all 3 Makefiles that came with iperf3 \n(-fpic CFLAG and -pie -rdynmic LDFLAGS), but I'm still getting an error when I'm trying to build it:\n/usr/bin/ld: /usr/lib/gcc/x86_64-linux-gnu/4.8/../../../x86_64-linux-gnu/gcrt1.o : relocation R_X86_64_32S against '__libc_csu_fini' can not be used when making a shared object: recompile with -fPIC\n/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../x86_64-linux-gnu/gcrt1.o: error adding symbols: Bad value\ncollect2: error: ld returned 1 exit status\nmake[2]: *** [iperf3_profile] Error 1\nmake[2]: Leaving directory\nDoes anyone know what to do?\nAny help is really appreciated!",
    "answer": "You can follow this\nguide\nto build iperf3 with libOS:\n... the above error is due  to bad compatibility between gcc profile\n  option ('-pg') and  PIC option.\nbecause the main binary (iperf3) was built even with this  error, you\n  can see the iperf3 binary at (top)/src/.libs/iperf3.\ndisabling the build for iperf3_profile seems to be required  for DCE\n  build. patches are welcome ;)\nHowever, currently you cannot run iperf3 due to missing symbol (__h_errno_location). This can be fixed by a\npatch\nof teto."
  },
  {
    "url": "https://stackoverflow.com/questions/27256622/need-help-in-understading-ns3-randomwalk2mobilitymodel",
    "title": "Need Help in understading ns3 -> RandomWalk2MobilityModel",
    "question": "I am new to NS3; can you please explain how the\nRandomWalk2dMobilityModel\nworks?\nI am trying to model an environment where a user will be given a destination, and he is to go there with a randomly generated speed. Is this possible to design with this model?\nThank You.\nstatic void \nCourseChange (std::string foo, Ptr<const MobilityModel> mobility)\n{\n  Vector pos = mobility->GetPosition ();\n  Vector vel = mobility->GetVelocity ();\n  std::cout << Simulator::Now () << \", model=\" << mobility << \", POS: x=\" << pos.x << \", y=\" << pos.y\n            << \", z=\" << pos.z << \"; VEL:\" << vel.x << \", y=\" << vel.y\n            << \", z=\" << vel.z << std::endl;\n}\n\nint main (int argc, char *argv[])\n{\n  Config::SetDefault (\"ns3::RandomWalk2dMobilityModel::Mode\", StringValue (\"Time\"));\n  Config::SetDefault (\"ns3::RandomWalk2dMobilityModel::Time\", StringValue (\"2s\"));\n  Config::SetDefault (\"ns3::RandomWalk2dMobilityModel::Speed\", StringValue (\"ns3::ConstantRandomVariable[Constant=1.0]\"));\n  Config::SetDefault (\"ns3::RandomWalk2dMobilityModel::Bounds\", StringValue (\"0|200|0|200\"));\n\n  CommandLine cmd;\n  cmd.Parse (argc, argv);\n\n  NodeContainer c;\n  c.Create (100);\n\n  MobilityHelper mobility;\n  mobility.SetPositionAllocator (\"ns3::RandomDiscPositionAllocator\",\n                                 \"X\", StringValue (\"100.0\"),\n                                 \"Y\", StringValue (\"100.0\"),\n                                 \"Rho\", StringValue (\"ns3::UniformRandomVariable[Min=0|Max=30]\"));\n  mobility.SetMobilityModel (\"ns3::RandomWalk2dMobilityModel\",\n                             \"Mode\", StringValue (\"Time\"),\n                             \"Time\", StringValue (\"2s\"),\n                             \"Speed\", StringValue (\"ns3::ConstantRandomVariable[Constant=1.0]\"),\n                             \"Bounds\", StringValue (\"0|200|0|200\"));\n  mobility.InstallAll ();\n  Config::Connect (\"/NodeList/*/$ns3::MobilityModel/CourseChange\",\n                   MakeCallback (&CourseChange));",
    "answer": "Basically the answer is No, \nRandomWalk2dMobilityModel is used to generate random directions with random speed, if you want specific direction with random speed then you have to create your mode.\nI created a function to create movement between to positions where I pass node id, startPosition, endPosition and current simulation time. This function return the simulation time taken to move between the two position\ndouble GenerateMovementBetweenTwoPosition(Ptr<Node> node, Vector startPosition,Vector newPosition, double time)\n{\n    float x,y;\n  Ptr<MobilityModel> mobilityModel = node->GetObject<MobilityModel> ();\n  //Vector startPosition = mobilityModel->GetPosition();\n  double distance = sqrt( pow(startPosition.x - newPosition.x, 2)\n          + pow(startPosition.y - newPosition.y, 2)  );\n  double tagSpeed = UniformVariable ().GetValue(0.7,1.3);\n  double MovementTime = distance/tagSpeed; // time is in seconds as distance in meter and 1.5 m/s\n  double distanceStep = distance/ceil(MovementTime);\n  for ( int i=1; i <=  (int)ceil(MovementTime); i++)\n  {\n      if (time+i >= simTime)\n          return time;\n      x = startPosition.x + ( distanceStep * i / distance )*(newPosition.x - startPosition.x)+ NormalVariable (-2,2).GetValue(); //path width\n      y = startPosition.y + ( distanceStep * i / distance )*(newPosition.y - startPosition.y)+ NormalVariable (-2,2).GetValue();\n     // std::cout << \"x: \" << x << \" y: \"<< y<<std::endl;\n      Simulator::Schedule (Seconds (time+i), &MobilityModel::SetPosition, mobilityModel,\n     Vector( x, y,  0.0));\n\n  }\n    return time+ceil(MovementTime);\n\n}\nFor example Node 10 moved from point A to point B at simulation time 100 and this movement took 50 seconds thus return simulation time 150.\nHowever if simulation times ends at 140 seconds, then this function will return 140 as simulation ended in the middle of the trajectory."
  },
  {
    "url": "https://stackoverflow.com/questions/27247408/why-are-number-of-instructions-non-deterministic-in-linux-performance-counters",
    "title": "Why are number of instructions non-deterministic in Linux performance counters",
    "question": "To be able to profile application runtimes whose binaries will actually be run under a simulator (NS-3/DCE). I wanted to use the linux performance counters, I expected the instruction count for an application which has no source of non-determinism to be deterministic.\nI couldn't be more wrong according to the linux performance counters, let's take a simple example:\n$ (perf stat -c -- sleep 1 2>&1 && perf stat -c -- sleep 1 2>&1) |grep instructions\n        669218 instructions              #    0,61  insns per cycle\n        682286 instructions              #    0,58  insns per cycle\n1) What is the source of this non-determinism? Does this stem from the low-level branch-prediction and other engines\nin\nthe CPU.\n2) Other question, is there a way to know the amount of instructions fed to the CPU (in contrast to the amount of instructions in the example output), in order to do get the amount of executed code in a deterministic way?",
    "answer": "Summary\n:\n1) The non-determinism is caused by variation in the\nsleep 1\ncommand not from branch-prediction or other microarchitectural features.\n2) You can find the number of instruction fetched by using a hardware even counter if your CPU supports it.  However, this will vary more than the number of instructions retired (which is what perf typically reports for instructions).\nDetails:\nThe\nsleep\ncommand is not a good test case if you want a deterministic number of instructions to execute.  It will execute a non-deterministic number of instructions because there will be some slight variation in what the kernel is doing.\nYou can specify whether to collect user-mode or kernel-mode instruction counts with the\ninstructions:u\nfor user-mode or\ninstructions:k\nfor kernel mode.  For two runs of:\nperf stat -e instructions:k,instructions:u,instructions sleep 1\nI get the following results:\nPerformance counter stats for 'sleep 1':\n\n       373,044 instructions:k            #    0.00  insns per cycle        \n       199,795 instructions:u            #    0.00  insns per cycle        \n       572,839 instructions              #    0.00  insns per cycle        \n\n   1.001018153 seconds time elapsed\nand\nPerformance counter stats for 'sleep 1':\n\n       379,722 instructions:k            #    0.00  insns per cycle        \n       199,970 instructions:u            #    0.00  insns per cycle        \n       579,519 instructions              #    0.00  insns per cycle        \n\n   1.000986201 seconds time elapsed\nAs you can see the actual elapsed time of\nsleep 1\nvaries slightly.  Which is the source of the non-determinism.  However, the number of user-mode instructions has less variation than kernel-mode instructions."
  },
  {
    "url": "https://stackoverflow.com/questions/27171990/network-simulator-reading-packets-from-file",
    "title": "Network simulator - reading packets from file",
    "question": "I would like to ask if it is possible add some packet file like .pcap or .txt (packet statistic) to ns input. For example, if I want insert some packets to device interface.\nIs it possible with ns2 / ns3?\nThank you",
    "answer": "yes, it is possible with ns2.. not sure about ns3.. in order to do it in ns2, you need to enable 'emulation' in ns2.\nto emulate ns2 --\n1. in terminal.. switch to root mode\n2. move to directory 'ns-2.35' in your ns2 installation.\n3. run 'make nse'\n4. run './configure'\nand Emulation is activated in ns2.\nnow in you tcl file \n1. create a Tap Agent like '\nset tap1 [new Agent/Tap]\n'.\n2. crate a Network Object like '\nset nob [new Network/Pcap/File]\n;\n3. provide the path to Pcap file like' $nob open readonly\nReal/xplico_youtube_mail.pcap\n'\nthe file is located in ns-2.35 folder in given path.\n4. in Tap Agent, provide network agent as network..\n$tap1 network $nob\n$ns attach-agent $node_(0) $tap1;\n5. connect the Tap to other node.. and its done."
  },
  {
    "url": "https://stackoverflow.com/questions/27117597/how-to-create-an-array-of-smart-pointers",
    "title": "How to create an array of smart pointers?",
    "question": "I have created a class, which reference some members as smart pointers, I want to create an array of this class but I get different types of errors\nclass ConnectionType : public SimpleRefCount<ConnectionType> {\npublic:\n  Ptr<Socket> txMstrSocPtr; /// Pointer to Master tx socket\n  Ptr<Socket> rxMstrSocPtr; /// Pointer to Master rx socket\n  Ptr<Socket> txSlavSocPtr; /// Pointer to Slave tx socket\n  Ptr<Socket> rxSlavSocPtr; /// Pointer to Slave rx socket\n\n  //ConnectionType();\n  //~ConnectionType();\n\n  void rxMstrCallBack(Ptr<Socket> socket);\n  void rxSlavCallBack(Ptr<Socket> socket);\n};\n\nPtr<ConnectionType> ConnectionArray[NUMBER_OF_CONNECTIONS] = CreateObject<ConnectionType>();\nit gives me errors\nError   1   error C2075: 'ConnectionArray' : array initialization needs curly braces\n2   IntelliSense: initialization with '{...}' expected for aggregate object",
    "answer": "If you know the number of connections that will be returned by\nCreateObject\nat compile-time (i.e.,\nNUMBER_OF_CONNECTIONS\nis a compile-time constant) you could use\nstd::array< Ptr< ConnectionType >, NUMBER_OF_CONNECTIONS >\n.\nstd::array\nmodels a raw array most closely of the standard containers and is to be prefer to raw arrays when writing modern C++.  If\nNUMBER_OF_CONNECTIONS\nhas a size that is determined at run-time you can use\nstd::vector< Ptr< ConnectionType > >\n.  So change to either\n#include <array>\n...\nstd::array< Ptr< ConnectionType >, NUMBER_OF_CONNECTIONS > ConnectionArray{ CreateObject< ConnectionType >() };\nor\n#include <vector>\n...\nstd::vector< Ptr< ConnectionType > > ConnectionArray{ CreateObject< ConnectionType >() };\nAlso, if you weren't already aware, C++11 added support for three flavors of standard smart pointers:\nunique_ptr\n,\nshared_ptr\nand\nweak_ptr\n(they differ in their ownership semantics) which you might prefer to use over your own homemade smart pointers if they meet your needs and you are able to use a compiler that implements them."
  },
  {
    "url": "https://stackoverflow.com/questions/27073079/creating-topology-with-routers-in-ns-3",
    "title": "Creating topology with routers in ns-3",
    "question": "I am trying to create a very simple topology containing a server and client connected via a router. The following code I got through a GUI. I am trying to run it but it throws me a long error I am new to ns-3, so kindly bear with me.\n#include \"ns3/simulator-module.h\"\n#include \"ns3/node-module.h\"\n#include \"ns3/core-module.h\"\n#include \"ns3/common-module.h\"\n#include \"ns3/global-route-manager.h\"\n#include \"ns3/helper-module.h\"\n#include \"ns3/bridge-module.h\"\n\nusing namespace ns3;\n\nint main(int argc, char *argv[])\n{\nCommandLine cmd;\ncmd.Parse (argc, argv);\n\n/* Configuration. */\n\n/* Build nodes. */\nNodeContainer term_0;\nterm_0.Create (1);\nNodeContainer term_1;\nterm_1.Create (1);\nNodeContainer router_0;\nrouter_0.Create (1);\n\n/* Build link. */\nCsmaHelper csma_hub_0;\ncsma_hub_0.SetChannelAttribute (\"DataRate\", DataRateValue (100000000));\ncsma_hub_0.SetChannelAttribute (\"Delay\",  TimeValue (MilliSeconds (10000)));\nCsmaHelper csma_hub_1;\ncsma_hub_1.SetChannelAttribute (\"DataRate\", DataRateValue (100000000));\ncsma_hub_1.SetChannelAttribute (\"Delay\",  TimeValue (MilliSeconds (10000)));\n\n/* Build link net device container. */\nNodeContainer all_hub_0;\nall_hub_0.Add (router_0);\nall_hub_0.Add (term_0);\nNetDeviceContainer ndc_hub_0 = csma_hub_0.Install (all_hub_0);\nNodeContainer all_hub_1;\nall_hub_1.Add (router_0);\nall_hub_1.Add (term_1);\nNetDeviceContainer ndc_hub_1 = csma_hub_1.Install (all_hub_1);\n\n/* Install the IP stack. */\nInternetStackHelper internetStackH;\ninternetStackH.Install (term_0);\ninternetStackH.Install (term_1);\ninternetStackH.Install (router_0);\n\n/* IP assign. */\nIpv4AddressHelper ipv4;\nipv4.SetBase (\"10.0.0.0\", \"255.255.255.0\");\nIpv4InterfaceContainer iface_ndc_hub_0 = ipv4.Assign (ndc_hub_0);\nipv4.SetBase (\"10.0.1.0\", \"255.255.255.0\");\nIpv4InterfaceContainer iface_ndc_hub_1 = ipv4.Assign (ndc_hub_1);\n\n/* Generate Route. */\nIpv4GlobalRoutingHelper::PopulateRoutingTables ();\n\n/* Generate Application. */\nuint16_t port_udpEcho_0 = 9;\nUdpEchoServerHelper server_udpEcho_0 (port_udpEcho_0);\nApplicationContainer apps_udpEcho_0 = server_udpEcho_0.Install (term_1.Get(0));\napps_udpEcho_0.Start (Seconds (0.0));\napps_udpEcho_0.Stop (Seconds (2.0));\nTime interPacketInterval_udpEcho_0 = Seconds (1.0);\nUdpEchoClientHelper client_udpEcho_0 (iface_ndc_hub_1.GetAddress(1), 9);\nclient_udpEcho_0.SetAttribute (\"MaxPackets\", UintegerValue (1));\nclient_udpEcho_0.SetAttribute (\"Interval\", TimeValue (interPacketInterval_udpEcho_0));\nclient_udpEcho_0.SetAttribute (\"PacketSize\", UintegerValue (1024));\napps_udpEcho_0 = client_udpEcho_0.Install (term_0.Get (0));\napps_udpEcho_0.Start (Seconds (0.1));\napps_udpEcho_0.Stop (Seconds (2.0));\n\n/* Simulation. */\n/* Pcap output. */\n/* Stop the simulation after x seconds. */\nuint32_t stopTime = 3;\nSimulator::Stop (Seconds (stopTime));\n/* Start and clean simulation. */\nSimulator::Run ();\nSimulator::Destroy ();\n}",
    "answer": "If you are new, you should start your program by looking the examples already provided by ns-3. Like this:\nhttps://www.nsnam.org/doxygen/simple-routing-ping6_8cc_source.html\n. Looking the network topology, it is what you want.\nTrying to run your code, I had to change a lot of headers to make it compile (maybe different versions, given the time - or your GUI is outdated). Remove yours and put these:\n#include \"ns3/core-module.h\"\n#include \"ns3/internet-module.h\"\n#include \"ns3/point-to-point-module.h\"\n#include \"ns3/applications-module.h\"\n#include \"ns3/csma-helper.h\"\nAnd finally, you'd printed nothing, so I am not sure of what you were trying to do. As you are using, UdpEchoClientHelper and UdpEchoServerHelper, I would recommend to enable their logs. You can do this with these two lines:\n/* Configuration. */\nLogComponentEnable (\"UdpEchoClientApplication\", LOG_LEVEL_INFO);\nLogComponentEnable (\"UdpEchoServerApplication\", LOG_LEVEL_INFO);\nI am new too and I do not know what you are trying to do. So I will stop my answer here. Good luck."
  },
  {
    "url": "https://stackoverflow.com/questions/27053616/error-while-creating-c-array",
    "title": "Error while creating C++ array",
    "question": "#include \"connection.h\"\n\n\n ConnectionType[] ConnectionArray = new ConnectionType[NUMBER_OF_CONNECTIONS];\nI get 2 errors\nError: expected an identifier\nError: expected a ';'\nI have\nclass ConnectionType {\npublic:\n  Ptr<Socket> txMstrSocPtr; /// Pointer to Master tx socket\n  Ptr<Socket> rxMstrSocPtr; /// Pointer to Master rx socket\n  Ptr<Socket> txSlavSocPtr; /// Pointer to Slave tx socket\n  Ptr<Socket> rxSlavSocPtr; /// Pointer to Slave rx socket\n\n  //ConnectionType();\n  //~ConnectionType();\n\n  void rxMstrCallBack(Ptr<Socket> socket);\n  void rxSlavCallBack(Ptr<Socket> socket);\n};\n\nDefined in connection.h\nDo you have any idea why I get these 2 errors?",
    "answer": "The declaration syntax needs to be changed to:\nConnectionType* ConnectionArray = new ConnectionType[NUMBER_OF_CONNECTIONS];"
  },
  {
    "url": "https://stackoverflow.com/questions/26893981/propagation-loss-models-ns-3",
    "title": "Propagation Loss Models ns-3",
    "question": "I am using ns-3 and I am doing a network with 3 stations and 1 AP. It works fine but then I have to analyse it with the cost 231 model (Cost Hata) and with the Friis model. I observed that if you put one station away , using the Friis model allows much larger distances. Is there a particular reason for this?",
    "answer": "The explanation for this behavior due to the different of environmental assumptions of the two models: COST-Hata assumes urban scenario while Friis assumes a free space scenario.\nIn urban scenario the signal attenuates very quickly due to the reflection, refraction and signal blocking due to imaginary buildings and walls. While In free space signal can reach longer distance based on the signal strength.\nThis means that on using the Friis model with small transmission power several nodes are reached. This results in short paths, but also in high contention. With the urban models more transmission power is required to reach nodes behind imaginary walls.\nTo understand different behavior for  NS3 propagation models check the following paper\nComparing the ns-3 Propagation Models"
  },
  {
    "url": "https://stackoverflow.com/questions/26599949/is-the-standard-ns3-protocol-header-example-complete",
    "title": "Is the standard NS3 protocol header example complete?",
    "question": "I am trying to implement the standard advice for creating a new protocol header in NS3.  I have been following the brief tutorial at\nhttp://www.nsnam.org/wiki/HOWTO_create_a_new_type_of_protocol_header_or_trailer\n.\nEven just by copying the code into the relevant files, I get errors saying SetData and GetData are undefined.\n./libns3.21-applications-debug.so: undefined reference to\nns3::LocHeader::GetData() const'\n./libns3.21-applications-debug.so: undefined reference to\nvtable for ns3::LocHeader'\n./libns3.21-applications-debug.so: undefined reference to\nns3::LocHeader::SetData(unsigned int)'\nclang: error: linker command failed with exit code 1 (use -v to see invocation)`\nI don't see function definitions for SetData() or GetData() in any of the example code. Was I supposed to write code that does this myself? It seems like that would have been included in the example code.",
    "answer": "The answer is yes, it does work if GetData and SetData are implemented by the user.\nHowever, there are two steps missing from the example code given.\nThe the new .h and .cc files have to be added to ./wscript, which wasn't immediately obvious.\nThe type definition of GetInstanceTypeId contains an error. There was a missing \"const\":\nTypeId\nYHeader::GetInstanceTypeId (void)\n{\nreturn GetTypeId ();\n}\nshould have read:\nTypeId\nYHeader::GetInstanceTypeId (void) const\n{\nreturn GetTypeId ();\n}\nI'll suggest an update to the page maintainer."
  },
  {
    "url": "https://stackoverflow.com/questions/26478840/how-do-link-my-ns3-program-with-system-libraries",
    "title": "How do link my ns3 program with system libraries?",
    "question": "I need to link my ns3 program with lex and yaac libraries.\nUsing gcc the command would simply be:\ngcc -o my_program my_program -ll -ly\nHow do i do this using waf.\nMy current wscript looks like this:\ndef build(bld):\nobj = bld.create_ns3_program('my_program', ['core', 'mobility', 'wifi', 'csma', 'applications', 'config-store', 'stats'])\nobj.source = ['my_program.cc']\nI have tried adding obj.env.append_values(\"LIB\", ['l','y']) and several other variations. But that did not help.",
    "answer": "You need to update the wscript file and add the required library dependency. \nSee the example here\nhttp://garfield001.wordpress.com/2013/04/16/compile-and-link-ns3-program-with-external-library/\nOr you can look at examples like in /stats/ module how SQL libraries are included."
  },
  {
    "url": "https://stackoverflow.com/questions/25035309/dummy-packet-shown-in-pcap-file",
    "title": "Dummy Packet Shown in pcap file",
    "question": "I am new to ns3. I want to send custom data from node 1 to node 2(say a string) in UDP Echo Application. I am creating the packet, adding header and trailer, and the tags. I have also enabled metadata. I have used the code provided in other threads here to add the data into packet. (stringstream msg..........;     ). But I am unable to view the data in the pcap, all I see is zeroes, so basically dummy packet is getting displayed. I have followed this link :\n:\nhttp://www.nsnam.org/support/faq/miscellaneous/\nCould anybody please tell me what I am doing wrong?\nThank you very much! :)",
    "answer": "You should check \"example/tutorial2.cc\" to understand how to send a custom UDP package and generate pcap file from it.\nhttp://www.nsnam.org/doxygen/second_8cc_source.html"
  },
  {
    "url": "https://stackoverflow.com/questions/24446345/waf-command-not-working",
    "title": "./waf command not working",
    "question": "I am using ns-3.16 in ubuntu 12.04. I'm new to python as well as ns3. When I run this ./waf (or any other waf command) it produces the following code:\nWaf: Entering directory `/home/hp/ns-3.16-git-master/build'\nWaf: Leaving directory `/home/hp/ns-3.16-git-master/build'\nTraceback (most recent call last):\n  File \"/home/hp/ns-3.16-git-master/.waf-1.6.11-30618c54883417962c38f5d395f83584/waflib/Scripting.py\", line 97, in waf_entry_point\n    run_commands()\n  File \"/home/hp/ns-3.16-git-master/.waf-1.6.11-30618c54883417962c38f5d395f83584/waflib/Scripting.py\", line 151, in run_commands\n    run_command(cmd_name)\n  File \"/home/hp/ns-3.16-git-master/.waf-1.6.11-30618c54883417962c38f5d395f83584/waflib/Scripting.py\", line 143, in run_command\n    ctx.execute()\n  File \"/home/hp/ns-3.16-git-master/.waf-1.6.11-30618c54883417962c38f5d395f83584/waflib/Scripting.py\", line 345, in execute\n    return execute_method(self)\n  File \"/home/hp/ns-3.16-git-master/.waf-1.6.11-30618c54883417962c38f5d395f83584/waflib/Build.py\", line 98, in execute\n    self.execute_build()\n  File \"/home/hp/ns-3.16-git-master/.waf-1.6.11-30618c54883417962c38f5d395f83584/waflib/Build.py\", line 107, in execute_build\n    self.compile()\n  File \"/home/hp/ns-3.16-git-master/.waf-1.6.11-30618c54883417962c38f5d395f83584/waflib/Build.py\", line 182, in compile\n    self.producer.start()\n  File \"/home/hp/ns-3.16-git-master/.waf-1.6.11-30618c54883417962c38f5d395f83584/waflib/Runner.py\", line 149, in start\n    self.refill_task_list()\n  File \"/home/hp/ns-3.16-git-master/.waf-1.6.11-30618c54883417962c38f5d395f83584/waflib/Runner.py\", line 98, in refill_task_list\n    self.outstanding.extend(self.biter.next())\n  File \"/home/hp/ns-3.16-git-master/.waf-1.6.11-30618c54883417962c38f5d395f83584/waflib/Build.py\", line 396, in get_build_iterator\n    self.post_group()\n  File \"/home/hp/ns-3.16-git-master/.waf-1.6.11-30618c54883417962c38f5d395f83584/waflib/Build.py\", line 380, in post_group\n    f()\n  File \"/home/hp/ns-3.16-git-master/.waf-1.6.11-30618c54883417962c38f5d395f83584/waflib/extras/compat15.py\", line 114, in post\n    return old_post(self)\n  File \"/home/hp/ns-3.16-git-master/.waf-1.6.11-30618c54883417962c38f5d395f83584/waflib/TaskGen.py\", line 110, in post\n    v()\n  File \"/home/hp/ns-3.16-git-master/src/wscript\", line 436, in apply_ns3header\n    dst_node = ns3_dir_node.find_or_declare(src_node.name)\nAttributeError: 'NoneType' object has no attribute 'find_or_declare\nHow should I troubleshoot this?",
    "answer": "That's just mean your ns3_dir_node is None. Thus it has no find_or_declare method. You have to look at your script to find why your ns3_dir_node id None."
  },
  {
    "url": "https://stackoverflow.com/questions/24387201/how-to-simulate-gsm-network",
    "title": "How to simulate GSM network",
    "question": "I want to simulate a moving cell phones on a high way. I need a simulator to build the GSM network and get the cell phones information during the trip on this road.\nI am trying to use ns3, but its very complicated to me (as i am new to this) and i searched for any\nhello world\ntutorial to get me in, but in vain.\nI need help in how to do this with ns3. Or is there any other simple simulators that can do this?. Any tiny tips are very appreciated.",
    "answer": "NS3 support LTE and WiMax but does not support GSM.\nTo do some hello world, you can try\n./waf --run hello-simulator\nYou could find hello world script at\nscratch\nfolder."
  },
  {
    "url": "https://stackoverflow.com/questions/24373487/ns3-execute-function-during-simulation-at-regular-time-interval",
    "title": "ns3 execute function during simulation at regular time interval",
    "question": "How can I execute a function every 20us for example?\nI aim to log the busy/free state on a CSMA channel using\nns3::CsmaChannel::IsBusy\n(is that the best way to do it?) I have to call it at regular time interval to log each returned value and time.",
    "answer": "You can use\nsimulator:: schedule function\nto schedule function on a regular time interval\nSimulator:: Schedule (Seconds(20.0), &function name, parameter1, parameter 2)\nThis is the syntax for scheduling an event for every 20 seconds"
  },
  {
    "url": "https://stackoverflow.com/questions/23882351/how-do-i-give-reference-to-the-xerces-library-using-waf-on-linux",
    "title": "How do I give reference to the xerces library using waf on linux",
    "question": "I am trying to build a ns3 module and I got stuck on \" undefined reference errors\" .I have dealt with those in the past by specifying the location of the definitions through #include directives but now I am puzzled by the fact that the undefined references are coming from the shared libraries as shown on the output I am getting on this link:\nhttp://www.blikoon.com/wp-content/uploads/2014/05/wafError-1024x575.png\nSome search results pointed out that my problem might be related to the path to my library not being specified but I do have the\nmodule.uselib='Xerces-C++\nstatement  in the wscript file  of my module\nIs there a way I can get waf to make my compiler aware of the Xerces library location.Searching on my system ,I have found that xerces is installed in :\n/usr/include/xercesc\nI am building on the latest verion of ns3.19 and it uses waf1.7.13.\nThank you for your time.",
    "answer": "I do not know about Xcerces, but this is how I have used libxml library. It should be fairly similar of other libraries. This is from NS-3.19, you can look at other modules that use external libraries such as the stats using SQL\nIn the wscript file of your module you should start like this:\nimport wutils\n\ndef configure(conf):\n     have_libxml2 = conf.check_cfg(package='libxml-2.0', atleast_version='2.6',\n                              args=['--cflags', '--libs'], uselib_store='LIBXML2',\n                              mandatory=False)\n\nconf.env['ENABLE_LIBXML2'] = have_libxml2\nconf.report_optional_feature(\"XmlIo\", \"XmlIo\",\n                             conf.env['ENABLE_LIBXML2'],\n                             \"library 'libxml-2.0 >= 2.7' not found\")"
  },
  {
    "url": "https://stackoverflow.com/questions/23752937/ns3-adding-a-new-module-gcc-not-finding-included-headers",
    "title": "Ns3 adding a new module-- gcc not finding included headers",
    "question": "I am trying to add a new custom module to NS3\nNetwork Simulator 3\nand I am having trouble making the header files of the module visible to the compiler.\nHere is what I did:\n1.I followed this\nguide\nto add a new noc module using the createModule script.\n2.I went on and copied my module files into the new created noc directory and made waf(the build system ns3 uses) aware of my new files through editing the wscript file.\n3.It is my understanding that with all this set up(I probably wrong) that with this set up,running the waf commands to rebuild ns3 should rebuild ns3 with my new module.\nTo build I give the following commands:\n./waf clean\n\n  ./waf configure --enable examples\n\n  ./waf build\nThe system goes on and builds ns3 and when it gets to my noc module it throws errors about objects of a Scalar Class not being defined in the scope.This usually means that I haven't included the header files but I have tried to copy them with other module files and included them with statements like #include \"nstime.h\" .With this the problem persisted. I tried copying the header with the definition of my class in the /usr/include directory and inlcuded it with #include  and the problem is still there.\nI realize this is a long post ,I am sorry but I would really appreciate it if somebody helped point out what I am missing.Thank you for your time.",
    "answer": "You should also make sure in your wscript file that you add the dependencies of your module to other ns-3 modules as explained\nhere\n."
  },
  {
    "url": "https://stackoverflow.com/questions/23678854/send-a-packet-through-udpl4protocol-with-ns3",
    "title": "Send a packet through UdpL4Protocol with NS3",
    "question": "I am trying to run a simulation in ns3(C++) in which a node sends a packet to another node with the method \"Send\"(included in the ns3 library).\nThe program builds properly but I get a segmentation fault when I run it.\nI checked the parameters, I am not doing anything fancy with pointers.\nIt seems the error comes from the method \"Send\" but I can't figure out what exactly is the problem, I tried displaying the IP addresses and they seem to be alright, I tried to create the packet with the default constructor, with parameters. I also tried to use IPv6 addresses but it did not work neither.\nPlease help, I'm out of ideas\nHere is my code :\n#include \"ns3/core-module.h\"\n#include \"ns3/network-module.h\"\n#include \"ns3/internet-module.h\"\n#include \"ns3/wifi-module.h\"\n#include \"ns3/point-to-point-module.h\"\n#include \"ns3/applications-module.h\"\n#include \"ns3/netanim-module.h\"\n#include \"ns3/mobility-module.h\"\n#include <vector>\n#include <string.h>\n\nusing namespace ns3;\nvoid velocityHandler(Ptr<ConstantVelocityMobilityModel> vel, Vector3D vec) {\n    vel->SetVelocity(vec);\n}\n\nvoid sendHandler(UdpL4Protocol* udp,NodeContainer nodes, Ptr<Packet> paquet) {\n\n\n    Ptr<Ipv4> ipv4 = nodes.Get(1)->GetObject<Ipv4>();\n    Ptr<Ipv4> ipv42 = nodes.Get(0)->GetObject<Ipv4>();\n\n    Ipv4Address adr = ipv4->GetAddress(1,0).GetLocal();\n    Ipv4Address adr2 = ipv42->GetAddress(1,0).GetLocal();\n\n    udp->Send(paquet, adr,adr2,(uint16_t)50 ,(uint16_t)60/*,Ptr<Ipv4Route>(route)*/);\n\n\n}\n\nint main() {\n    Time::SetResolution (Time::MS);\n    //Creation des Noeuds\n    NodeContainer nodes1, nodes2;\n    nodes1.Create(1);\n    nodes2.Create(2);\n\n\n    //Positionnement des noeuds\n    MobilityHelper mobility1, mobility2;\n    mobility1.SetPositionAllocator(\"ns3::GridPositionAllocator\",\"MinX\",\n                                DoubleValue(0.),\"MinY\",DoubleValue(6.));\n    mobility2.SetPositionAllocator(\"ns3::GridPositionAllocator\",\"MinX\",\n                                DoubleValue(2.),\"MinY\",DoubleValue(0.),\n                                \"DeltaX\",DoubleValue(2.),\"DeltaY\",\n                                DoubleValue(4.),\"GridWidth\",UintegerValue(1),\n                                \"LayoutType\",StringValue(\"RowFirst\"));\n\n    //Deplacements des noeuds\n    mobility1.SetMobilityModel(\"ns3::ConstantVelocityMobilityModel\");\n    mobility1.Install(nodes1);\n    Ptr<ConstantVelocityMobilityModel> velmodel = nodes1.Get(0)->GetObject<ConstantVelocityMobilityModel>();\n\n    (*velmodel).SetVelocity(Vector3D(0.,0.,0.));\n\n\n    mobility2.SetMobilityModel(\"ns3::ConstantPositionMobilityModel\");\n    mobility2.Install(nodes2);\n\n\n\n    //liens\n\n    PointToPointHelper p2p;\n    p2p.SetDeviceAttribute(\"DataRate\", StringValue (\"2Mbps\"));\n    p2p.SetChannelAttribute(\"Delay\", StringValue (\"2ms\"));\n\n\n    //Interfaces\n    NetDeviceContainer devices;\n    devices = p2p.Install(nodes2);\n\n\n    //Pile protocolaire\n    InternetStackHelper stack;\n    stack.Install(nodes2);\n\n\n\n    //Adressage\n    Ipv4AddressHelper address;\n    address.SetBase(\"30.0.0.0\",\"255.255.255.0\");\n    Ipv4InterfaceContainer interfaces = address.Assign(devices);\n\n\n    //UDP\n    UdpL4Protocol* udp = new UdpL4Protocol();\n\n\n    udp->SetNode(nodes2.Get(0));\n    udp->SetNode(nodes2.Get(1));\n\n\n\n\n    //lancement de la simulation\n    Packet a = Packet();\n    AnimationInterface anim (\"animudp.xml\");\n    Simulator::Schedule(Seconds(1.),&velocityHandler, velmodel, Vector3D(5.,0.,0.));\n    Simulator::Schedule(Seconds(0.2),&sendHandler,udp, nodes2, Ptr<Packet>(&a));\n    Simulator::Run();\n    Simulator::Stop(Seconds(10.));\n\n\n\n}\nand the message i get from the debugger :\nProgram received signal SIGSEGV, Segmentation fault.\n0x00007ffff5919900 in ns3::Callback<void, ns3::Ptr<ns3::Packet>, ns3::Ipv4Address, ns3::Ipv4Address, unsigned char, ns3::Ptr<ns3::Ipv4Route>, ns3::empty, ns3::empty, ns3::empty, ns3::empty>::operator() (this=0x66aa40, a1=..., a2=..., a3=..., a4=17 '\\021', a5=...)\n    at ./ns3/callback.h:1077\n1077        return (*(DoPeekImpl ()))(a1,a2,a3,a4,a5);",
    "answer": "Have you follow this belowing link procedure ?\nhttp://www.nsnam.org/wiki/HOWTO_understand_and_find_cause_of_terminated_with_signal_errors"
  },
  {
    "url": "https://stackoverflow.com/questions/22612243/taking-17-x-seconds-to-send-10mb-over-a-10mb-s-link-through-a-switch-in-ns3",
    "title": "Taking 17.x seconds to send 10MB over a 10MB/s link through a switch in ns3",
    "question": "I am working to get the hang of ns3 and doing a sanity check but it turned out wrong.\nI want to send 10MB on TCP through a switch at a rate of 10MB/s and I expect it to take 1.x seconds but because of some apparent buggery it is taking a whopping 17.x seconds.\nI can't seem to figure out what is wrong after googling and checking the users ns-3 group.\nIf someone could point me in the right direction of how to effectively debug this I'd take that as an answer. btw, if I set delay to zero, it works about ten times faster which I couldn't make sense out of and only takes 1.7x seconds.\nHere is enough code to reproduce the behaviour:\n#include <iostream>\n#include <fstream>\n\n#include \"ns3/core-module.h\"\n#include \"ns3/network-module.h\"\n#include \"ns3/applications-module.h\"\n#include \"ns3/bridge-module.h\"\n#include \"ns3/csma-module.h\"\n#include \"ns3/internet-module.h\"\n\nusing namespace ns3;\n\nint\nmain (int argc, char *argv[])\n{ \n  uint32_t burstSize  = 10000000;\n  uint32_t packetSize = 1000;\n\n  Config::SetDefault(\"ns3::TcpSocket::SegmentSize\", UintegerValue (packetSize)); \n\n\n  // Create the topology's nodes.\n\n  NodeContainer nodes;\n  nodes.Create (2);\n\n  NodeContainer csmaSwitch;\n  csmaSwitch.Create (1);\n\n  NetDeviceContainer nodeDevices;\n  NetDeviceContainer switchDevices;\n\n  // Setting up csma attributes                      \n  CsmaHelper csma;\n\n  // Setting up node's channels\n  csma.SetChannelAttribute (\"DataRate\", DataRateValue (DataRate (\"10MB/s\")));\n  csma.SetChannelAttribute (\"Delay\", StringValue (\"10ms\"));\n  for (int i = 0; i < 2; i++)\n    {\n      NetDeviceContainer link = csma.Install (NodeContainer (nodes.Get (i), csmaSwitch));\n      nodeDevices.Add (link.Get (0));\n      switchDevices.Add (link.Get (1));\n    }\n\n  // Create the bridge netdevice, which will do the packet switching\n  Ptr<Node> switchNode = csmaSwitch.Get (0);\n  BridgeHelper bridge;\n  bridge.Install (switchNode, switchDevices);\n\n  // Add internet protocol stack to nodes\n  Config::SetDefault (\"ns3::TcpL4Protocol::SocketType\", StringValue (\"ns3::TcpReno\"));\n  InternetStackHelper internet;\n  internet.Install (nodes);\n  internet.Install (csmaSwitch);\n\n  // Add IP addresses\n  Ipv4AddressHelper ipv4;\n  ipv4.SetBase (\"10.1.1.0\", \"255.255.255.0\");\n  Ipv4InterfaceContainer nodeInterfaces;\n  nodeInterfaces = ipv4.Assign (nodeDevices);\n\n  uint16_t port = 10100;\n  BulkSendHelper source (\"ns3::TcpSocketFactory\",\n                        InetSocketAddress (nodeInterfaces.GetAddress (0), port));\n\n  source.SetAttribute (\"MaxBytes\", UintegerValue (burstSize));\n  source.SetAttribute (\"SendSize\", UintegerValue (packetSize));\n\n  ApplicationContainer sourceApps = source.Install (nodes.Get (1));\n\n  sourceApps.Start (Seconds (0.0));\n  sourceApps.Stop (Seconds (1000.0));\n\n  //\n  // Create a PacketSinkApplication and install it on node 0\n  //\n  PacketSinkHelper sink (\"ns3::TcpSocketFactory\",\n                        InetSocketAddress (Ipv4Address::GetAny (), port));\n  ApplicationContainer sinkApps = sink.Install (nodes.Get (0));\n  sinkApps.Start (Seconds (0.0));\n  sinkApps.Stop (Seconds (1000.0));\n\n  csma.EnablePcapAll (\"results/pcap/data\", false);\n\n  Simulator::Run ();\n  Simulator::Destroy ();\n}",
    "answer": "The implementation of csma bridge is half duplex and that's why performance is terrible."
  },
  {
    "url": "https://stackoverflow.com/questions/22286010/ns-3-router-buffer-simulation",
    "title": "ns-3 router buffer simulation?",
    "question": "I read this question:\nhttps://stackoverflow.com/questions/20164788/how-to-assign-buffer-to-nodes-in-ns3-and-change-the-queue-length-of-each-node-or\nMy question is a bit more straightforward.\nI have an application running with\nN\nnodes sending traffic with\nN * M\nBulkSendSApplication\ninstances to a main node through a switch. This is working well.\nI would like to simulate a buffer on the switch so if there is a burst, the packets that cannot be sent at the moment will be stored and sent later. Is there any example or any piece of code when I should start learning first?\nI tried the tutorial which is excellent but did not see the relevant information so far. I also read some of the manual and documentation but did not see a simple buffer that could be installed like you would install other applications and net-devices (I see the buffer as an application).\nAm I wrong in thinking the buffer should be an application?\nCurrently I am using a modified version of\nthis\nexample for the bridge which relies on\nBridgeHelper\nand a\nCsmaHelper\nto create the desired setup.",
    "answer": "The CSMA devices used by the bridge to model the ports of the switch contain an outgoing queue. The defaut type of packet queue created by the CsmaHelper that is used to create the ports of your switch is a DropTailQueue.\ni.e.:\nCsmaHelper::CsmaHelper ()\n{\n  m_queueFactory.SetTypeId (\"ns3::DropTailQueue\");\n  m_deviceFactory.SetTypeId (\"ns3::CsmaNetDevice\");\n  m_channelFactory.SetTypeId (\"ns3::CsmaChannel\");\n}\nIf you need to change this, you can call\nCsmaHelper::SetQueue(\"ns3::RedQueue\", \n                     \"Mode\", StringValue(\"QUEUE_MODE_BYTES\"), \n                     \"QueueLimit\", StringValue(\"10MB\"))"
  },
  {
    "url": "https://stackoverflow.com/questions/22244362/how-to-create-a-bulksendapllication-for-multiple-destinations",
    "title": "How to create a BulkSendApllication for Multiple destinations?",
    "question": "I tried to create a BulkSend Application that sends data to multiple sink nodes, but the following snippet\nBulkSendHelper source (\"ns3::TcpSocketFactory\",\n                     InetSocketAddress (clientInterfaces.GetAddress (1), port));\nis able to send for only single sink node. How to make it work for multiple sinks??\nThanks in advance,, :D",
    "answer": "The only way I was able to set the\nBulkSenkApplication\nto send to multiple sink nodes was to simply workaround it by creating multiple\nBulkSendApplication\n(s) where each instance sends to a different sink node. I think that is the intended way. The App is suppose to be very simple."
  },
  {
    "url": "https://stackoverflow.com/questions/22198985/ns-3-uniquely-indexing-application-instances-packets-and-so-on",
    "title": "ns-3 uniquely indexing application instances, packets and so on",
    "question": "I'm running a simulation with several\nBulkSendApplication\ninstances. Is there any built-in way to select a unique index for each instance and use that when logging information (much like it does with nodes)? Also, what is the correct way to track packets and attach a unique identifier to each of them?",
    "answer": "I did not add an internal counter to monitor application instances. Instead I used a\nunique socket port\nfor each\nBulkSendApplication\nand was then able to figure out which packets belong to which node when I looked in the\npcap\nfile using\ntcpdump\n."
  },
  {
    "url": "https://stackoverflow.com/questions/22142530/ns-3-simulator-bulksendapplication-completion-time",
    "title": "ns-3 simulator BulkSendApplication completion time?",
    "question": "I set up a simulator where\nN\nslave nodes are sending data to a master node using\nBulkSendApp\n. The issue is that I can't seem to find how to log the completion time of the operation. I know about logging with the\nprefix_time\nflag (for instance)\nexport 'NS_LOG=BulkSendApplication=level_all|prefix_func|prefix_time\nBut this just logs all the packets. I only want the completion time.\nIs there any way to get it without modifying the application class itself?",
    "answer": "I found an easy and reasonably reliable way to accomplish this (welcoming comments).\n1.\nAdd a pcap log to the sending nodes:\nfor me it was:\ncsma.EnablePcapAll (\"tcp-bulk-send\", false);\n.\ncsma\nis the helper I used to construct the switch topology. When this is enabled you get a .pcap file when you run the simulation.\n2.\nuse\ntcpdump -nn -tt -r tcp-bulk-send-N-D.pcap\n(\nN\n= node index;\nD\n= device index)\nThis will print the relevant node's packet capture log. Now check when was the last ack received. You can also check how many packets were sent successfully (check how many were received on the other side) by making sure the application uses a unique socket port. The time when the last ack arrived is basically the needed completion time."
  },
  {
    "url": "https://stackoverflow.com/questions/22125213/ns3-using-a-data-quota-instead-of-a-time-limit-to-stop-a-simulated-application",
    "title": "ns3 - using a data quota instead of a time limit to stop a simulated application?",
    "question": "I am using ns-3 to simulate a scenario where the N nodes are sending a predetermined amount of data to a parent node using TCP. I see in the code examples that you can set the Start and Stop time easily.  I am wondering if I could just as easily in a somewhat high-levely way set the amount of data the application needs to transfer before completion and just have it stop once it's done.\nI know that I can use\nMaxPackets\nto limit packet count but I'm not sure if it will take into account retransmits. What I really want to limit isn't retransmits, just the total amount of data.",
    "answer": "The BulkSendApplication class is exactly suitable for this purpose.\nIt could be set up with the BulkSendHelper.\nhttp://www.nsnam.org/doxygen-release/classns3_1_1_bulk_send_application.html"
  },
  {
    "url": "https://stackoverflow.com/questions/22065048/setting-default-rto-retransmit-timeout-value-in-ns-3-simulator",
    "title": "Setting default RTO (Retransmit Timeout) value in ns-3 simulator",
    "question": "I found this in rtt-estimator.h the constructor sets the value for\nm_initialEstimatedRtt\nwhich I believe directly controls the Retransmit Timeout value.\nI am not sure how to set the value for\nm_initialEstimatedRtt\n.\nI see a method named\nSetCurrentEstimate\nthat could be used to change that value but I am not sure at what stage in the simulation I should modify it if I use that so I prefer to control the initial.\nAlso I'm wondering what is the default value set in the examples and where can I find it?",
    "answer": "There are many ways to set that variable, chiefly through the attribute system. The attriobute associated to that variable is ns3::RttEstimator::InitialEstimation from rtt-estimator.cc)\nIf you have followed the standard script layout, all you need is to use the following command-line argument:\n--ns3::RttEstimator::InitialEstimation=1.0s\nThe tutorial gives a gentle introduction to the use of attributes through the command-line and environment variables:\nhttp://www.nsnam.org/docs/release/3.19/tutorial/html/tweaking.html#using-command-line-arguments\nThere are more details there:\nhttp://www.nsnam.org/docs/release/3.19/manual/html/attributes.html\nYou might find the ConfigStore useful too:\nhttp://www.nsnam.org/docs/release/3.19/manual/html/attributes.html#configstore"
  },
  {
    "url": "https://stackoverflow.com/questions/21781420/weird-math-error-when-comparing-two-double-values-in-ns-3-c",
    "title": "Weird math error when comparing two double values in NS-3 C++",
    "question": "I'm using NS-3 (written in c++) to simulate a network environment.\nI'm using its flowmonitor class to record performance metrics from a wireless link.\nOne thing I am collecting is the time variance between the current and previous packet delay or \"jitter\".\nTo get this I am subtracting the time value (converted to a double variable) of one packet delay to the previous value.\ni.e\n0.0159051 - 0.0158002 = 0.0001049\nHowever, after a while the math seems to act very strangely such as:\n0.0159003 - 0.0158007 = 9.95972e-05\nwhen the answer should clearly be 0.0000996\nTo elaborate further, I initially used a diff function to find the difference.\ntemplate <typename T1, typename T2>\ndouble diff(const T1& lhs, const T2& rhs)\n{\n  std::cout << lhs << \" - \" << rhs << std::endl;\n  return lhs - rhs;\n}\nBut since i discovered the error, I tried straight subtraction but I get the same error.",
    "answer": "Floating point format uses binary representation of a mantissa and exponent, it can't precisely express every decimal (decadic) numeric fraction, and it's precision is limited, so be sure to check if the double format can represent your values precisely. More about double format\nhere on wikipedia\n. There is more questions about floating point precision on stack overflow, check\nthis one\nand other related to it.\nThere are some consequences:\nyou can't count on that you'll get precise value of your desired numbers\nyou can't simply compare numbers for equality,\n(1.0+2.0)==3.0\ncould work, but any more complex calculation with fractions could not compare equal...\nprecision of floating point number is limited, when you sum or multiply many numbers together, especially with different exponent, you'll accumuate large error in computation (see\nKahan summation algorithm\n)"
  },
  {
    "url": "https://stackoverflow.com/questions/21672321/can-ns3-emu-be-applied-on-different-machines-in-wan",
    "title": "Can NS3 EMU be applied on different machines in WAN?",
    "question": "we are currently considering whether ns3 satisfying our requirements, we're looking for a convenient tool to run in distributed devices in the real network (every kind of possible connections) and capture the network performance data (like a sniffer). I realize that the primary purpose of ns3 is to simulate network topology in a single machine, but its emu module sounds promising and the flow monitor can save our effort on data capture.\nIn the following link\nhttp://www.nsnam.org/wiki/HOWTO_make_ns-3_interact_with_the_real_world\nit is declared that NS-3 EMU can be applied to inject simulated nodes interacting with real live network, and 3 kinds of testbed are given. However the first solution, virtual machine vmware testbed is still woking within LAN -- in promiscuous mode the virtual machines network card are listening to all LAN broadcasts so that the emu-udp-echo server and client can find each other.\nMy question is, is it possible that the emu-udp-echo server/client running in different, physical systems from different positions in wide network?\ne.g. in different cities or from different network providers, given ip address of the hardware where the other ns-3 node is running? if it is possible, how can i specify the \"real\" ip address and port for the node, instead of assign a virtual ipv4 address?\nThanks a lot.",
    "answer": "Yes, while the documentation describes how to perform this using virtual machines, this can be done in general on real hardware.  Since that HOWTO was written, there has been additional work on providing helpers for running this type of experiment, including running on PlanetLab testbed machines.  This documentation describes the generalized file descriptor NetDevice, added to the ns-3.17 release:\nhttp://www.nsnam.org/docs/release/3.19/models/html/fd-net-device.html\n.  A similar example to the one described in that HOWTO is found in the file fd-emu-udp-echo.cc.\nWhen using emulation mode on real networks, configuration of the MAC addresses and IP addresses must be done carefully.  First, the device must be able to be put into promiscuous mode.  Second, the MAC address needs to be different than the hardware address of the NIC.  If you intend to be riding on top of an active NIC with existing IP address (in use for other Internet traffic), you'll need to have another IP address for ns-3 that is within the right link subnet.  If instead you want to dedicate the NIC to ns-3 use, then do not assign the IP address to the host NIC and just assign it to the ns-3 configuration.\nThe PlanetLab example also shows another configuration that uses Tap devices to send data to/from PlanetLab testbed nodes.  Some of this configuration is specific to how PlanetLab works, but the use of Tap device bridged to an ns-3 device may also facilitate emulation."
  },
  {
    "url": "https://stackoverflow.com/questions/21588350/how-to-configure-eclipse-cdt-to-use-waf-for-ns3-build",
    "title": "How to configure Eclipse CDT to use WAF for ns3 build?",
    "question": "I'm trying to build ns3 on windows, and I'm using eclipse.\nI have a problem to configure Eclipse to trigger the external builder tool \"waf\"\nEach time I adjust the build command I get an error, as eclipse seems not to be able to trigger the waf script\nAny help with that, I have tried the HOWto Page on ns3 WiKi but it doesn't seem to be working with me",
    "answer": "Default NS-3 does not run with native Windows compiler. There is an 'experimental' version of NS-3 that can run on Visual Studio. For more information read this:\nhttp://www.nsnam.org/wiki/Ns-3_on_Visual_Studio_2012"
  },
  {
    "url": "https://stackoverflow.com/questions/21274004/python-compile-error-when-using-binding-c",
    "title": "Python compile error when using binding C++",
    "question": "I'm trying to implement an array in my C++ simulation (this coding provided is to have 2 values in one network packet field).\nThis is my variable declaration (in the header):\nPtr<Name> m_names [2];\nThis is my function declaration (in the header):\nvoid SetName (unsigned which, Ptr<Name> name);\nvoid SetName (unsigned which, const Name &name);\nSource file:\nvoid Interest::SetName (unsigned which, Ptr<Name> name)\n{\n    if (which < 2)\n    {\n        m_names[which] = name;\n    }\n}\n\nvoid Interest::SetName (unsigned which, const Name &name)\n{\n    if (which < 2)\n    {\n        m_names[which] = Create<Name> (name);\n    }\n}\nThe way I call this is like this (in my main file):\ninterest->SetName (0, nameWithSequence);\ninterest->SetName (1, nameWithNextSequence);\nAs a result, it gives an error like this:\nsrc/ndnSIM/bindings/ns3module.cc: In function ‘PyObject* _wrap_PyNs3NdnData_SetName__0(PyNs3NdnData*, PyObject*, PyObject*, PyObject**)’:\nsrc/ndnSIM/bindings/ns3module.cc:8418:62: error: no matching function for call to ‘ns3::ndn::Data::SetName(ns3::Ptr<ns3::ndn::Name>)’\nsrc/ndnSIM/bindings/ns3module.cc:8418:62: note: candidates are:\n./ns3/ndn-data.h:60:3: note: void ns3::ndn::Data::SetName(unsigned int, ns3::Ptr<ns3::ndn::Name>)\n./ns3/ndn-data.h:60:3: note:   candidate expects 2 arguments, 1 provided\nThe question is what is the correct way to declare the correct statement?\nEDIT\n:\nI have found some of the Python definitions to bind my C++ code (SetName)\ndef __setattr__(self, name, value):\n    if name == \"_interest\":\n        return object.__setattr__ (self, name, value)\n\n    elif name == \"name\":\n        if value is None:\n            return self._interest.SetName (ns.ndnSIM.ndn.Name ())\n        elif isinstance (value, Name):\n            return self._interest.SetName (value._name)\n        elif isinstance (value, ns.ndnSIM.ndn.Name):\n            return self._interest.SetName (value)\n        elif isinstance (value, str):\n            return self._interest.SetName (ns.ndnSIM.ndn.Name (value))\n        else:\n            raise ValueError (\"Invalid name parameter\")",
    "answer": "Okay.. let me just give you an example.\nI assume\nPtr\nacts something like\nstd::shared_pointer\n, and\nName\nlike a\nstd::string\n(at least for an example purposes).\nFirst of all, i'd recommend using\nstd::array\ninstead of a c-style array. But that's not really neccesary.\nSecond. If you plan\nm_names\nto be an array of a fidex size, you can throw an exception when accessing to a non-existent member.\nHere is some code.\nHeader (test.h):\n#include <string>\n#include <memory>\n#include <array>\n\ntypedef std::shared_ptr<std::string> pString;\n\nstruct A{\nprotected:\n    static constexpr size_t array_size = 2;\n    std::array<pString, array_size> m_names;\n    static void CheckRange(size_t);\npublic:\n    void SetName(size_t id, const std::string& name);\n    void SetName(size_t id, const pString& name);\n\n    const std::string& GetName(size_t id) const;\n    const pString& GetNamePtr(size_t id) const;\n};\nSource:\n#include \"test.h\"\n#include <exception>\n\nvoid A::SetName(size_t id, const pString &name){\n    CheckRange(id);\n    m_names[id] = name;\n}\n\nvoid A::SetName(size_t id, const std::string& name){\n    CheckRange(id);\n    m_names[id] = std::make_shared<std::string>(name);\n}\n\nconst std::string& A::GetName(size_t id) const{\n    CheckRange(id);\n    if (!m_names[id])\n            throw std::logic_error(\"Pointer is not initialized\");\n    return *(m_names[id].get());\n}\n\nconst pString& A::GetNamePtr(size_t id) const {\n    CheckRange(id);\n    return m_names[id];\n}\nAnd here is an example of a\nCheckRange\nfunction:\nvoid A::CheckRange(size_t id){\n    if (!(id < array_size))\n            throw std::logic_error(\"ID should be < \" +\n              std::to_string(array_size));\n}\nThis code with some tests:\nhttp://ideone.com/rUvVhH\nHint\nif (m_names[id])\nchecks if\nm_names[id]\ncontains a valid pointer (e.g. not\nnullptr\n). I suppose\nPtr\nhas some similar functionality.\nAnd I believe\nstd::make_shared<T>(...)\nis similar to\nCreate<T>(...)\n.\nWell, as for me, this is more or less correct way to retrieve array content :)\nIf something is too complicated I'll try to make it easier to understand.\nYou are welcomed to ask if you have any questions!"
  },
  {
    "url": "https://stackoverflow.com/questions/21095887/how-to-log-on-file-using-threads",
    "title": "How to log on file using threads",
    "question": "I'm using a simulator (ns3), in my main application I allocate several applications named Consumer for download some files.\nIn this class (Consumer), when I finish to download a file, I want to log on a file some statistics, so I implemented these functions (below showed) using threads, that if in my main I have a small number of consumers there are not problems, but with a very big number I can't open the log file when I call the function that create the thread.\n//consumer.cc\nvoid\nConsumer::OnData (Ptr<const Data> contentObject)\n{\n  //do something \n  if (...)\n  {\n   int a = Consumer::create_thread();\n   std::string s = \"foo\";\n   Consumer::Log(s);\n   }\n}\n\nint Consumer::create_thread(){   \n    int rc = pthread_create(&logger, NULL, &Consumer::runFunc, (void*) this); //logger is declared in consumer.h as pthread_t logger;\n    if(rc) printf(\"ERROR; return code from pthread_create() is %d\\n\", rc);\n    sem_init(&queueSem, 0, 0);\n    pthread_mutex_init(&mutex, NULL);\n    //isLogActive = true;\n    myfile.open (\"ret.txt\", std::ios::app);\n    if(!myfile.is_open())\n        std::cout << \"Error opening the log file...\";\nreturn 1;\n}\n\nvoid Consumer::run_t(){\n    for(;;)\n    {\n        sem_wait(&queueSem);\n        //if(!isLogActive)\n        //  break;\n        pthread_mutex_lock (&mutex);\n        myfile << queue.front(); \n        queue.pop();\n        pthread_mutex_unlock (&mutex);\n        myfile.flush(); \n    }\n    while(!queue.empty())\n    {\n                std::cout<<queue.front()<<std::endl;\n        myfile << queue.front(); \n        queue.pop();\n    }            \n    if(myfile.is_open())\n    {\n        myfile.close();\n        std::cout << \"File Ret closed.\\n\";\n    }\n    else\n        std::cerr << \"Calcolo error.\\n\";\n    pthread_exit(NULL);\n}\n\nvoid * Consumer::runFunc(void * self){\n\n    ((Consumer*)self)->run_t();\n    return NULL;\n\n}\n\nvoid Consumer::Log(std::string toLog)\n{\n\n    ss.str(\"\");\n    ss.clear();\n    ss << toLog << \"\\n\"; \n    pthread_mutex_lock (&mutex);\n    queue.push(ss.str());\n    pthread_mutex_unlock (&mutex);\n    sem_post(&queueSem);\n}\nWhat do you think is the problem? And how could I fix it?",
    "answer": "Most likely the problem is that you have multiple threads trying to append to the file at the same time. Nothing good can come of this.\nMy suggestion would be to have a logging thread and a queue. When a thread wants to write to the log, it just puts the message on the logging queue. The logging thread reads from the queue and writes to the log file.\nOf course, you'll have to add some synchronization to the queue so that it doesn't get corrupted by concurrent requests, or find a concurrent queue that already handles that synchronization for you."
  },
  {
    "url": "https://stackoverflow.com/questions/20658668/prevent-indirect-communication",
    "title": "Prevent indirect communication",
    "question": "I have such network topology:\nA--B--C\n\\____/\n(A connected to B and C, B connected to C)\nI'm using PointToPointChannel to connect these nodes. \nAnd I want that A node will not be able to communicate with C node via node B (only using direct link)\nHow can I prevent such communication?",
    "answer": "You need routing to do this, perhaps static routing.\nHere some manual to do this :\nhttp://www.nsnam.org/docs/release/3.18/models/html/routing-overview.html\nand example of routing : ns-3-folder/examples/routing"
  },
  {
    "url": "https://stackoverflow.com/questions/20500049/unused-variable-warning-when-optimization-is-set",
    "title": "Unused variable warning when optimization is set",
    "question": "When I compile the following piece of code with optimizations enabled\ndouble bitrate = 8 * m_totBytes / (Simulator::Now() - m_startTime).GetSeconds();\ndouble instBitrate = 8 * message.GetSize() / (Simulator::Now() - m_lastRecv).GetSeconds();\nnormBitrate = 0.1 * instBitrate + 0.9 * m_resolution;\n\nNS_LOG_INFO(\"------RECEIVED: \" << message.GetSize()\n         << \" Bitrate = \" << bitrate\n         << \" instBit = \" << instBitrate\n         << \" normBit = \" << normBitrate);\nI get a compiler warning saying:\nerror: unused variable ‘bitrate’ [-Werror=unused-variable]\nbecause the\nNS_LOG_INFO\nmacro gets optimized out by the compiler. In order to compile I have to add a useless and ugly bit of code like the following:\nif (false) { // For suppressing \"Unused variable\" warning when compiling with \"-d optimiized\"\n    std::cout << bitrate << instBitrate << normBitrate << std::endl;\n}\nHow can I compile it without disabling the warnings, the optimization, and no junk code?",
    "answer": "Since you're not using that variable except for in that instance, why not just do:\nNS_LOG_INFO(\"------RECEIVED: \" << message.GetSize()\n     << \" Bitrate = \" << (8 * m_totBytes / (Simulator::Now() - m_startTime).GetSeconds())\n     << \" instBit = \" << instBitrate\n     << \" normBit = \" << normBitrate);"
  },
  {
    "url": "https://stackoverflow.com/questions/20181348/ndnsim-hijacker-doesnt-work-and-empty-pit",
    "title": "ndnSIM: hijacker doesn't work and empty PIT",
    "question": "I'm working on a simple tree topology. I want that one specific node (a router) works like an hijacker, so I tried to set this node to Hijacker but this node works like a normal node and forward everything to the correct destination.\nFurthermore I can't fill the PITs of every node of the topology, if I try to simulate the application, every PIT is empty, but with the visualizer I can see that every packet pass toward every node.\nThis is my code:\n// Install CCNx stack on all nodes\n    ndn::StackHelper ccnxHelper;\n    ccnxHelper.SetForwardingStrategy (\"ns3::ndn::fw::BestRoute\");  \n    ccnxHelper.SetPit (\"ns3::ndn::pit::SerializedSize\", \"MaxSize\", \"100\");\n    ccnxHelper.SetContentStore (\"ns3::ndn::cs::Lru\", \"MaxSize\", \"1\");   // Content Store OFF\n    ccnxHelper.InstallAll ();\n\n    // Installing global routing interface on all nodes\n    ndn::GlobalRoutingHelper ccnxGlobalRoutingHelper;\n    ccnxGlobalRoutingHelper.InstallAll ();\n\n    // Getting containers for the consumer/producer\n    Ptr<Node> consumer1 = Names::Find<Node> (\"leaf-1\");\n    Ptr<Node> consumer2 = Names::Find<Node> (\"leaf-2\");\n    Ptr<Node> consumer4 = Names::Find<Node> (\"leaf-4\");\n    Ptr<Node> producer = Names::Find<Node> (\"leaf-3\");\n    Ptr<Node> router3 = Names::Find<Node> (\"rtr-3\");\n    Ptr<Node> router2 = Names::Find<Node> (\"rtr-2\");\n    Ptr<Node> router1 = Names::Find<Node> (\"rtr-1\");\n\n\n    //consumerswindow\n    ndn::AppHelper consumerHelper (\"ns3::ndn::ConsumerWindow\");\n    consumerHelper.SetAttribute (\"Window\", UintegerValue (100)); \n    consumerHelper.SetAttribute (\"Size\", StringValue(\"0.1\"));   \n    consumerHelper.SetPrefix (\"/rtr-3/leaf-3\");\n    consumerHelper.Install (consumer1);\n    consumerHelper.SetPrefix (\"/rtr-3/leaf-3\");\n    consumerHelper.Install (consumer2);\n\n   //hijaker router1\n   ndn::AppHelper hijackerHelper (\"Hijacker\");\n   hijackerHelper.Install (router1);\n\n   //attacker consumercbr\n   ndn::AppHelper consumerHelper_attack (\"ns3::ndn::ConsumerCbr\");\n   consumerHelper_attack.SetAttribute (\"Frequency\", StringValue (\"1\")); \n   consumerHelper_attack.SetPrefix (\"/rtr-3/leaf-3\");\n   consumerHelper_attack.Install (consumer4);\n\n\n   //producer leaf-3\n   ndn::AppHelper producerHelper (\"ns3::ndn::Producer\");\n   producerHelper.SetAttribute (\"PayloadSize\", StringValue(\"1024\")); \n\n   ccnxGlobalRoutingHelper.AddOrigins (\"/rtr-3\", producer);\n   producerHelper.SetPrefix (\"/rtr-3\");\n   producerHelper.Install (producer);\n\n   // Calculate and install FIBs\n   ccnxGlobalRoutingHelper.CalculateRoutes ();\n\n   Simulator::Schedule (Seconds (1.0), printPitStats, router1); //print statistics about PIT\n   Simulator::Stop (Seconds (5.0));\n   Simulator::Run ();\n   Simulator::Destroy ();\nWhere am I wrong?",
    "answer": "This conversation has moved to the\nndnSIM\nemail list."
  },
  {
    "url": "https://stackoverflow.com/questions/20017091/error-usr-bin-ld-final-link-failed-file-truncated",
    "title": "Error: /usr/bin/ld: final link failed: File truncated",
    "question": "I am getting the following error in NS3 compiling(through waf):-\n/usr/bin/ld: final link failed: File truncated\ncollect2: ld returned 1 exit status\nWhat could be the possible reason for the same?",
    "answer": "One of the object files you're linking was not completed and is now either an empty file or truncated because the compilation terminated for some reason. Delete the file in question (the error message should contain the name) and rebuild."
  },
  {
    "url": "https://stackoverflow.com/questions/19633207/exec-dirname-0-waf",
    "title": "exec \"`dirname \"$0\"`\"/../../waf \"$@\"",
    "question": "I am new to ns3. i have some simple programs written in c++.\nI run my ns3 program  by below command\nexec \"`dirname \"$0\"`\"/../../waf \"$@\"\nCan anyone explain function of above mentioned line?",
    "answer": "dirname \"$0\"\ngets the directory name of file containing the command.\n\"`dirname \"$0\"`\"/../../waf\nappends\n/../../waf\nto the result obtained by\ndirname \"$0\"\n.\nSo it you obtained\n/some/arbitray/path\nfrom the previous command, this would return\n/some/arbitray/path/../../waf\nexec \"`dirname \"$0\"`\"/../../waf \"$@\"\nreplaces the shell with the command obtained above and passes the arguments that were passed to the script containing the original command.\nAs an example, if your command was in a file contained in a directory\n/d1/d2/d3/d4/d5\nand you executed it by saying:\nsh myfile foo bar \"foo bar\"\nthen the command being executed would be:\n/d1/d2/d3/d4/d5/../../waf foo bar \"foo bar\""
  },
  {
    "url": "https://stackoverflow.com/questions/19601551/cannot-build-ns3-after-upgrading-to-mac-ox-10-9",
    "title": "Cannot build ns3 after upgrading to MAC OX 10.9",
    "question": "It is really a bed news that NS3 cannot be built after upgrading to MAC OX 10.9. I try to solve this but nothing changed after 10 hours work. Followings are some errors:\n\"clang: error: argument unused during compilation: '-compatibility_version 1'\"\n\"/src/wifi/model/ideal-wifi-manager.h:80:10: error: private field 'm_minSnr' is not used [-Werror,-Wunused-private-field]\"\nSo if you have not upgrade your system, do not do that.\nAnd if you guys know how to solve this, I really appreciate your answers.\nAfter I search the Internet, it seems that OS X 10.9 does not support g++ and use clang instead. I really have no clue on how to solve this.\nThanks.",
    "answer": "This may not be the exact solution. \nI also spent a lot of time trying to install ns-3 on mavericks and eventually gave up. I realized that the location of the Xcode 5.0.1 command line tools necessary for installing ns-3 has changed and you still need to install a lot of other programs. (I got libgcc sth not found)\nMy suggestion, if you can't wait and really need ns-3 on your mac, is to partition your hard drive install a linux (I tried ubuntu), and install ns-3 on that instead. (I found it much faster) Make sure you read all the minimum requirements\nhere\nand install all the suggested software."
  },
  {
    "url": "https://stackoverflow.com/questions/19355223/declaring-nodes-in-ns3",
    "title": "declaring Nodes in Ns3",
    "question": "I am completely new to NS3, i am tasked to set two eNBs and one UE between them to demonstrate x2 handover, i have successfully set the eNBs and UE and also set a mobility model for the UE, now i wanted to generate an XML trace file to run on the NetAnim, when i added the following line to my code\nAnimationInterface anim (\"x2-handover-animation.xml\"); \nanim.SetMobilityPollInterval (Seconds (0.3));\nit also two extra nodes, giving me a total of 5 node instead of the three (2 eNBs and 1 UE) i declared.\nYour kind assistance is solicited.\nBelow is the extract of my source code\n#include \"ns3/core-module.h\"\n#include \"ns3/network-module.h\"\n#include \"ns3/internet-module.h\"\n#include \"ns3/mobility-module.h\"\n#include \"ns3/lte-module.h\"\n#include \"ns3/applications-module.h\"\n#include \"ns3/point-to-point-module.h\"\n#include \"ns3/config-store-module.h\"\n#include \"ns3/csma-module.h\"\n#include \"ns3/wifi-module.h\"\n#include \"ns3/netanim-module.h\"\n#include \"ns3/mobility-helper.h\"\n#include \"ns3/flow-monitor-module.h\"\n\nusing namespace ns3;\n\n\nvoid \nNotifyConnectionEstablishedUe (std::string context, \n                           uint64_t imsi, \n                           uint16_t cellid, \n                           uint16_t rnti)\n{\nstd::cout << context \n        << \" UE IMSI \" << imsi \n        << \": connected to CellId \" << cellid \n        << \" with RNTI \" << rnti \n        << std::endl;\n}\n\nvoid \nNotifyHandoverStartUe (std::string context, \n                   uint64_t imsi, \n                   uint16_t cellid, \n                   uint16_t rnti, \n                   uint16_t targetCellId)\n{\nstd::cout << context \n        << \" UE IMSI \" << imsi \n        << \": previously connected to CellId \" << cellid \n        << \" with RNTI \" << rnti \n        << \", doing handover to CellId \" << targetCellId \n        << std::endl;\n}\n\nvoid \nNotifyHandoverEndOkUe (std::string context, \n                   uint64_t imsi, \n                   uint16_t cellid, \n                   uint16_t rnti)\n{\n  std::cout << context \n        << \" UE IMSI \" << imsi \n        << \": successful handover to CellId \" << cellid \n        << \" with RNTI \" << rnti \n        << std::endl;\n}\n\nvoid \nNotifyConnectionEstablishedEnb (std::string context, \n                            uint64_t imsi, \n                            uint16_t cellid, \n                            uint16_t rnti)\n{\n  std::cout << context \n        << \" eNB CellId \" << cellid \n        << \": successful connection of UE with IMSI \" << imsi \n        << \" RNTI \" << rnti \n        << std::endl;\n}\n\nvoid \nNotifyHandoverStartEnb (std::string context, \n                    uint64_t imsi, \n                    uint16_t cellid, \n                    uint16_t rnti, \n                    uint16_t targetCellId)\n{\n  std::cout << context \n        << \" eNB CellId \" << cellid \n        << \": start handover of UE with IMSI \" << imsi \n        << \" RNTI \" << rnti \n        << \" to CellId \" << targetCellId \n        << std::endl;\n}\n\nvoid \nNotifyHandoverEndOkEnb (std::string context, \n                    uint64_t imsi, \n                    uint16_t cellid, \n                    uint16_t rnti)\n{\n  std::cout << context \n        << \" eNB CellId \" << cellid \n        << \": completed handover of UE with IMSI \" << imsi \n        << \" RNTI \" << rnti \n        << std::endl;\n}\n\n\n\n\n/**\n * Sample simulation script for a X2-based handover.\n * It instantiates two eNodeB, attaches one UE to the 'source' eNB and\n * triggers a handover of the UE towards the 'target' eNB.\n */\n NS_LOG_COMPONENT_DEFINE (\"EpcX2HandoverExample\");\n\nint\nmain (int argc, char *argv[])\n{\n\nuint16_t numberOfUes = 1; // the 1 Ue i declared\nuint16_t numberOfEnbs = 2; // the 2 ENBs i declared\nuint16_t numBearersPerUe = 0;\ndouble simTime = 10.00;\n\n\n// change some default attributes so that they are reasonable for\n// this scenario, but do this before processing command line\n// arguments, so that the user is allowed to override these settings \nConfig::SetDefault (\"ns3::UdpClient::Interval\", TimeValue (MilliSeconds(10)));\nConfig::SetDefault (\"ns3::UdpClient::MaxPackets\", UintegerValue(1000000));\nConfig::SetDefault (\"ns3::LteHelper::UseIdealRrc\", BooleanValue(false));\n\n  // Command line arguments\n CommandLine cmd;\n cmd.AddValue(\"numberOfUes\", \"Number of UEs\", numberOfUes);\n cmd.AddValue(\"numberOfEnbs\", \"Number of eNodeBs\", numberOfEnbs);\n cmd.AddValue(\"simTime\", \"Total duration of the simulation (in seconds)\",simTime);\n  cmd.Parse(argc, argv);\n\n\n  Ptr<LteHelper> lteHelper = CreateObject<LteHelper> ();\n  Ptr<EpcHelper> epcHelper = CreateObject<EpcHelper> ();\n  lteHelper->SetEpcHelper (epcHelper);\n  lteHelper->SetSchedulerType(\"ns3::RrFfMacScheduler\");\n\n  Ptr<Node> pgw = epcHelper->GetPgwNode ();\n\n  // Create a single RemoteHost\n  NodeContainer remoteHostContainer;\n  remoteHostContainer.Create (1);\n  Ptr<Node> remoteHost = remoteHostContainer.Get (0);\n  InternetStackHelper internet;\n  internet.Install (remoteHostContainer);\n\n  // Create the Internet\n  PointToPointHelper p2ph;\n  p2ph.SetDeviceAttribute (\"DataRate\", DataRateValue (DataRate (\"100Gb/s\")));\n  p2ph.SetDeviceAttribute (\"Mtu\", UintegerValue (1500));\n  p2ph.SetChannelAttribute (\"Delay\", TimeValue (Seconds (0.010)));\n  NetDeviceContainer internetDevices = p2ph.Install (pgw, remoteHost);\n  Ipv4AddressHelper ipv4h;\n  ipv4h.SetBase (\"1.0.0.0\", \"255.0.0.0\");\n  Ipv4InterfaceContainer internetIpIfaces = ipv4h.Assign (internetDevices);\n  Ipv4Address remoteHostAddr = internetIpIfaces.GetAddress (1);\n\n\n  // Routing of the Internet Host (towards the LTE network)\n  Ipv4StaticRoutingHelper ipv4RoutingHelper;\n  Ptr<Ipv4StaticRouting> remoteHostStaticRouting =pv4RoutingHelper.GetStaticRouting     (remoteHost->GetObject<Ipv4> ());\n  // interface 0 is localhost, 1 is the p2p device\n  remoteHostStaticRouting->AddNetworkRouteTo (Ipv4Address (\"7.0.0.0\"), Ipv4Mask    (\"255.0.0.0\"), 1);\n\n  NodeContainer ueNodes;\n  NodeContainer enbNodes;\n  enbNodes.Create(numberOfEnbs);\n  ueNodes.Create(numberOfUes);\n\n\n AnimationInterface anim (\"x2-handover-animation.xml\"); //code i added to generate XML file \n anim.SetMobilityPollInterval (Seconds (0.3));\n\n MobilityHelper mobility;\n\n   mobility.SetMobilityModel (\"ns3::RandomDirection2dMobilityModel\",\n                         \"Bounds\", RectangleValue (Rectangle (-50, 50, -50, 50)));\n  mobility.Install (ueNodes);\n  mobility.SetMobilityModel (\"ns3::ConstantPositionMobilityModel\");\n  mobility.Install (enbNodes);\n\n  // Install LTE Devices in eNB and UEs\n  NetDeviceContainer enbLteDevs = lteHelper->InstallEnbDevice (enbNodes);\n  NetDeviceContainer ueLteDevs = lteHelper->InstallUeDevice (ueNodes);\n\n  // Install the IP stack on the UEs\n  internet.Install (ueNodes);\n  Ipv4InterfaceContainer ueIpIfaces;\n  ueIpIfaces = epcHelper->AssignUeIpv4Address (NetDeviceContainer (ueLteDevs));\n  // Assign IP address to UEs, and install applications\n  for (uint32_t u = 0; u < ueNodes.GetN (); ++u)\n\n    {\n      Ptr<Node> ueNode = ueNodes.Get (u);\n      // Set the default gateway for the UE\n      Ptr<Ipv4StaticRouting> ueStaticRouting = ipv4RoutingHelper.GetStaticRouting  (ueNode->GetObject<Ipv4> ());\n      ueStaticRouting->SetDefaultRoute (epcHelper->GetUeDefaultGatewayAddress (), 1);\n    }\n\n\n  // Attach all UEs to the first eNodeB\n  for (uint16_t i = 0; i < numberOfUes; i++)\n\n    {\n      lteHelper->Attach (ueLteDevs.Get(i), enbLteDevs.Get(0));\n    }\n\n\n  NS_LOG_LOGIC (\"setting up applications\");\n\n  // Install and start applications on UEs and remote host\n  uint16_t dlPort = 10000;\n  uint16_t ulPort = 20000;\n\n  // randomize a bit start times to avoid simulation artifacts\n  // (e.g., buffer overflows due to packet transmissions happening\n  // exactly at the same time) \n  Ptr<UniformRandomVariable> startTimeSeconds = CreateObject<UniformRandomVariable> ();\n  startTimeSeconds->SetAttribute (\"Min\", DoubleValue (0));\n  startTimeSeconds->SetAttribute (\"Max\", DoubleValue (0.010));\n\n    for (uint32_t u = 0; u < numberOfUes; ++u)\n    {\n      Ptr<Node> ue = ueNodes.Get (u);\n      // Set the default gateway for the UE\n      Ptr<Ipv4StaticRouting> ueStaticRouting = ipv4RoutingHelper.GetStaticRouting (ue->GetObject<Ipv4> ());\n      ueStaticRouting->SetDefaultRoute (epcHelper->GetUeDefaultGatewayAddress (), 1);\n\n      for (uint32_t b = 0; b < numBearersPerUe; ++b)\n\n    {\n       ++dlPort;\n      ++ulPort;\n\n      ApplicationContainer clientApps;\n      ApplicationContainer serverApps;\n\n      NS_LOG_LOGIC (\"installing UDP DL app for UE \" << u);\n      UdpClientHelper dlClientHelper (ueIpIfaces.GetAddress (u), dlPort);\n      clientApps.Add (dlClientHelper.Install (remoteHost));\n      PacketSinkHelper dlPacketSinkHelper (\"ns3::UdpSocketFactory\", \n                                           InetSocketAddress (Ipv4Address::GetAny (), dlPort));\n      serverApps.Add (dlPacketSinkHelper.Install (ue));\n\n      NS_LOG_LOGIC (\"installing UDP UL app for UE \" << u);\n      UdpClientHelper ulClientHelper (remoteHostAddr, ulPort);\n      clientApps.Add (ulClientHelper.Install (ue));\n      PacketSinkHelper ulPacketSinkHelper (\"ns3::UdpSocketFactory\", \n                                           InetSocketAddress (Ipv4Address::GetAny (), ulPort));\n      serverApps.Add (ulPacketSinkHelper.Install (remoteHost));  \n\n      Ptr<EpcTft> tft = Create<EpcTft> ();\n      EpcTft::PacketFilter dlpf;\n      dlpf.localPortStart = dlPort;\n      dlpf.localPortEnd = dlPort;\n      tft->Add (dlpf); \n      EpcTft::PacketFilter ulpf;\n      ulpf.remotePortStart = ulPort;\n      ulpf.remotePortEnd = ulPort;\n      tft->Add (ulpf);\n      EpsBearer bearer (EpsBearer::NGBR_VIDEO_TCP_DEFAULT);\n      lteHelper->ActivateDedicatedEpsBearer (ueLteDevs.Get (u), bearer, tft);\n\n      Time startTime = Seconds (startTimeSeconds->GetValue ());\n      serverApps.Start (startTime);\n      clientApps.Start (startTime);\n\n    } // end for b\n    }\n\n\n  // Add X2 inteface\n  lteHelper->AddX2Interface (enbNodes);\n\n  // X2-based Handover\n  lteHelper->HandoverRequest (Seconds (0.100), ueLteDevs.Get (0), enbLteDevs.Get (0),  enbLteDevs.Get (1));\n\n\n  // Uncomment to enable PCAP tracing\n  p2ph.EnablePcapAll(\"lena-x2-handover\");\n\n  lteHelper->EnableMacTraces ();\n  lteHelper->EnableRlcTraces ();\n  lteHelper->EnablePdcpTraces ();\n  Ptr<RadioBearerStatsCalculator> rlcStats = lteHelper->GetRlcStats ();\n  rlcStats->SetAttribute (\"EpochDuration\", TimeValue (Seconds (0.05)));\n  Ptr<RadioBearerStatsCalculator> pdcpStats = lteHelper->GetPdcpStats ();\n  pdcpStats->SetAttribute (\"EpochDuration\", TimeValue (Seconds (0.05)));\n\n\n  // connect custom trace sinks for RRC connection establishment and handover    notification\n  Config::Connect (\"/NodeList/*/DeviceList/*/LteEnbRrc/ConnectionEstablished\",\n               MakeCallback (&NotifyConnectionEstablishedEnb));\n  Config::Connect (\"/NodeList/*/DeviceList/*/LteUeRrc/ConnectionEstablished\",\n               MakeCallback (&NotifyConnectionEstablishedUe));\n  Config::Connect (\"/NodeList/*/DeviceList/*/LteEnbRrc/HandoverStart\",\n               MakeCallback (&NotifyHandoverStartEnb));\n  Config::Connect (\"/NodeList/*/DeviceList/*/LteUeRrc/HandoverStart\",\n               MakeCallback (&NotifyHandoverStartUe));\n  Config::Connect (\"/NodeList/*/DeviceList/*/LteEnbRrc/HandoverEndOk\",\n               MakeCallback (&NotifyHandoverEndOkEnb));\n  Config::Connect (\"/NodeList/*/DeviceList/*/LteUeRrc/HandoverEndOk\",\n               MakeCallback (&NotifyHandoverEndOkUe));\n\n\n  Simulator::Stop(Seconds(simTime));\n  Simulator::Run();\n\n  // GtkConfigStore config;\n  // config.ConfigureAttributes();\n\n  Simulator::Destroy();\n  return 0;\n\n}",
    "answer": "As I see in this code you have created 5 Nodes not 3.\nThe First one is pgw node which is and EPC entity\nPtr<Node> pgw = epcHelper->GetPgwNode ();\nThe Second one is a remote host\nremoteHostContainer.Create (1);\nThese two nodes are connected point to point using the following code\nNetDeviceContainer internetDevices = p2ph.Install (pgw, remoteHost);\nThe third and fourth nodes are the ENB Nodes \"numberOfEnbs = 2;\"\nenbNodes.Create(numberOfEnbs);\nThe fifth is the Ue node \"numberOfUes = 1;\"\nueNodes.Create(numberOfUes);\nThus you should have 5 nodes not three :)\nThe first two nodes represents the Internet connection that is connected to the LTE network that you created. While the last 3 nodes represents your LTE Network."
  },
  {
    "url": "https://stackoverflow.com/questions/19347657/whats-the-meaning-of-interface-index-at-this-specific-ns3-code",
    "title": "what's the meaning of interface index at this specific ns3 code",
    "question": "I am testing a ns3 program. And i met a problem similar to a example program in ns3 source code, see\nhttps://www.nsnam.org/release/ns-allinone-3.17.tar.bz2\nfile ns-3.17/src/lte/examples/lena-simple-epc.cc line 92.\ni cannot understand the last parameter in code:\nremoteHostStaticRouting->AddNetworkRouteTo (Ipv4Address (\"7.0.0.0\"), Ipv4Mask (\"255.0.0.0\"), 1);\nwhy it is 1, not 0?\nIn my image, the var remoteHost has only one interface, so the max index value is 0. How comes out index 1 ??\nI did a test to change value 1 to 0, then the remoteHost cannot send data out.\nUnder this fact, it is obvious that i misunderstood some theory here. What's it?",
    "answer": "sorry, it's all my careless.\nthe interface index 0 is the loopback.\nthe source code mentioned above tells this fact.\nat the same time , it's advised to use GetNRoutes and GetRoute methods to see the route details of concerning nodes."
  },
  {
    "url": "https://stackoverflow.com/questions/19164347/how-to-drop-packet-in-mobile-adhoc-simulation-in-ns3",
    "title": "How to drop packet in mobile adhoc simulation in ns3",
    "question": "I'm new in ns3. i'm  simulating mobile adhoc network with AODV protocol in NS3.\nI want to drop the routing packets randomly with 10% probability.but I don't know how it's possible!!\nI'll be thankful if somebody help me!!",
    "answer": "I think there are so  many things that have not been solved in NS3. but I think this question might have been answered at this link.\nGOOGLE groups \"Does the AODV simulation drop any packets ?\n\"\n."
  },
  {
    "url": "https://stackoverflow.com/questions/18895381/how-to-handle-ethernet-frames-in-ns3",
    "title": "How to handle ethernet frames in ns3",
    "question": "I know there is some kind of callback procedure.I just want to tell to all net devices that every time something comes from ethernet I want to handle it myself.I also want to be able to send ethernet frames myself through that code.",
    "answer": "ns3::Node::RegisterProtocolHandler is your friend.\nSee the documentation:\nhttp://www.nsnam.org/docs/release/3.17/doxygen/classns3_1_1_node.html#af713f0e7ea5c49b4fa0b3613405c45fa"
  },
  {
    "url": "https://stackoverflow.com/questions/18403371/bridge-between-simulated-network-and-real-host",
    "title": "Bridge between simulated network and real host",
    "question": "I need to build a bridge (tap) between a simulated network (NS-3) and the real Linux host So when the \"bridged\" node receive a packet in NS-3, the real Linux host receive the packet. \nHow i can build such bridge? Could you give example? Thanks.",
    "answer": "one way is to use linux bridge. Create a bridge and add the physical host interface & logical interface (tap) in the same bridge."
  },
  {
    "url": "https://stackoverflow.com/questions/18382249/connecting-tap-bridges-to-virtual-machines",
    "title": "Connecting tap bridges to virtual machines",
    "question": "I have 2 virtual machines which need to communicate each other. They are created on VMware. When i write \"ping virtual machine 2\" on virtual machine 1, request should go eth0 of virtual machine 1, tap bridge 1, tap bridge 2 and eth0 of virtual machine 2.\nI need to connect virtual machine 1 to virtual machine 2 through ns3 network simulator. I created tap bridges through ns3 by using the example code\nhttp://www.nsnam.org/doxygen/tap-csma_8cc_source.html\n. Tap bridges were created on other virtual machine called simulator. \nNow, I need to connect these taps to network adapters (eth0) of virtual machines. Thus, I can reach virtual machine 2 from virtual machine 1.\nSimulator also have 2 network adapters eth1 and eth 2 that may use to connect to virtual machines.\nHow can i connect them?\nIP adresses:\nvirtual machine 1 eth0 192.168.221.10 gateway 192.168.221.1   \nvirtual machine 2 eth0 192.168.222.10 gateway 192.168.222.1    \neth1 192.168.221.1    \neth2 192.168.222.1    \ntap1 192.1.1.1    \ntap2 192.1.1.2",
    "answer": "check VMWare networking for details . It supports 4 main types bridged, hostonly, NAT & virtual network. you can either bridge a physical interface on the virtual machines or create a virtual network in vmware and add both vms ethx interfaces to it."
  },
  {
    "url": "https://stackoverflow.com/questions/17581420/sending-ns-3-packets-through-user-defined-socket-to-another-terminal",
    "title": "Sending NS-3 packets through user-defined socket to another terminal",
    "question": "I wanted to know if anyone has any idea of how I can handle this scenario:\nI want to have two terminals open. In one of them I want to run an NS-3 script file which generates packets and sends it through a socket to the other terminal.\nThe other terminal (which is only running a simple C socket program) receives the packet through the socket (and ideally displays the payload or even simpler increases a packet counter).\nAny ideas appreciated...",
    "answer": "Yes, you can make ns-3 interact with the real world.\nPlease read this tutorial :\nhttp://www.nsnam.org/wiki/HOWTO_make_ns-3_interact_with_the_real_world\nEspecially Tap bridge. The Tap Bridge is designed to integrate “real” internet hosts (or more precisely, hosts that support Tun/Tap devices) into ns-3 simulations\nhttp://www.nsnam.org/docs/release/3.18/models/html/tap.html"
  },
  {
    "url": "https://stackoverflow.com/questions/17562908/what-if-notify-is-called-before-wait",
    "title": "what if notify() is called before wait()?",
    "question": "I have a situation where a notify() 'can' be called before a wait().\nI am trying to make a simulator to schedule its next event when I 'notify' him by sending him messages. So I have devised a wait->notify->scedule chain\nvoid Broker::pause()\n{\n    boost::unique_lock<boost::mutex> lock(m_pause_mutex);\n    {\n        std::cout << \"pausing the simulation\" << std::endl;\n        m_cond_cnn.wait(lock);\n        std::cout << \"Simulation UNpaused\" << std::endl;\n        // the following line causes the current function to be called at \n        // a later time, and a notify() can happen before the current function\n        // is called again\n        Simulator::Schedule(MilliSeconds(xxx), &Broker::pause, this);\n    }\n}\n\nvoid Broker::messageReceiveCallback(std::string message) {\n    boost::unique_lock<boost::mutex> lock(m_pause_mutex);\n    {\n        m_cond_cnn.notify_one();\n    }\n}\nthe problem here is that: there can be situations that a notify() is called before its wait() is called.\nIs there a solution for such situation?\nthank you",
    "answer": "Condition variables can hardly be used alone, if only because, as you noticed, they only wake the currently waiting threads. There's also the matter of spurious wake-ups (ie. the condition variable can sometimes wake up a thread without any corresponding\nnotify\nhaving been called). To work properly, condition variables usually need another variable to maintain a more reliable state.\nTo solve both those problems, in your case you just need to add a boolean flag:\nboost::unique_lock<boost::mutex> lock(m_pause_mutex);\nwhile (!someFlag)\n    m_cond_cnn.wait(lock);\nsomeFlag = false;\n\n//...\n\nboost::unique_lock<boost::mutex> lock(m_pause_mutex);\nsomeFlag = true;\nm_cond_cnn.notify_one();"
  },
  {
    "url": "https://stackoverflow.com/questions/17529345/ubuntu-remove-network-tap-interface",
    "title": "Ubuntu, remove network TAP interface",
    "question": "I'm creating a network interface via a program in order to build a bridge between a simulated network (NS-3) and the real Linux host. So when the \"bridged\" node receive a packet in NS-3, the real Linux host receive the packet.\nBut when I run the program again, it can't \"erase\" or delete the network interface because \"device or resource is busy\".\nI tried to shut the interface down (\nifconfig <myInterface> down\n), restart the networking service (\nservice networking restart\n), tried to delete the TAP interface with tunctl (\ntunctl -d myInterface\n), but even after hours, I'm still not able to delete or reuse this interface. \"Device or resource is busy\".\nCan you please explain me how to delete or erase or reuse the interface?",
    "answer": "You can use\nsudo ip link delete tap#\nto delete the interface itself."
  },
  {
    "url": "https://stackoverflow.com/questions/17455570/ns-3-socket-to-connect-to-external-program",
    "title": "NS-3 Socket to connect to external program",
    "question": "I am trying for a way to write a socket class to connect my NS-3 simulation to an outside program. So what I want to do is to create packets in NS-3 and send them through this socket to an outside tool, do some simple manipulations on the packet in that tool, and then send it back to NS-3. I don't think the built in NS-3 socket can be used for this purpose.\nHas anyone come across something like this before or has any suggestions?\nYour help is very much appreciated!",
    "answer": "I'm using a TCP socket to connect an external Python TCP Socket using NS-3, here is the code:\n/*\n * Create a NS-3 Application that opens a TCP Socket and \n * waits for incoming connections\n *\n */\n#include \"ns3/icmpv4.h\"\n#include \"ns3/assert.h\"\n#include \"ns3/log.h\"\n#include \"ns3/ipv4-address.h\"\n#include \"ns3/socket.h\"\n#include \"ns3/integer.h\"\n#include \"ns3/boolean.h\"\n#include \"ns3/inet-socket-address.h\"\n#include \"ns3/packet.h\"\n#include \"ns3/trace-source-accessor.h\"\n#include \"ns3/config.h\"\n#include \"ns3/tos-device.h\"\n#include \"ns3/names.h\"\n#include \"ns3/string.h\"\n#include \"ns3/object.h\"\n\n\nnamespace ns3 {\n\nIOProxyServer::IOProxyServer ()\n{\n    m_socket = 0;\n}\n\nTypeId IOProxyServer::GetTypeId (void)\n{\n  static TypeId tid = TypeId (\"ns3::IoProxyServer\")\n    .SetParent<Application> ()\n    .AddConstructor<IOProxyServer> ()\n    .AddAttribute(\"RemotePortNumber\",\n                        \"Remote port listening for connections\",\n                        IntegerValue(9999),\n                        MakeIntegerAccessor(&IOProxyServer::m_remotePortNumber),\n                        MakeIntegerChecker<int64_t>())\n    .AddAttribute(\"RemoteIp\",\n                        \"Remote IP listening for connections\",\n                        StringValue(\"127.0.0.1\"),\n                        MakeStringAccessor(&IOProxyServer::m_remoteIp),\n                        MakeStringChecker())\n    .AddAttribute(\"LocalPortNumber\",\n                        \"Local port for incoming connections\",\n                        IntegerValue(3333),\n                        MakeIntegerAccessor(&IOProxyServer::m_localPortNumber),\n                        MakeIntegerChecker<int64_t>())\n    .AddAttribute(\"LocalIp\",\n                        \"Local IP for incoming connections\",\n                        StringValue(\"127.0.0.1\"),\n                        MakeStringAccessor(&IOProxyServer::m_localIp),\n                        MakeStringChecker());\n  return tid;\n}\n\n\nvoid IOProxyServer::StartApplication (void)\n{\n  NS_LOG_FUNCTION (this);\n\n  m_socket = Socket::CreateSocket (GetNode (), TypeId::LookupByName (\"ns3::TcpSocketFactory\"));\n  NS_ASSERT_MSG (m_socket != 0, \"An error has happened when trying to create the socket\");\n\n\n  InetSocketAddress src = InetSocketAddress (Ipv4Address::GetAny(), m_localPortNumber );\n  InetSocketAddress dest = InetSocketAddress(Ipv4Address(m_remoteIp.c_str()), m_remotePortNumber);\n\n  int status;\n  status = m_socket->Bind (src);\n  NS_ASSERT_MSG (status != -1, \"An error has happened when trying to bind to local end point\");\n\n  status = m_socket->Connect(dest);\n  NS_ASSERT_MSG (status != -1, \"An error has happened when trying to connect to remote end point\");\n\n  // Configures the callbacks for the different events related with the connection\n\n  //m_socket->SetConnectCallback\n\n\n  m_socket->SetAcceptCallback (\n    MakeNullCallback<bool, Ptr<Socket>, const Address &> (),\n    MakeCallback (&IOProxyServer::HandleAccept, this));\n\n  m_socket->SetRecvCallback (\n    MakeCallback (&IOProxyServer::HandleRead, this));\n\n  m_socket->SetDataSentCallback (\n    MakeCallback (&IOProxyServer::HandleSend,this));\n\n  //m_socket->SetSendCallback\n\n  m_socket->SetCloseCallbacks (\n    MakeCallback (&IOProxyServer::HandlePeerClose, this),\n    MakeCallback (&IOProxyServer::HandlePeerError, this));\n\n  // If we need to configure a reception only socket or a sending only socket\n  // we need to call one of the following methods:\n  // m_socket->ShutdownSend();\n  // m_socket->ShutdownRecv();\n}\n\nvoid IOProxyServer::StopApplication (void)\n{\n  NS_LOG_FUNCTION (this);\n  m_socket->Close();\n}\n\nvoid IOProxyServer::HandlePeerClose (Ptr<Socket> socket)\n{\n  NS_LOG_FUNCTION (this << socket);\n}\n\nvoid IOProxyServer::HandlePeerError (Ptr<Socket> socket)\n{\n  NS_LOG_FUNCTION (this << socket);\n}\n\nvoid IOProxyServer::HandleSend (Ptr<Socket> socket, uint32_t dataSent)\n{\n  NS_LOG_FUNCTION (this << socket);\n}\n\nvoid IOProxyServer::HandleAccept (Ptr<Socket> s, const Address& from)\n{\n  NS_LOG_FUNCTION (this << s << from);\n  s->SetRecvCallback (MakeCallback (&IOProxyServer::HandleRead, this));\n}\n\nvoid IOProxyServer::HandleRead (Ptr<Socket> socket)\n{\n  NS_LOG_FUNCTION (this << socket);\n  Ptr<Packet> packet;\n\n  while ((packet = socket->RecvFrom (from)))\n    {\n      if (packet->GetSize () == 0)\n        { //EOF\n          break;\n        }\n\n      if (InetSocketAddress::IsMatchingType (from))\n        {\n           //Do whatever you need with the incoming info \n        }\n\n    }\n}\n\nvoid IOProxyServer::SendData()\n{\n    //Do whatever you need for creating your packet and send it using the socket\n\n    //Ptr<Packet> packet = Create<Packet>(pointer, sizeof(pointer));\n    //m_socket->Send(packet, 0, from);\n}\n\nIOProxyServer::~IOProxyServer ()\n{\n\n}\n\nvoid IOProxyServer::DoDispose (void)\n{\n  NS_LOG_FUNCTION (this);\n  m_socket = 0;\n  Application::DoDispose ();\n}\n\n} // namespace ns3"
  },
  {
    "url": "https://stackoverflow.com/questions/17225822/waf-configuration-in-ns-3",
    "title": "Waf configuration in ns-3",
    "question": "I am using the waf script in order to build the ns-3 simulator. I also installed (I mean I have downloaded and built the openflow module of the ns-3 simulator.) However when I want to include a header file of the openflow module (which is located in a different directory of the linux) to a class of one of another module (e.g. lte module) in original ns-3 source code , I get no such file or directory error. I tried to change the wafscript by adding the path of the header file that i would like to add but it didn't work. What else can i try to fix that problem?\nthanks in advance.",
    "answer": "I have just found the problem.It has turned out that this is an error caused by the configuration file of the corresponding wscript file (wscript file of lte module). In this file I needed to add up the openflow module as a source module of the lte module by modifying build method like\nmodule = bld.create_ns3_module('lte', ['<another modules>','openflow'])\nWith that way now the waf build system is able to include the openflow module as a source path."
  },
  {
    "url": "https://stackoverflow.com/questions/17018656/enabling-trace-files-in-wifi-ns3",
    "title": "Enabling trace files in wifi, NS3",
    "question": "How do I enable trace files using WifiHelper in NS3 something similar to its lte equivalnt of:\nLteHelper lteHelper->EnableTraces();\nI am particularly interested in the SINR information.",
    "answer": "You can call any of the functions defined in trace-helper.h. I would recommend one from the pcap family that generates information which can be read with wireshark: signalDbm and noiseDb, both of which are defined in the code in src/wifi/core/yans-wifi-phy.cc:YansWifiPhy::EndReceive\ndouble signalDbm = RatioToDb (event->GetRxPowerW ()) + 30;\ndouble noiseDbm = RatioToDb (event->GetRxPowerW () / snrPer.snr) - GetRxNoiseFigure () + 30;"
  },
  {
    "url": "https://stackoverflow.com/questions/17013171/implement-simple-tcp-with-ns3",
    "title": "Implement Simple TCP with NS3",
    "question": "hi, \nI'm new to NS3, I'm trying to modify first.cc to do TCP rather than UDP.\nI didn't get any error, but no data exchange happened as well.\nCould anyone help me on this?˜˜\nmany thanks˜~\nhere is the code: in the main:\nNS_LOG_INFO (\"Creating Topology\");\n    Config::SetDefault (\"ns3::OnOffApplication::PacketSize\", UintegerValue (137));\n\n    Config::SetDefault (\"ns3::OnOffApplication::DataRate\", StringValue (\"14kb/s\"));\n  NodeContainer nodes;\n  nodes.Create (2);\n//\n  PointToPointHelper pointToPoint; \n  pointToPoint.SetDeviceAttribute (\"DataRate\", StringValue (\"100Mbps\"));\n  pointToPoint.SetChannelAttribute (\"Delay\", StringValue (\"20ms\"));\n//\n  NetDeviceContainer devices;\n  devices = pointToPoint.Install (nodes);\n  InternetStackHelper stack;\n  stack.Install (nodes);\n    Ipv4AddressHelper address;\n    address.SetBase (\"109.11.12.0\", \"255.255.255.0\");//address setting\n\n    Ipv4InterfaceContainer interfaces = address.Assign (devices);\n\n    OnOffHelper onOffHelper (\"ns3::TcpSocketFactory\", Address\n                       (InetSocketAddress (Ipv4Address (\"255.255.255.0\"), 10)));\n    onOffHelper.SetAttribute (\"OnTime\", StringValue (\"ns3::ConstantRandomVariable[Constant=1]\"));\n    onOffHelper.SetAttribute (\"OffTime\", StringValue (\"ns3::ConstantRandomVariable[Constant=0]\"));\n\n    onOffHelper.SetAttribute (\"DataRate\",StringValue (\"2Mbps\"));\n    onOffHelper.SetAttribute (\"PacketSize\",UintegerValue(2000));\n    ApplicationContainer app = onOffHelper.Install (nodes.Get (0));\n\n    // Start the application\n    app.Start (Seconds (10.0));\n    app.Stop (Seconds (100.0));\n\n    // Create an optional packet sink to receive  packets\n\n    PacketSinkHelper sink (\"ns3::TcpSocketFactory\",Address\n                           (InetSocketAddress (Ipv4Address::GetAny (), 10)));\n    app = sink.Install (nodes.Get(1));\n    app.Start (Seconds (1.0));\n    app.Stop (Seconds (100.0));\n\n    pointToPoint.EnablePcapAll (\"testtcp\");",
    "answer": "ok,I think it is solved now, first, the IP was wrong at onoff helper, they should be the same as Ipv4AddressHelper.\nthen the app start time is wrong, and the config onoff application code are not needed.\nhere is the code now: it might not be very right, but at least I can read result from it now.\nNodeContainer nodes;\n  nodes.Create (2); //creat 2 nodes they are p2p\n\n  PointToPointHelper pointToPoint; \n  pointToPoint.SetDeviceAttribute (\"DataRate\", StringValue (\"2Mbps\"));\n  pointToPoint.SetChannelAttribute (\"Delay\", StringValue (\"20ms\"));\n\n  NetDeviceContainer devices;// put nodes in ndc\n  devices = pointToPoint.Install (nodes);\n////give them an address \n  InternetStackHelper stack;\n  stack.Install (nodes);\n    Ipv4AddressHelper address;\n    address.SetBase (\"109.11.12.0\", \"255.255.255.0\");//address setting\n\n    Ipv4InterfaceContainer interfaces = address.Assign (devices);\n\n    //sink for reciever????\n    PacketSinkHelper sink (\"ns3::TcpSocketFactory\",Address\n                           (InetSocketAddress (Ipv4Address::GetAny (), 10)));\n    //set a node as reciever\n    ApplicationContainer app = sink.Install (nodes.Get(0));\n\n    app.Start (Seconds (1.0));\n    app.Stop (Seconds (10.0));\n\n    OnOffHelper onOffHelper (\"ns3::TcpSocketFactory\", Address\n                       (InetSocketAddress (Ipv4Address (\"109.11.12.1\"), 10)));\n    onOffHelper.SetAttribute (\"OnTime\", StringValue (\"ns3::ConstantRandomVariable[Constant=1]\"));\n    onOffHelper.SetAttribute (\"OffTime\", StringValue (\"ns3::ConstantRandomVariable[Constant=0]\"));\n\n    onOffHelper.SetAttribute (\"DataRate\",StringValue (\"2Mbps\"));\n    onOffHelper.SetAttribute (\"PacketSize\",UintegerValue(1280));\n   // ApplicationContainer\n    app    = onOffHelper.Install (nodes.Get (1));\n    // Start the application\n    app.Start (Seconds (1.0));\n    app.Stop (Seconds (10.0));\n\n\n\n\n    pointToPoint.EnablePcapAll (\"testtcp\");\n  Simulator::Run ();"
  },
  {
    "url": "https://stackoverflow.com/questions/16293241/what-is-the-meaning-of-l1-and-l2-in-energymodel-in-ns2",
    "title": "What is the meaning of l1 and l2 in EnergyModel() in ns2",
    "question": "In the EnergyModule() method in ns-2 has parameters\nl1\nand\nl2\n, i want to know the meaning of the levels, why we calling it has levels. And what is the purpose of setting it?\nEnergyModel::EnergyModel    (   \n  MobileNode *  n,\n  double    energy,\n  double    l1,\n double     l2\n )",
    "answer": "The L1 and L1 are values for changing node color with respect to energy depletion.\n        double l1 = 0.5; \n        double l2 = 0.2;\nif (srcnode) {\n         if (srcnode->energy_model()) {\n                 energy = srcnode->energy_model()->energy();\n                 initenergy = srcnode->energy_model()->initialenergy();\n                 l1 = srcnode->energy_model()->level1();\n                 l2 = srcnode->energy_model()->level2();\n         }\n     }\n\n     int energyLevel = 0 ;\n     double energyLeft = (double)(energy/initenergy) ;\n\n     if ((energyLeft <= 1 ) && (energyLeft >= l1 )) energyLevel = 3; \n     if ((energyLeft >= l2 ) && (energyLeft < l1 )) energyLevel = 2; \n     if ((energyLeft > 0 ) && (energyLeft < l2 )) energyLevel = 1;   \n\n     if (energyLevel == 0) \n             strcpy(colors,\"-c black -o red\");\n     else if (energyLevel == 1) \n             strcpy(colors,\"-c red -o yellow\");\n     else if (energyLevel == 2) \n             strcpy(colors,\"-c yellow -o green\");\n     else if (energyLevel == 3) \n             strcpy(colors,\"-c green -o black\");"
  },
  {
    "url": "https://stackoverflow.com/questions/16137289/does-ns-3-supports-mobile-ipv6",
    "title": "Does NS-3 supports Mobile IPv6?",
    "question": "I have to simulate a few scenarios of network mobility (MIPv6). I was told to use NS-3, but I don't find any good information about it. Can anyone give me some lights about this? I just need to simulate a few simple scenarios of networks moving around...\nThanks anyway.",
    "answer": "As far as I can tell, there are two ways to do ns-3 MIPv6 simulations:\nusing DCE:\nhttp://www.nsnam.org/~thehajime/ns-3-dce-umip/getting-started.html\nusing a native UMIP implementation from\nhttp://eudl.eu/pdf/10.4108/ICST.SIMUTOOLS2010.8682\nbut I do not believe that it has been released."
  },
  {
    "url": "https://stackoverflow.com/questions/16131493/ns-3-distributed-coordination-function-and-collision-avoidance",
    "title": "Ns-3 Distributed Coordination Function and Collision Avoidance",
    "question": "I am new to NS-3 and I have a UDP WiFi simulation that works fine. I need to expand my simulation by enabling Distributed Coordination Function with Collision Avoidance. Can someone please explain to me exactly how I modify my code to achieve this?\nThanks.",
    "answer": "UDP over IP over wifi is already using the MAC-level CSMA-CA DCF. In short, your simulation is already simulating what you want."
  },
  {
    "url": "https://stackoverflow.com/questions/16071561/variable-sized-packet",
    "title": "Variable sized packet",
    "question": "I am trying to define a packet whose length is determined during an ns-3 simulation (think of it as a packet sent on the downlink containing schedule information whose length depends on the number of nodes in the network which can join/leave the network during simulation). Does anyone have any idea how I could approach this?",
    "answer": "The traditional solution is to send the length first, followed by the data:\n+------------+---------------------+\n| uint32_t n | n - 4 bytes of data |\n+------------+---------------------+\nTo decode, read the first four bytes, and then use the value in those bytes to determine how much more data there is."
  },
  {
    "url": "https://stackoverflow.com/questions/16000110/ns-3-trace-file-packet-id",
    "title": "NS-3 trace file packet ID",
    "question": "I have a simple point to point UDP WiFi simulation in NS-3 that outputs data to a trace file. It provides lots of useful data but there is no information that gives a unique ID for each packet. I can't find anything in wireshark either when I open the pcap files.\nI have output the results of my simulation to an ascii trace file and pcap files for both nodes but I can't find any packet identifier. I can see the sequence numbers of the packets but that's it.\nI am new to NS-3 so I am not sure how to produce this information.\nHere is some of the output from the trace file.\nt 2.00082 /NodeList/0/DeviceList/0/$ns3::WifiNetDevice/Phy/State/Tx ns3::WifiMacHeader (DATA ToDS=0, FromDS=0, MoreFrag=0, Retry=0, MoreData=0 Duration/ID=0usDA=ff:ff:ff:ff:ff:ff, SA=00:00:00:00:00:01, BSSID=00:00:00:00:00:01, FragNumber=0, SeqNumber=0) ns3::LlcSnapHeader (type 0x806) ns3::ArpHeader (request source mac: 00-06-00:00:00:00:00:01 source ipv4: 10.1.1.1 dest ipv4: 10.1.1.2) ns3::WifiMacTrailer ()\nAny suggestions are appreciated.\nThanks.",
    "answer": "In case you might not be aware of this already, let me first point out what might seem to be the obvious but: \"there is no such thing as unique packet id in real networks\" and since pcap traces are designed to contain dumps of real packets in real networks, there is zero chance you will be able to find a unique packet id in a pcap trace generated by ns-3.\nNow, ns-3 does contain a per-packet unique id that is available with the Packet::GetId method and you can trivially change the source code of the function that generates your ascii dump to add this in src/wifi/helper/yans-wifi-helper.cc. Grep for \"Ascii\".\nNow if you want to know why it does not do this by default because it is so useful, I honestly can't remember but:\nthere is probably something related to the ns2 trace format that inspired this ascii format. Compatibility with existing tools might have been an issue\nadding a packet id goes against the ns-3 philosophy of matching what real networks do"
  },
  {
    "url": "https://stackoverflow.com/questions/15986586/flowmonitor-dont-show-statistics-but-pyviz-and-trace-files-shows-it",
    "title": "FlowMonitor don't show statistics, but PyViz and trace files shows it",
    "question": "There is a simple model of data transfer.\n/* -*- Mode:C++; c-file-style:\"gnu\"; indent-tabs-mode:nil; -*- */\n\n#include <iostream>\n#include <fstream> \n#include <string>  \n#include <cassert> \n\n#include \"ns3/core-module.h\"\n#include \"ns3/network-module.h\"\n#include \"ns3/csma-module.h\"   \n#include \"ns3/internet-module.h\"\n#include \"ns3/point-to-point-module.h\"\n#include \"ns3/applications-module.h\"  \n#include \"ns3/ipv4-global-routing-helper.h\"\n#include \"ns3/flow-monitor-module.h\"       \n\n//\n// Network Topology\n//                         \n//    n0 (source)           \n//    |\n//    |\n//    |\n//    |   \n//    |\n//    -------------------n1      n2        n3--------n4  n5   n6 (sink)\n//    point-to-point      |      |         |         |   |    |\n//     10.1.1.0           ==================         ==========\n//                        LAN 10.1.2.0              LAN 10.1.3.0  \n//                      (CSMA subnet 1)           (CSMA subnet 2)    \n\nusing namespace ns3;\n\nint main (int argc, char *argv[])\n{                       \n        Config::SetDefault ( \"ns3::OnOffApplication::PacketSize\", UintegerValue ( 700 ) );\n        Config::SetDefault ( \"ns3::OnOffApplication::DataRate\", StringValue ( \"1000000\" ) );\n\n        CommandLine cmd;\n        cmd.Parse(argc,argv);\n\n        NodeContainer p2pNodes;\n        p2pNodes.Create(2);   \n\n        NodeContainer csmaNodesSubNetOne;\n        csmaNodesSubNetOne.Add(p2pNodes.Get(1));\n        csmaNodesSubNetOne.Create(2);        \n\n        NodeContainer csmaNodesSubNetTwo;\n        csmaNodesSubNetTwo.Add(csmaNodesSubNetOne.Get(2));\n        csmaNodesSubNetTwo.Create(2);\n\n        PointToPointHelper pointToPoint;\n        pointToPoint.SetDeviceAttribute(\"DataRate\", StringValue (\"100Mbps\"));\n        pointToPoint.SetDeviceAttribute(\"Mtu\", UintegerValue(1000));        \n        pointToPoint.SetChannelAttribute(\"Delay\", TimeValue (NanoSeconds (6560)));    \n\n        NetDeviceContainer p2pDevices;\n        p2pDevices = pointToPoint.Install(p2pNodes);\n\n        CsmaHelper csmaHelperSubNetOne;\n        csmaHelperSubNetOne.SetChannelAttribute(\"DataRate\", StringValue (\"100Mbps\"));\n        csmaHelperSubNetOne.SetChannelAttribute(\"Delay\", TimeValue (NanoSeconds (6560)));\n        csmaHelperSubNetOne.SetDeviceAttribute(\"Mtu\", UintegerValue(1000));               \n\n        NetDeviceContainer csmaDevicesSubNetOne;\n        csmaDevicesSubNetOne = csmaHelperSubNetOne.Install(csmaNodesSubNetOne);\n\n        CsmaHelper csmaHelperSubNetTwo;\n        csmaHelperSubNetTwo.SetChannelAttribute(\"DataRate\", StringValue (\"100Mbps\"));\n        csmaHelperSubNetTwo.SetChannelAttribute(\"Delay\", TimeValue (NanoSeconds (6560)));\n        csmaHelperSubNetTwo.SetDeviceAttribute(\"Mtu\", UintegerValue(1000));               \n\n        NetDeviceContainer csmaDevicesSubNetTwo;\n        csmaDevicesSubNetTwo = csmaHelperSubNetTwo.Install(csmaNodesSubNetTwo);\n\n        InternetStackHelper internetStackHelper;\n        internetStackHelper.Install(p2pNodes.Get(0));\n\n        internetStackHelper.Install(csmaNodesSubNetOne.Get(0));\n        internetStackHelper.Install(csmaNodesSubNetOne.Get(1));\n\n        internetStackHelper.Install(csmaNodesSubNetTwo.Get(0));\n        internetStackHelper.Install(csmaNodesSubNetTwo.Get(1));\n        internetStackHelper.Install(csmaNodesSubNetTwo.Get(2));\n\n        Ipv4AddressHelper address;\n        address.SetBase (\"10.1.1.0\", \"255.255.255.0\");\n        Ipv4InterfaceContainer p2pInterfaces;\n        p2pInterfaces = address.Assign (p2pDevices);\n\n        address.SetBase (\"10.1.2.0\", \"255.255.255.0\");\n        Ipv4InterfaceContainer csmaInterfacesSubNetOne;\n        csmaInterfacesSubNetOne = address.Assign (csmaDevicesSubNetOne);\n\n        address.SetBase (\"10.1.3.0\", \"255.255.255.0\");\n        Ipv4InterfaceContainer csmaInterfacesSubNetTwo;\n        csmaInterfacesSubNetTwo = address.Assign (csmaDevicesSubNetTwo);\n\n        InetSocketAddress dst = InetSocketAddress ( csmaInterfacesSubNetTwo.GetAddress ( 2 ) );\n        OnOffHelper onoff = OnOffHelper ( \"ns3::Ipv4RawSocketFactory\", dst );\n\n        ApplicationContainer apps = onoff.Install( p2pNodes.Get(0) );\n        apps.Start ( Seconds (2.0) );\n        apps.Stop ( Seconds (10.0) );\n\n        PacketSinkHelper sink = PacketSinkHelper (\"ns3::Ipv4RawSocketFactory\", dst);\n        apps = sink.Install (csmaNodesSubNetTwo.Get( 2 ));\n        apps.Start (Seconds (1.0));\n        apps.Stop (Seconds (10.0));\n\n        Ipv4GlobalRoutingHelper::PopulateRoutingTables( );  \n\n        csmaHelperSubNetTwo.EnablePcap (\"sniffer\", csmaDevicesSubNetTwo.Get (1), true);\n\n        AsciiTraceHelper ascii;\n        csmaHelperSubNetTwo.EnableAsciiAll( ascii.CreateFileStream( \"receiver-trace.tr\" ) );\n\n        Simulator::Stop (Seconds (11));\n\n        FlowMonitorHelper flowmon;\n        Ptr<FlowMonitor> monitor = flowmon.InstallAll();\n        monitor = flowmon.GetMonitor();\n\n        Simulator::Run ();\n\n        monitor->CheckForLostPackets ();\n        Ptr<Ipv4FlowClassifier> classifier = DynamicCast<Ipv4FlowClassifier> (flowmon.GetClassifier ());\n        std::map<FlowId, FlowMonitor::FlowStats> stats = monitor->GetFlowStats ();\n        for(std::map<FlowId, FlowMonitor::FlowStats>::const_iterator i = stats.begin (); i != stats.end (); ++i)\n        {\n                Ipv4FlowClassifier::FiveTuple t = classifier->FindFlow (i->first);\n\n                std::cout << \"  Flow \" << i->first << \" (\" << t.sourceAddress << \" -> \" << t.destinationAddress << \")\\n\";\n                std::cout << \"  Tx Bytes:   \" << i->second.txBytes << \"\\n\";\n                std::cout << \"  Rx Bytes:   \" << i->second.rxBytes << \"\\n\";\n                std::cout << \"  Throughput: \" << i->second.rxBytes * 8.0 / 10.0 / 1024 / 1024  << \" Mbps\\n\";\n        }\n\n        monitor->SerializeToXmlFile(\"serialize-stat.flowmon\", true, true);\n\n        Simulator::Destroy();\n        return 0;\n}\nI can build and run this model and see the results in\nPyViz\n.\nAlso in PyViz I see statistics for the node receiver.\nThe trace file contains data. Here's one line from the big trace file.\n...\nr 3.00585 /NodeList/5/DeviceList/0/$ns3::CsmaNetDevice/MacRx ns3::EthernetHeader ( length/type=0x800, source=00:00:00:00:00:06, destination=00:00:00:00:00:08) ns3::Ipv4Header (tos 0x0 DSCP Default ECN Not-ECT ttl 62 id 0 protocol 0 offset (bytes) 0 flags [none] length: 720 10.1.1.1 > 10.1.3.3) Payload (size=700) ns3::EthernetTrailer (fcs=0)\n...\nI can parse this trace file by using\nAWK\n.\n[root@localhost ns-3.16]# awk '{print $2 \", \" $28}' receiver-trace.tr >grab.dat\n[root@localhost ns-3.16]# cat grab.dat\n...\n3.00578, 720\n3.00578, 720\n3.00585, 720\n3.01126, 720\n3.01126, 720\n3.01133, 720\n3.01133, 720\n3.01133, 720\n3.0114, 720\n3.01686, 720\n3.01686, 720\n3.01693, 720\n3.01693, 720\n3.01693, 720\n3.017, 720\n3.02246, 720\n...\nBut\nFlowMonitor\nnothing shows and the xml file has no useful information.\n<?xml version=\"1.0\" ?>\n<FlowMonitor>\n  <FlowStats>\n  </FlowStats>\n  <Ipv4FlowClassifier>\n  </Ipv4FlowClassifier>\n  <FlowProbes>\n    <FlowProbe index=\"0\">\n    </FlowProbe>\n    <FlowProbe index=\"1\">\n    </FlowProbe>\n    <FlowProbe index=\"2\">\n    </FlowProbe>\n    <FlowProbe index=\"3\">\n    </FlowProbe>\n    <FlowProbe index=\"4\">\n    </FlowProbe>\n    <FlowProbe index=\"5\">\n    </FlowProbe>\n  </FlowProbes>\n</FlowMonitor>\nIn what could be the reason?",
    "answer": "As an alternative, may be used callbacks.\n...\nstatic void PrintRx ( Ptr< const Packet > p, const Address &ad )\n{\n   std::string traceLine = boost::lexical_cast< string >( *p );\n   std::cout << Simulator::Now().GetSeconds () << \" \" << traceLine << std::endl; \n}\n\nint main (int argc, char *argv[])\n{                       \n...\nConfig::ConnectWithoutContext (\"/NodeList/*/ApplicationList/0/$ns3::PacketSink/Rx\", MakeCallback (&PrintRx));\nPacket::EnablePrinting ();\n...\nAs shown below possible to see the contents of received packets and then create own instrument of statistical analysis.\n...                                                               \n19.881 ns3::Ipv4Header (tos 0x0 DSCP Default ECN Not-ECT ttl 62 id 3192 protocol 2 offset (bytes) 0 flags [none] length: 720 10.1.1.1 > 10.1.3.3) Payload (size=700)\n19.8866 ns3::Ipv4Header (tos 0x0 DSCP Default ECN Not-ECT ttl 62 id 3193 protocol 2 offset (bytes) 0 flags [none] length: 720 10.1.1.1 > 10.1.3.3) Payload (size=700)\n19.8922 ns3::Ipv4Header (tos 0x0 DSCP Default ECN Not-ECT ttl 62 id 3194 protocol 2 offset (bytes) 0 flags [none] length: 720 10.1.1.1 > 10.1.3.3) Payload (size=700)\n19.8978 ns3::Ipv4Header (tos 0x0 DSCP Default ECN Not-ECT ttl 62 id 3195 protocol 2 offset (bytes) 0 flags [none] length: 720 10.1.1.1 > 10.1.3.3) Payload (size=700)\n19.9034 ns3::Ipv4Header (tos 0x0 DSCP Default ECN Not-ECT ttl 62 id 3196 protocol 2 offset (bytes) 0 flags [none] length: 720 10.1.1.1 > 10.1.3.3) Payload (size=700)\n..."
  },
  {
    "url": "https://stackoverflow.com/questions/15954133/how-to-set-get-the-time-spent-on-packets-fragmentation-in-ns-3-models",
    "title": "How to set/ get the time spent on packets fragmentation in ns-3 models?",
    "question": "If I transfer a packets through multiple subnets, which have different MTU on the routers, it may be fragmented. How can I get or set the time spent on each operation of fragmentations in ns-3 models? I need to know this to calculate the speed.",
    "answer": "What you are asking is unclear to me but let me try to answer.\nIf you want to measure the CPU time it takes for ns-3 to create fragments and reassemble them, you can run a simple 2-node experiment and change the mtu of the outbound network interface of the sending node to see how much wall-clock time is spent fragmenting vs non-fragmenting.\nIf, on the other hand, you want to measure the effect in terms of simulation time of splitting a packet in multiple packets and perform the MAC-level access function for each fragment, it's just a function of\nthe access function used at the MAC level. If you want to model switched ethernet, it's easy. make it zero.\nthe transmission delay through your medium. If ethernet, it's easy again: it's the length of the cable modulo the speed of the electromagnetic waves in your cable which depends on the quality of the cable.\nthe size of the fragment and the throughput of your medium.\nBasically, if you know how many times the packet will be fragmented (it is possible for multiple routers to fragment the packet consecutively in smaller fragments) and which mtu will be used every time, you can trivially create an analytical model of that process and predict the actual transport-level transmission delay of your packets through the simulation."
  },
  {
    "url": "https://stackoverflow.com/questions/15950535/ns-3-source-code",
    "title": "ns-3 source code",
    "question": "ns-3 users!\nI'm newbie in ns-3\nPlease, help me to understand something here:\nhttp://code.nsnam.org/ns-3-dev/file/tip/examples/wireless/wifi-simple-adhoc-grid.cc\nI can not understand  something here (lines from 209 to 217):\n$ TypeId tid = TypeId::LookupByName (\"ns3::UdpSocketFactory\");\n  Ptr<Socket> recvSink = Socket::CreateSocket (c.Get (sinkNode), tid); //sinkNode=0\n  InetSocketAddress local = InetSocketAddress (Ipv4Address::GetAny (), 80);\n  recvSink->Bind (local);\n  recvSink->SetRecvCallback (MakeCallback (&ReceivePacket));\n  Ptr<Socket> source = Socket::CreateSocket (c.Get (sourceNode), tid);\n  InetSocketAddress remote = InetSocketAddress (i.GetAddress (sinkNode, 0), 80);\n  source->Connect (remote);$\nWhat is going on here?\njust FYI: code attached.\nPLEASE, HELP ME!\nTHANK YOU ALL! :)",
    "answer": "Commented source code below.\nGet the unique id of the factory class that can create udp sockets\nTypeId tid = TypeId::LookupByName (\"ns3::UdpSocketFactory\");\nActually create a udp socket on node \"sinkNode\" (whatever that is)\nPtr<Socket> recvSink = Socket::CreateSocket (c.Get (sinkNode), tid);\nBind the socket we just created to the 'any' ipv4 address\nInetSocketAddress local = InetSocketAddress (Ipv4Address::GetAny (), 80);\nrecvSink->Bind (local);\nMake the socket forward the packets it received to the \"ReceivePacket\" function\nrecvSink->SetRecvCallback (MakeCallback (&ReceivePacket));\nCreate a udp socket on the sending node\nPtr<Socket> source = Socket::CreateSocket (c.Get (sourceNode), tid);\nConnect the udp socket to the ip address and port number of the udp socket that was created on the sink node. This just sets the default \"to\" ip address for packets that are sent over this socket\nInetSocketAddress remote = InetSocketAddress (i.GetAddress (sinkNode, 0), 80);\nsource->Connect (remote);"
  },
  {
    "url": "https://stackoverflow.com/questions/15898752/pass-string-into-ns3ipv4addresshelpersetbase-method",
    "title": "Pass string into ns3::Ipv4AddressHelper::SetBase method",
    "question": "Topology helper\nIpv4AddressHelper\nallows to set the base address as shown in the example.\nIpv4AddressHelper address;\naddress.SetBase (\"10.1.1.0\", \"255.255.255.0\");\nI want store an arbitrary number of addresses dynamically created, for example.\n...\n  for( uint32_t subnetC = 0; subnetC < nSubnets; subnetC++ )\n  {    \n     string ip = \"10.1.\" + lexical_cast< string >( subnetC + 1 ) +\".0\";\n     ipList.push_back( ip );\n  }\n  ...\n  vIpv4AddressHelper[ someIndex ].SetBase(ipList[ someIndex ], \"255.255.255.0\" );\n  ...\nHowever, I get the error\nerror: no matching function for call to ‘ns3::Ipv4AddressHelper::SetBase(std::basic_string<char, std::char_traits<char>, std::allocator<char> >&, const char [14])’\n note: candidates are: void ns3::Ipv4AddressHelper::SetBase(ns3::Ipv4Address, ns3::Ipv4Mask, ns3::Ipv4Address)\nHow do I pass a string to\nSetBase\n?",
    "answer": "The compiler tells you that the candidate needs 2 params (the third one is optional. Also, see the\ndoc for Ipv4AdressHelper\n). So pass those params.\nIn the\ndocs\nyou can see that\nIpv4Adress\ncan be constructed with a\nchar const*\n. So try:\naddress.SetBase (ns3::Ipv4Adress(adress_string.c_str()), ns3::Ipv4Mask(mask_string.c_str()));\nChanging\nadress_string\nand\nmask_string\naccordingly to your needs."
  },
  {
    "url": "https://stackoverflow.com/questions/15795069/how-do-i-implement-multicast-dynamic-join-prune-using-ns3",
    "title": "How do I implement multicast dynamic join/prune using ns3",
    "question": "Is there a way to implement the dynamic prune/graft of nodes in a multicast network using ns3. The resources I could find all implements only static routing for multicast networks.",
    "answer": "Referencing this:\nhttp://www.nsnam.org/docs/release/3.16/doxygen/classns3_1_1_ipv4_static_routing_helper.html#ae69a07ded3139dfd4e21bb7c10eba416\nIn ns-3 we set a default multicast route for the node's routing table executing\nSetDefaultMulticastRoute(dev,nd)\n, which as the documentation states is equivalent to executing the following:\nroute add 224.0.0.0 netmask 240.0.0.0 dev nd\nWhen setting up multicast for a linux server in the physical world, we need to have a route for the multicast addresses in the routing table. In ns-3 simulation world we have to do the same for each node we create using\nSetDefaultMulticastRoute(dev,nd)\n.\nThe static multicast routes are for routing from one LAN to another. In the real world, we need to have a router that knows how to route multicast. In the ns-3 simulation world, we need a router that knows how to route multicast. So in ns-3 we need to setup a static route from one LAN to another using\nAddMulticastRoute()\nthat is installed on the node in the simulation that is acting as the router.\nIt would be nice to have an ns-3 helper that would install the Default Multicast route on a\nNodeContainer\nand\nNetDeviceContainer\n. However, the method wants one Node and its associated\nNetDevice\n, so you have to use a loop to set them all assuming\n0..N\nnodes in the\nNodeContainer\nare directly related to\n0..N\nnodes in the\nNetDeviceContainer\n.\nfor (int i = 0; i < N; i++) {\n        Ptr<Node> sender = nodecontainer.Get (i);\n        Ptr<NetDevice> senderIf = netdevicecontainer.Get (i);\n        multicast.SetDefaultMulticastRoute (sender, senderIf);\n    }\nReferencing this:\nhttp://www.nsnam.org/docs/release/3.16/doxygen/csma-multicast_8cc_source.html\nYou can see how the sender and receiver of multicast packets is setup. It does include a static route between two LANs. The receiver in this example does not have a default multicast route setup. The inline comments state that all nodes will receive the multicast frame from the source - the source being the node in which we execute\nSetDefaultMulticastRoute(source,sourceIf)\nfor.\nNote that the comments for this code indicate that the source receives the multicast frame it sends.\nReferencing this:\nhttp:// www.nsnam.org/docs/release/3.16/doxygen/udp-echo-server_8cc_source.html\nThe ns3 Application you write does the actual join to the Multicast group.\n78  if (m_socket == 0)\n    79     {\n    80       TypeId tid = TypeId::LookupByName (\"ns3::UdpSocketFactory\");\n    81       m_socket = Socket::CreateSocket (GetNode (), tid);\n    82       InetSocketAddress local = InetSocketAddress (Ipv4Address::GetAny (), m_port);\n    83       m_socket->Bind (local);\n    84       if (addressUtils::IsMulticast (m_local))\n    85         {\n    86           Ptr<UdpSocket> udpSocket = DynamicCast<UdpSocket> (m_socket);\n    87           if (udpSocket)\n    88             {\n    89               // equivalent to setsockopt (MCAST_JOIN_GROUP)\n    90               udpSocket->MulticastJoinGroup (0, m_local);\n    91             }\n    92           else\n    93             {\n    94               NS_FATAL_ERROR (\"Error: Failed to join multicast group\");\n    95             }\n    96         }\n    97     }"
  },
  {
    "url": "https://stackoverflow.com/questions/15681671/received-throughput-issue-with-saturated-traffic",
    "title": "Received throughput issue with saturated traffic",
    "question": "I am using NS3 (v3.13) Wi-Fi model in infrastructure topology configured as follows (simulation file attached):\nSingle AP (BSS)\nMultiple STAs (stations)\nApplication duration = 10s\nSaturated downlink traffic (OnOffApplication with\nOnTime=2s and OffTime=0\n) from AP to all STAs\nPhy: 802.11a\nDefault YansWifiChannelHelper and YansWifiPhyHelper\nRate control: ConstantRateWifiManager\nMobility: ConstantPositionMobilityModel (STAs are positioned on a circle of 2 meters radius around the AP)\nAlthough all is going well, for a high bitrate (saturated traffic), when the number of STAs per BSS increases a lot, some STAs don't receive any BYTE !!\nExperiments:\nOnOffApplication DataRate =\n60Mb/s\n, Phy DataMode=OfdmRate\n54\nMbps and 30 STAs, one STA receives packets with a bitrate of 7.2Mb/s and another with 15.3Mb/s (all other 28 STAs don't receive any BYTE)\nOnOffApplication  DataRate =\n60Mb/s\n, DataMode=OfdmRate\n6\nMbps and 30 STAs, one STA receives packets with a bitrate of 1.95Mb/s and another with 4.3Mb/s (all other 28 STAs don't receive any BYTE)\nI think that the problem comes from the OnOff Application configurations; how should I configure it to simulate a full buffer downlink traffic?\nThanks in advance for any suggestion.\n#include \"ns3/core-module.h\"\n#include \"ns3/point-to-point-module.h\"\n#include \"ns3/network-module.h\"\n#include \"ns3/applications-module.h\"\n#include \"ns3/wifi-module.h\"\n#include \"ns3/mobility-module.h\"\n#include \"ns3/csma-module.h\"\n#include \"ns3/internet-module.h\"\n#include \"ns3/flow-monitor-helper.h\"\n#include \"ns3/flow-monitor-module.h\"\n#include \"ns3/applications-module.h\"\n#include \"ns3/internet-module.h\"\n#include \"ns3/gnuplot.h\"\n#include \"ns3/constant-velocity-helper.h\"\n#include \"ns3/integer.h\"\n#include \"ns3/mpi-interface.h\"\n#include \"math.h\"\n#include <iostream>\n\n/**\n *  PARAMETERS\n */\n#define StaNb       30\n#define Distance    2\n#define Duration    10\n#define DataRate    90000000\n#define PacketSize  1500\n\n#define couleur(param) printf(\"\\033[%sm\",param)\n\nusing namespace ns3;\n\nclass Experiment {\npublic:\n    Experiment();\n    void CreateArchi(void);\n    void CreateApplis();\n\nprivate:\n\n    Ptr<ListPositionAllocator> positionAllocAp;\n    Ptr<ListPositionAllocator> positionAllocSta;\n    Ptr<GridPositionAllocator> positionAllocStaCouloir;\n    Ptr<RandomDiscPositionAllocator> positionAllocStaAmphi;\n\n    std::vector<Ptr<ConstantPositionMobilityModel> > constant;\n\n    NodeContainer m_wifiAP, m_wifiQSta;\n\n    NetDeviceContainer m_APDevice;\n\n    NetDeviceContainer m_QStaDevice;\n\n    YansWifiChannelHelper m_channel;\n    Ptr<YansWifiChannel> channel;\n\n    YansWifiPhyHelper m_phyLayer_Sta, m_phyLayer_AP;\n    WifiHelper m_wifi;\n\n    QosWifiMacHelper m_macSta, m_macAP;\n\n    InternetStackHelper m_stack;\n    Ipv4InterfaceContainer m_StaInterface;\n    Ipv4InterfaceContainer m_ApInterface;\n\n    Ssid m_ssid;\n};\n\nExperiment::Experiment() {\n\n    positionAllocStaCouloir = CreateObject<GridPositionAllocator>();\n    positionAllocAp = CreateObject<ListPositionAllocator>();\n    positionAllocSta = CreateObject<ListPositionAllocator>();\n    positionAllocStaAmphi = CreateObject<RandomDiscPositionAllocator>();\n\n    m_wifi = WifiHelper::Default();\n\n    constant.resize(StaNb + 1);\n    for (int i = 0; i < StaNb + 1; i++) {\n        constant[i] = CreateObject<ConstantPositionMobilityModel>();\n    }\n}\n\nvoid Experiment::CreateArchi(void) {\n\n    m_wifiQSta.Create(StaNb);\n\n    m_wifiAP.Create(1);\n\n    m_ssid = Ssid(\"BSS_circle\");\n\n    m_channel = YansWifiChannelHelper::Default();\n\n    channel = m_channel.Create();\n\n    m_wifi.SetStandard(WIFI_PHY_STANDARD_80211a);\n    m_wifi.SetRemoteStationManager(\"ns3::ConstantRateWifiManager\", \"DataMode\",\n            StringValue(\"OfdmRate6Mbps\"));\n\n    m_phyLayer_Sta = YansWifiPhyHelper::Default();\n    m_phyLayer_AP = YansWifiPhyHelper::Default();\n\n    m_phyLayer_Sta.SetChannel(channel);\n    m_phyLayer_AP.SetChannel(channel);\n\n    positionAllocAp->Add(Vector3D(0.0, 0.0, 0.0));\n\n    MobilityHelper mobilityAp;\n    mobilityAp.SetPositionAllocator(positionAllocAp);\n    mobilityAp.SetMobilityModel(\"ns3::ConstantPositionMobilityModel\");\n    mobilityAp.Install(m_wifiAP.Get(0));\n\n    constant[0]->SetPosition(Vector3D(0.0, 0.0, 0.0));\n\n    float deltaAngle = 2 * M_PI / StaNb;\n    float angle = 0.0;\n    double x = 0.0;\n    double y = 0.0;\n\n    for (int i = 0; i < StaNb; i++) {\n        x = cos(angle) * Distance;\n        y = sin(angle) * Distance;\n\n        positionAllocSta->Add(Vector3D(x, y, 0.0));\n\n        MobilityHelper mobilitySta;\n        mobilitySta.SetPositionAllocator(positionAllocSta);\n        mobilitySta.SetMobilityModel(\"ns3::ConstantPositionMobilityModel\");\n        mobilitySta.Install(m_wifiQSta.Get(i));\n\n        constant[i]->SetPosition(Vector3D(x, y, 0.0));\n\n        angle += deltaAngle;\n    }\n\n    m_macSta = QosWifiMacHelper::Default();\n\n    m_macSta.SetType(\"ns3::StaWifiMac\", \"ActiveProbing\", BooleanValue(true),\n            \"Ssid\", SsidValue(m_ssid));\n\n    m_macAP = QosWifiMacHelper::Default();\n\n    m_macAP.SetType(\"ns3::ApWifiMac\", \"Ssid\", SsidValue(m_ssid),\n            \"BeaconInterval\", TimeValue(Time(std::string(\"100ms\"))));\n\n    m_APDevice.Add(m_wifi.Install(m_phyLayer_AP, m_macAP, m_wifiAP));\n\n    for (int i = 0; i < StaNb; i++) {\n        m_QStaDevice.Add(\n                m_wifi.Install(m_phyLayer_Sta, m_macSta, m_wifiQSta.Get(i)));\n    }\n\n    m_stack.Install(m_wifiAP);\n    m_stack.Install(m_wifiQSta);\n\n    Ipv4AddressHelper address;\n    address.SetBase(\"192.168.1.0\", \"255.255.255.0\");\n\n    m_ApInterface.Add(address.Assign(m_APDevice.Get(0)));\n\n    for (int i = 0; i < StaNb; i++) {\n        m_StaInterface.Add(address.Assign(m_QStaDevice.Get(i)));\n    }\n\n    Ipv4GlobalRoutingHelper::PopulateRoutingTables();\n}\n\nvoid Experiment::CreateApplis() {\n\n    ApplicationContainer source;\n\n    OnOffHelper onoff(\"ns3::UdpSocketFactory\", Address());\n    onoff.SetAttribute(\"OnTime\", RandomVariableValue(ConstantVariable(2)));\n    onoff.SetAttribute(\"OffTime\", RandomVariableValue(ConstantVariable(0)));\n    onoff.SetAttribute(\"DataRate\", StringValue(\"500kb/s\"));\n\n    for (int i = 0; i < StaNb; i++) {\n        AddressValue remoteAddress(\n                InetSocketAddress(m_StaInterface.GetAddress(i), 5010));\n        onoff.SetAttribute(\"Remote\", remoteAddress);\n        source.Add(onoff.Install(m_wifiAP.Get(0)));\n        source.Start(Seconds(3.0));\n        source.Stop(Seconds(Duration));\n    }\n\n    ApplicationContainer sinks;\n    PacketSinkHelper packetSinkHelper(\"ns3::UdpSocketFactory\",\n            Address(InetSocketAddress(Ipv4Address::GetAny(), 5010)));\n\n    for (int i = 0; i < StaNb; i++) {\n\n        sinks.Add(packetSinkHelper.Install(m_wifiQSta.Get(i)));\n        sinks.Start(Seconds(3.0));\n        sinks.Stop(Seconds(Duration));\n    }\n\n}\n\nint main(int argc, char *argv[]) {\n\n    Experiment exp = Experiment();\n\n    Config::SetDefault(\"ns3::WifiRemoteStationManager::RtsCtsThreshold\",\n            StringValue(\"2346\"));\n\n    exp.CreateArchi();\n\n    exp.CreateApplis();\n\n    FlowMonitorHelper flowmon;\n    Ptr<FlowMonitor> monitor = flowmon.InstallAll();\n\n    Simulator::Stop(Seconds(Duration));\n\n    Simulator::Run();\n\n    monitor->CheckForLostPackets();\n    Ptr<Ipv4FlowClassifier> classifier = DynamicCast<Ipv4FlowClassifier>(\n            flowmon.GetClassifier());\n    std::map<FlowId, FlowMonitor::FlowStats> stats = monitor->GetFlowStats();\n    int c = 0;\n    for (std::map<FlowId, FlowMonitor::FlowStats>::const_iterator i =\n            stats.begin(); i != stats.end(); ++i) {\n        Ipv4FlowClassifier::FiveTuple t = classifier->FindFlow(i->first);\n        std::cout << \"Flux \" << i->first << \" (\" << t.sourceAddress << \" -> \"\n                << t.destinationAddress << \")\\n\";\n        std::cout << \"  Tx Bytes :   \" << i->second.txBytes << \"\\n\";\n        std::cout << \"  Rx Bytes :   \" << i->second.rxBytes << \"\\n\";\n\n        couleur(\"33\");\n        std::cout << \"  Bitrate  :   \"\n                << i->second.rxBytes * 8.0\n                        / (i->second.timeLastRxPacket.GetSeconds()\n                                - i->second.timeFirstRxPacket.GetSeconds())\n                        / 1000000 << \" Mbps\\n\\n\";\n        couleur(\"0\");\n\n        if (i->second.rxBytes > 0)\n            c++;\n    }\n\n    std::cout << \"  Number of receiving nodes  :   \" << c << \"\\n\";\n\n    Simulator::Destroy();\n}",
    "answer": "I think the medium is too busy.\nYou need to tuning down onoff datarate e.g 1 mbps. Practically, full buffer 720p video only need no more than 1mbps\nYou may also check tracing using pcap, ascii or netanim too see either the packet dropping, packet never being send or bug in your code"
  },
  {
    "url": "https://stackoverflow.com/questions/15507589/gnuplot-set-title-dynamically",
    "title": "Gnuplot set title dynamically",
    "question": "I am trying to set the title of my gnuplot chart from the last line in my .dat file but I am not sure what to do.\nMy .dat file reads like:\nColumn1 Column2\n1 0.5\n2 1.5\n3 2.5\n4 3.5\n5 4.5\n6 5.5   \nAverage is ??????\nWould anyone know the command to set the title using the text of the last line?",
    "answer": "gnuplot allows for shell-style backtick expansion.  Combining that with the unix utility\ntail\nshould work just fine:\nset title \"`tail -1 myfile.dat`\"\nplot 'myfile.dat' u 1:2"
  },
  {
    "url": "https://stackoverflow.com/questions/15491472/ns-3-on-linux-error-when-cloning-ns-3-branch",
    "title": "ns-3 on Linux: error when cloning ns-3 branch",
    "question": "I'm trying to get ns-3-dev release by the following way:\n[root@localhost ns-3-allinone]# ./download.py -n ns-3-dev\n\n#\n# Get NS-3\n#\n\nCloning ns-3 branch\n=> hg clone http://code.nsnam.org/ns-3-dev ns-3-dev\nrequesting all changes\nadding changesets\nadding manifests\ntransaction abort!\nrollback completed\nabort: consistency error in delta!\nTraceback (most recent call last):\nFile \"./download.py\", line 316, in\nsys.exit(main())\nFile \"./download.py\", line 261, in main\nns3_dir = get_ns3(options.ns3_branch)\nFile \"./download.py\", line 26, in get_ns3\nrun_command(['hg', 'clone', ns3_branch_url, ns3_dir])\nFile \"/mercurial/mercurial-2.5.1/mercurial/repos/ns-3-allinone/util.py\", line 24, in run_command\nraise CommandError(\"Command %r exited with code %i\" % (argv, retval))\nutil.CommandError: Command ['hg', 'clone', 'http://code.nsnam.org/ns-3-dev', 'ns-3-dev'] exited with code 255\nHowever, I can clone the directory ns-3-allinone:\n[root@localhost repos]# hg clone http://code.nsnam.org/ns-3-allinone\ndestination directory: ns-3-allinone\nrequesting all changes\nadding changesets\nadding manifests\nadding file changes\nadded 55 changesets with 78 changes to 7 files\nupdating to branch default\n7 files updated, 0 files merged, 0 files removed, 0 files unresolved\nWhy I can't get a copy of ns-3-dev?",
    "answer": "It looks like the upstream ns-3-dev repository might be corrupted. Whoever runs it should be sure to run\nhg verify\non it."
  },
  {
    "url": "https://stackoverflow.com/questions/15480093/ns3-poisson-traffic-model",
    "title": "ns3 poisson traffic model",
    "question": "I'm trying to learn ns3, and I'm trying to modify one of the examples by using the onofApplication to generate Vbr instead of Cbr, but the code is not working and I don't know why, can you help me please?\n#include \"ns3/core-module.h\"\n#include \"ns3/network-module.h\"\n#include \"ns3/csma-module.h\"\n#include \"ns3/internet-module.h\"\n#include \"ns3/point-to-point-module.h\"\n#include \"ns3/applications-module.h\"\n#include \"ns3/ipv4-global-routing-helper.h\"\n#include \"ns3/random-variable.h\"\n#include \"ns3/socket-factory.h\"\n#include \"ns3/udp-socket-factory.h\"\n#include \"ns3/on-off-helper.h\"\n#include \"ns3/nstime.h\"\n\n\nusing namespace ns3;\n\nNS_LOG_COMPONENT_DEFINE (\"SecondScriptExample\");\n\nint \nmain (int argc, char *argv[])\n{\n  bool verbose = true;\n  uint32_t nCsma = 3;\n\n  CommandLine cmd;\n  cmd.AddValue (\"nCsma\", \"Number of \\\"extra\\\" CSMA nodes/devices\", nCsma);\n  cmd.AddValue (\"verbose\", \"Tell echo applications to log if true\", verbose);\n\n  cmd.Parse (argc,argv);\n\n  if (verbose)\n    {\n      LogComponentEnable (\"UdpEchoClientApplication\", LOG_LEVEL_INFO);\n      LogComponentEnable (\"UdpEchoServerApplication\", LOG_LEVEL_INFO);\n    }\n\n  nCsma = nCsma == 0 ? 1 : nCsma;\n\n  NodeContainer p2pNodes;\n  p2pNodes.Create (2);\n\n  NodeContainer csmaNodes;\n  csmaNodes.Add (p2pNodes.Get (1));\n  csmaNodes.Create (nCsma);\n\n  PointToPointHelper pointToPoint;\n  pointToPoint.SetDeviceAttribute (\"DataRate\", StringValue (\"5Mbps\"));\n  pointToPoint.SetChannelAttribute (\"Delay\", StringValue (\"2ms\"));\n\n  NetDeviceContainer p2pDevices;\n  p2pDevices = pointToPoint.Install (p2pNodes);\n\n  CsmaHelper csma;\n  csma.SetChannelAttribute (\"DataRate\", StringValue (\"100Mbps\"));\n  csma.SetChannelAttribute (\"Delay\", TimeValue (NanoSeconds (6560)));\n\n  NetDeviceContainer csmaDevices;\n  csmaDevices = csma.Install (csmaNodes);\n\n  InternetStackHelper stack;\n  stack.Install (p2pNodes.Get (0));\n  stack.Install (csmaNodes);\n\n  Ipv4AddressHelper address;\n  address.SetBase (\"10.1.1.0\", \"255.255.255.0\");\n  Ipv4InterfaceContainer p2pInterfaces;\n  p2pInterfaces = address.Assign (p2pDevices);\n\n  address.SetBase (\"10.1.2.0\", \"255.255.255.0\");\n  Ipv4InterfaceContainer csmaInterfaces;\n  csmaInterfaces = address.Assign (csmaDevices);\n\n  UdpEchoServerHelper echoServer (9);\n\n  ApplicationContainer serverApps = echoServer.Install (csmaNodes.Get (nCsma));\n  serverApps.Start (Seconds (1.0));\n  serverApps.Stop (Seconds (10.0));\n\n    OnOffHelper onOffAP (\"ns3::UdpSocketFactory\", csmaInterfaces.GetAddress(nCsma));\n    onOffAP.SetAttribute(\"PacketSize\", UintegerValue(1024));\n    onOffAP.SetAttribute(\"OffTime\",RandomVariableValue(ExponentialVariable(0.01)));\n    // the packet arrivalrate on AP side is 100 pkt/sec, so we set mean value as 1/100\n    onOffAP.SetAttribute(\"OnTime\",RandomVariableValue(ConstantVariable(0.0001583)));\n    // the constanttime for sending one packet\n    onOffAP.SetAttribute(\"DataRate\", StringValue (\"54Mbps\"));\n\n // UdpEchoClientHelper echoClient (csmaInterfaces.GetAddress (nCsma), 9);\n  //echoClient.SetAttribute (\"MaxPackets\", UintegerValue (1));\n  //echoClient.SetAttribute (\"Interval\", TimeValue (Seconds (1.0)));\n  //echoClient.SetAttribute (\"PacketSize\", UintegerValue (1024));\n\n  ApplicationContainer clientApps = onOffAP.Install (p2pNodes.Get (0));\n  clientApps.Start (Seconds (2.0));\n  clientApps.Stop (Seconds (10.0));\n\n  Ipv4GlobalRoutingHelper::PopulateRoutingTables ();\n\n  pointToPoint.EnablePcapAll (\"second\");\n  csma.EnablePcap (\"second\", csmaDevices.Get (1), true);\n\n  Simulator::Run ();\n  Simulator::Destroy ();\n  return 0;\n}\nand I'm getting this error\nmsg=\"Invalid value for attribute set (OffTime) on ns3::OnOffApplication\", file=../src/core/model/object-factory.cc, line=75\nlibc++abi.dylib: terminate called without an active exception",
    "answer": "onOffAP.SetAttribute (\"OnTime\", StringValue (\"ns3::ConstantRandomVariable[Constant=4]\"));\nonOffAP.SetAttribute (\"OffTime\", StringValue (\"ns3::ConstantRandomVariable[Constant=0]\"));\nThey have made some changes from API 3.15 onwards. Have a look at\nhttps://groups.google.com/group/ns-3-users/tree/browse_frm/month/2012-11/be3cd40a0dc9c3a1?rnum=461&start=250&_done=/group/ns-3-users/browse_frm/month/2012-11?start%3D250%26sa%3DN%26&pli=1\nOr have a look at the example code for setting OffTime at\nhttp://code.nsnam.org/ns-3-dev/file/eb7335c2423c/examples/wireless/wifi-hidden-terminal.cc\nHope that helps you.. :)"
  },
  {
    "url": "https://stackoverflow.com/questions/15065973/how-to-print-the-route-of-a-packet-in-hwmp-ns3",
    "title": "How to print the route of a packet in hwmp ns3",
    "question": "I would like to know how can i print the route of a packet in a mesh topology that implements hwmp. I don't mean the entire routing table but the intermediate nodes that a packet has traverse in order to reach the destination.\nThanks in advance,\nMary",
    "answer": "You can do something like this :\nYansWifiPhyHelper wifiPhy =  YansWifiPhyHelper::Default ();\n....\n....\n....\n....\nAsciiTraceHelper ascii;\nwifiPhy.EnableAsciiAll (ascii.CreateFileStream (\"wifi-simple-adhoc-grid.tr\"));\nThis will create a trace file named\nwifi-simple-adhoc-grid.tr\n, which you can analyse to determine the route of each packet. See example in\nexamples/wireless/wifi-simple-adhoc-grid.cc"
  },
  {
    "url": "https://stackoverflow.com/questions/14925370/using-trace-file-in-ns-3",
    "title": "Using trace file in NS-3",
    "question": "I want to know how to use your own video trace in an example given in ns-3 examples folder.\nDo I need to make change in just this line of the code?\nUdpTraceClientHelper client(server address,port, \"url address to that video trace\")\nI am looking for video traces from this site:\nhttp://trace.eas.asu.edu/mpeg4/single/SonyCIF_G16B1Mp/SonyCIF_G16B1Mp01/\nIn the url address, I am using the address of the verbose trace file. Is that the right approach?\nWhen I do this, it is still making use of the default hard coded file as a trace file.\nIn short, I want to know how to use a video trace file in ns3 ?",
    "answer": "It's pretty simple, you download the file and save it to a location in your project (you may replace the \"default hard coded file\" as you named it) ;)"
  },
  {
    "url": "https://stackoverflow.com/questions/14899310/kill-the-previous-command-in-a-pipeline",
    "title": "Kill the previous command in a pipeline",
    "question": "I am running a simulation like this\n./waf --run scratch/myfile | awk -f filter.awk\nHow can I kill the\nwaf\ncommand as soon as\nfilter.awk\ndetects that something happened (e.g. after a specific line is read)?\nI cannot change\nwaf\nor\nmyfile\n. I can only change\nfilter.awk\n, and the above command (obviously).\nUpdate after comments:\nwaf\ndoes not terminated after receiving\nSIGPIPE\n(as it should?)\nIt spawns child processes, that need cleaning up.\nThis is\nmy own answer\n(and challenge)\n.\nAfter working on @thatotherguy's ans @Chris's answers, I simplified a bit and got this:\ntmp=$(mktemp)\n{ ./waf --run scratch/myfile & echo $! > \"$tmp\"; } | { awk -f filter.awk; pkill -P $(<$tmp); kill $(<$tmp); }\nUnfortunately I could not get rid of the\ntmp\nfile, every attempt to pass the\nPID\nas a variable failed.\nI won't change the accepted answer (since it was the one that worked when it was\nreally\nneeded), but +1 for anyone that can simplify more.",
    "answer": "What makes this tricky is that\nwaf\nmisbehaves by not exiting when the pipe breaks, and it spawns off a second process that we also have to get rid off:\ntmp=$(mktemp)\ncat <(./waf --run scratch/myfile & echo $! > \"$tmp\"; wait) | awk -f filter.awk; \npkill -P $(<$tmp)\nkill $(<$tmp)\nWe use\n<(process substitution)\nto run\nwaf\nin the background and write its pid to a temp file.\nWe use\ncat\nas an intermediary to relay data from this process to awk, since\ncat\nwill exit properly when the pipe is broken, allowing the pipeline to finish.\nWhen the pipeline's done, we kill all processes that\nwaf\nhas spawned (by Parent PID)\nFinally we kill\nwaf\nitself."
  },
  {
    "url": "https://stackoverflow.com/questions/13792022/how-to-use-yaml-cpp-in-ns3",
    "title": "How to use yaml-cpp in NS3",
    "question": "Does anyone know how to use the yaml-cpp lib in NS3 module?\nI have finished the source code, but I have a hard time figuring out how to link it as it got the\nundefined reference to\nerror when building with waf.",
    "answer": "To use yaml-cpp you just have to write something like :\ndef options(opt):\n    opt.load(\"cxx_compiler\")\n\ndef configure(conf):\n    conf.load(\"cxx_compiler\")\n    conf.check_cfg(package = \"yaml-cpp\", args = [\"--cflags\",  \"--libs\", ], uselib_store = \"YAMLCPP\")\n\ndef build(bld):\n    bld.program(source = \"main.cpp\", use = \"YAMLCPP\")\nwaf use pkg-config to get all the options. Main is the source file using yaml-cpp."
  },
  {
    "url": "https://stackoverflow.com/questions/13539799/video-transmission-in-ns-3",
    "title": "Video Transmission in NS-3",
    "question": "I am trying to do a simulation for my masters and I need to simulate video transmission and streaming. I already have the video trace files but I can't figure out how to code them into the NS-3 script. I started just by doing a simple topology just simulating a simple Wifi (based on the tutorial) but I haven't found where to read and send the fail. Any help?",
    "answer": "You can use simulation with UDP with OnOffApplication datarate more than 500 kbps as an video stream datarate.\nOr you can send real traffic to ns3 simulation using some sofware like VLC"
  },
  {
    "url": "https://stackoverflow.com/questions/12772061/ns-3-compiling-error",
    "title": "NS-3 Compiling Error",
    "question": "I am trying to use\nNS-3.15\non MAC Mountain Lion but when I compile I get the following errors:\nsource not found: 'model/itu-r-1411-nlos-over-rooftop-propagation-loss-model.cc' in bld(features=['cxx', 'cxxshlib', 'ns3module'], ns3_dir_location='src/propagation', pcfilegen=bld(features='ns3pcfile', idx=2, meths=[], prec=defaultdict(<type 'list'>, {}), _name='', source='', module='ns3-propagation', mappings={}, path=/Users/user/Desktop/nsam.org/ns-allinone-3.15/ns-3.15/src/propagation, target='') in /Users/user/Desktop/nsam.org/ns-allinone-3.15/ns-3.15/src/propagation, use=['ns3-network', 'ns3-mobility'], mappings={}, uselib='', meths=['set_macosx_deployment_target', '_add_test_code', 'apply_bundle', 'process_rule', 'process_source', 'apply_link', 'apply_objdeps', 'apply_uselib_local', 'process_use', 'propagate_uselib_vars', 'apply_incpaths', 'apply_implib', 'apply_vnum'], prec=defaultdict(<type 'list'>, {}), source=['model/propagation-delay-model.cc', 'model/propagation-loss-model.cc', 'model/jakes-propagation-loss-model.cc', 'model/jakes-process.cc', 'model/cost231-propagation-loss-model.cc', 'model/okumura-hata-propagation-loss-model.cc', 'model/itu-r-1411-los-propagation-loss-model.cc', 'model/itu-r-1411-nlos-over-rooftop-propagation-loss-model.cc', 'model/kun-2600-mhz-propagation-loss-model.cc'], test=False, is_ns3_module=True, install_path='${LIBDIR}', module_deps=['network', 'mobility'], includes='.', dependencies=['network', 'mobility'], path=/Users/user/Desktop/nsam.org/ns-allinone-3.15/ns-3.15/src/propagation, vnum=None, posted=True, is_static=False, target='../../ns3.15-propagation-debug', idx=1, _name='ns3-propagation') in /Users/user/Desktop/nsam.org/ns-allinone-3.15/ns-3.15/src/propagation\nIf I understand correctly I think this means it can't find those dependencies but I haven't been able to figure out how to add them or where should they even be, could anyone help me out? I am following\nthis tutorial\n.\nI understand this is not a programming question itself but I haven't figured out where to ask so if you know a better place please let me know.",
    "answer": "Your installation are not clean. \nTry to follow this installation tutorial\nhttp://www.nsnam.org/wiki/index.php/Installation\nFastest response place to asking NS3 problem are on their NS3 User Group Mailing List\nhttps://groups.google.com/forum/#!forum/ns-3-users"
  },
  {
    "url": "https://stackoverflow.com/questions/11909475/for-ns-3-is-synchronization-needed-when-using-mpi-distributed-simulation",
    "title": "For NS-3, Is synchronization needed when using MPI Distributed Simulation?",
    "question": "I am trying to use MPI Distributed Simulation feature of NS-3. \nI have implemented an application and a node class in my module.\nI also have a factory class as a singleton object. Do I have to consider synchronization using monitors and Mutex in my singleton class?\nIn some of the functions I am changing class variables and therefore it looks like that I should consider thread safety but I am not sure how MPI works and if it actually creates one instance of the object or it creates separate objects in every process.\nThanks",
    "answer": "The ns-3 MPI support distributes ns-3 nodes across mpi computing nodes so, if you have one process-level factory singleton, there will be one instance of this factory on each mpi processing node and it will not share its state with other instances of the factory on other nodes.\nIn general, it is considered a really bad idea to use global state (i.e., state that is shared between node instances) with MPI-based simulations."
  },
  {
    "url": "https://stackoverflow.com/questions/11876088/how-to-build-ns-3-to-use-c0x-c11-libraries",
    "title": "How to build NS-3 to use C++0x/C++11 libraries?",
    "question": "I need to use data structures like unordered_map within my code in network simulator NS-3.\nIt is using waf builder to compile the source code. \nI am confused that where should I add -std=c++0x to be added to compiler flags? \nI tried appending it to CXXFlags in main wscript file using:\nmodule.env.append_value('CXXFLAGS', '-std=c++0x');\nBut still I am getting this error:\nThis file requires compiler and library support for the upcoming ISO C++ standard, C++0x. This support is currently experimental, and must be enabled with the -std=c++0x or -std=gnu++0x compiler options.   C/C++ Problem\nShould I also add any library to my waf module as well?\nP.S: My GCC version is 4.4\nUpdate: After updating to 4.7 I get this error:\nerror: #error This file requires compiler and library support for the ISO C++ 2011 standard. This support is currently experimental, and must be enabled with the -std=c++11 or -std=gnu++11 compiler options.\nIs there a way to tell compiler to use 0x instead of 11?",
    "answer": "Here is the solution:\nFirst of all upgrading GCC to 4.7 for Ns-3 will cause more errors due to changes in standard and does not solve the problem. So I changed gcc and g++ back to 4.4.3.\nBut in order to get rid of this error (as it says) this option should be added to CXXFLAGS:\n-std=c++0x\nTo add an option to CXXFLAG you can use this:\nCXXFLAGS=\"-std=c++0x\" ./waf configure\nor if you want to add options to waf configure:\nCXXFLAGS=\"-std=c++0x\" ./waf -d debug --enable-examples --enable-tests configure"
  },
  {
    "url": "https://stackoverflow.com/questions/11274459/ns-3-wlan-grid-tcp-not-working-while-udp-is",
    "title": "ns-3 wlan grid TCP not working while UDP is",
    "question": "I am trying to set up a Multihop AdHoc 802.11g Network in ns-3.\nTo get started I used the example 'wifi-simple-adhoc-grid.cc'.\nThe example uses UDP, but I want to use TCP. Therefore I switched\nTypeId tid = ns3::UdpSocketFactory::GetTypeId();\nPtr<Socket> recvSink = Socket::CreateSocket (c.Get (sinkNode), tid);\nInetSocketAddress local = InetSocketAddress (Ipv4Address::GetAny (), 80);\nrecvSink->Bind (local);\nrecvSink->SetRecvCallback (MakeCallback (&ReceivePacket));\nto\nTypeId tid = ns3::TcpSocketFactory::GetTypeId();\nPtr<Socket> recvSink = Socket::CreateSocket (c.Get (sinkNode), tid);\nInetSocketAddress local = InetSocketAddress (Ipv4Address::GetAny (), 80);\nrecvSink->Bind (local);\nrecvSink->SetRecvCallback (MakeCallback (&ReceivePacket));\n\nPtr<Socket> source = Socket::CreateSocket (c.Get (sourceNode), tid);\nInetSocketAddress remote = InetSocketAddress (i.GetAddress (sinkNode, 0), 80);\nSending Packets is no Problem, but ReceivePacket is never called, which means, that socket Sink receives no packets.\nThe whole code:\nhttps://gist.github.com/3023757\nRoutes output\nby:\nPtr<OutputStreamWrapper> routingStream = Create<OutputStreamWrapper> \n(\"wifi-multihop.routes\", std::ios::out)",
    "answer": "You can call SetRevCallback function your  SetAcceptCallback function.\nExplicitly,\nrecvSink->SetAcceptCallback (MakeNullCallback<bool, Ptr<Socket>,const Address &> (),MakeCallback(&accept));\nIn the accept function\nvoid accept(Ptr<Socket> socket,const ns3::Address& from)\n{\n\n    std::cout<<\"Connection accepted\"<< std::endl;\n    socket->SetRecvCallback (MakeCallback (&ReceivePacket));\n\n}"
  },
  {
    "url": "https://stackoverflow.com/questions/11037180/is-the-ns-3-tcp-udp-socket-non-blocking-or-blocking",
    "title": "Is the NS-3 TCP/UDP socket non-blocking or blocking?",
    "question": "I am trying to implement a multimedia server application in NS-3 which can serve multiple clients.\nCan a single NS-3 (TCP? and/or) UDP socket accept multiple simultaneous connections?",
    "answer": "As stated in the\nns-3 socket documentation\n, all socket calls in ns-3 are non-blocking (in contrast to the original socket API). This is a direct result of the asynchronous and event-based implementation model of ns-3.\nThe core concept to model a blocking socket call is to register a call-back which is invoked once a connection is established or data becomes available. One of these calls is ns3::Socket::SetRecvCallback which you can use to react to incoming packets\nOf course, ns-3 can be used to implement a server that accepts multiple connections. For this purpose, you need to register to a call-back function such as ns3::Socket::SetRecvCallback and then to dispatch the received data adequately."
  },
  {
    "url": "https://stackoverflow.com/questions/10494892/ns3-buffer-h-assert-failed",
    "title": "ns3 buffer.h assert failed",
    "question": "I created a new application for ns3, which seems to run correctly, however, after a few seconds of execution (after many packets have been received correctly), a get the following error:\nassert failed. cond=\"m_current + delta <= m_dataEnd\", file=./ns3/buffer.h, line=678\nAny ideas what causes this error, and how I can bypass/correct it?",
    "answer": "This is just an assumption, but it seems that you have a buffer overflow, i.e. the current size exceeds it's maximum size. Maybe you can clear the buffer or increase its size. As the message tells you, the error occurs on line 678 in the buffer.h file. You could look at this position to have an idea, which operation causes the assertion and maybe this helps you finding out what you have to do to avoid this message."
  },
  {
    "url": "https://stackoverflow.com/questions/10266801/cast-object-pointer-to-char-array",
    "title": "Cast object pointer to char array",
    "question": "unsigned char *check = NULL;\ncheck = (dynamic_cast<unsigned char *>( ns3::NetDevice::GetChannel() ));\nThis is what I am trying. But the error is:\nerror: cannot dynamic_cast ‘ns3::NetDevice::GetChannel() const()’ (of type ‘class       ns3::Ptr<ns3::Channel>’) to type ‘unsigned char*’ (target is not pointer or reference to class)\nI also tried:\nreinterpret_cast\nBut it doesn't work at all.",
    "answer": "The return type of\nns3::NetDevice::GetChannel()\nis some kind of custom smart pointer; without seeing the definition of that, we can only guess at how you can convert that into a raw pointer.\nPerhaps it implements a conversion operator,\noperator T*()\n, although that's generally regarded as a bad idea since it makes it unintended conversions too easy to do by accident. In that case, you could do:\nvoid * check = ns3::NetDevice::GetChannel();\nOtherwise, perhaps it has a member function to convert to a raw pointer. The standard smart pointers conventionally call this\nget()\n:\nvoid * check = ns3::NetDevice::GetChannel().get();\nIf it doesn't offer that, and you really do want to get a raw pointer, then you could dereference it and take a pointer to the dereferenced object (assuming it supports dererencing; otherwise, it's a bit odd to call it a pointer at all):\nvoid * check = &*ns3::NetDevice::GetChannel();\nOnce you have a\nvoid *\n, you can use\nstatic_cast\nto change it into\nunsigned char *\n, if that's what you want. Be careful what you do with it, since messing around with the bytes of an object can easily lead to undefined behaviour.\nUPDATE: if\nns3::Ptr\nis the template documented\nhere\n, then you can get the raw pointer using:\nvoid * check = PeekPointer(ns3::NetDevice::GetChannel());"
  },
  {
    "url": "https://stackoverflow.com/questions/10199724/generate-hash-key-of-void-data",
    "title": "Generate Hash Key of (void *) data",
    "question": "I want to know that how to Generate a hash key of void data.\nI am working a project of networking and dealing with packets. I have to generate the hash table. on which packet header to be hashed. But i don't know the structure Or class of packet header. So, any idea about this. i just thinking of converting it to void. and hash the void data to generate the hash key.\nANY OTHER IDEA. GOOD Logic will be welcomed.",
    "answer": "Look at\nCityHash\n, which has a function that I think is suitable for your input:\n// Hash function for a byte array.\nuint64 CityHash64(const char *buf, size_t len);\nAs far as I can tell, char being used as the input type is just for convenience--it does not imply for example that the function will stop hashing if it finds a zero byte.\nThere's also a 128-bit version, and other things."
  },
  {
    "url": "https://stackoverflow.com/questions/10108089/how-can-i-use-ns-3-to-simulate-some-routing-algorithms",
    "title": "How can I use NS-3 to simulate some routing algorithms?",
    "question": "I am trying to do a simulation for networking for some routing algorithms such as\nOSPF, RIP, IS-IS, DSR\nusing NS3 ( network simulator 3) since it's free. But after reading the ns3-tutorial, I still have no clue where to start in order to simulate any of the above routing algorithms.\nAny help will be very appreciated.\nMy understanding is, since in ns3 I have to create the nodes, channel, netDevices, and Application that will create the traffic. I think, since routing is done in the routers, that any thing related to what I want to do has to do with netDevices since routers are the devices that has to run the algorithm not the hosts (nodes) but where exactly I have to specify my own algorithm that I want to simulate.\nThanks in advance.",
    "answer": "Try the routing examples provided with ns3. You can find those in the examples/routing directory of ns3. That should be a good starting point."
  },
  {
    "url": "https://stackoverflow.com/questions/10095499/how-to-let-a-uint8-t-const-point-at-the-same-address-as-a-char",
    "title": "How to let a uint8_t const* point at the same address as a char*?",
    "question": "In a C++-program I have a char* pointing to the beginning of an array containing BUFFER_SIZE number of chars (each char the size of one byte).\nI now want to use that code in an NS3-simulation, which packets takes as input a uint8_t const* , pointing to a buffer.\nWhat should I do in order to create a 'uint8_t const*' which points at the first mentioned buffer?",
    "answer": "You must either use\nreinterpret_cast\n:\nint main () {\n char buffer[10];\n reinterpret_cast<unsigned char const *>(buffer);\n}\nor use a C-style cast:\nint main () {\n char buffer[10];\n (unsigned char const *)buffer;\n}"
  },
  {
    "url": "https://stackoverflow.com/questions/9662142/using-the-operator-when-supplying-argument-to-functions",
    "title": "Using the '<<' operator when supplying argument to functions",
    "question": "I've been programming the ns3 network simulator which is written in c++. There are a bunch of functions for logging output conditionally, depending on how the system is configured. (ie the statement to log the message is always there but if I turn off debugging then some messages won't come out).\nCalling one of these functions might look like this:\nint n=42;  \nNS_LOG_LOGIC(\"the answer is \" << n);\nWhich is extremely useful since it allows me to directly concatenate many different kinds of data into a single string to be logged.\nNow I'm trying to write my own logging function to allow me more control over where messages are logged and to allow me to insert a unique id and timestamp before every message so I know where and when it came from.\nMy question is this - how do I create a function in c++ which can be called in this way? I cant find the source for the function shown and haven't seen any other examples of functions like this.\nNote - regular '+' concatenation isn't good enough since I want to be able to easily concatenate a bunch of different data types. I know there are other ways to do that but I also just want to figure out what is going on in the function above!\nThank you :)",
    "answer": "Here is a way to do this. It will print the expression to the standard output if\nDEBUG\nis defined.\nIt supposes\n#include <iostream>\n.\n#ifdef DEBUG\n#  define NS_LOG_LOGIC( expr ) \\\n      std::cout << expr << std::endl;  // or \"\\n\" instead of endl if performance matters more than reliability\n#else\n#  define NS_LOG_LOGIC( expr )\n#endif\nEDIT\nAs properly noted by Tony :\nstd::endl\nwill print a new line\nand\nflush your buffer, it will be slower but you get more guarantee that your logs has been written in case of a crash.\n\\n\nsimply prints a new line, the buffer is not flushed.\nuse the\ndo { ... } while(false)\nnotation helps macro reliability."
  },
  {
    "url": "https://stackoverflow.com/questions/9527003/passing-const-link-as-this-argument-of-stdstring-getattributestdstring",
    "title": "passing ‘const Link’ as ‘this’ argument of ‘std::string GetAttribute(std::string)’ discards qualifiers",
    "question": "I'm getting an odd error with parts of the NS-3 API. Here is my error message:\nerror: passing ‘const ns3::TopologyReader::Link’ as ‘this’ argument of ‘std::string ns3::TopologyReader::Link::GetAttribute(std::string)’ discards qualifiers\nAnd here is the code causing the issue:\nTopologyReader::ConstLinksIterator iter;\nint num = 0;\nfor (iter = topologyReader->LinksBegin (); iter != topologyReader->LinksEnd(); iter++, num++)\n  {\n    std::istringstream fromName(iter->GetFromNodeName ());\n    std::istringstream toName (iter->GetToNodeName ());\n    iter->GetToNodeName();\n    std::string w = \"Weight\";\n    std::string weightAttr = (iter)->GetAttribute(w); // <- error\n    /* snip */\n  }\nI think it might have to do with the fact that\nGetAttribute(std::string)\nis not a\nconst\nfunction, according to the\ndocumentation for TopologyReader::Link\n, while the other functions,\nGetFromNodeName(void)\nand\nGetToNodeName(void)\nare declared as\nconst\nfunctions. However, I'm not sure how to fix this problem.\nEdit: \nThe function signatures are as shown (from the linked documentation):\nstd::string ns3::TopologyReader::Link::GetFromNodeName (void) const\nstd::string ns3::TopologyReader::Link::GetToNodeName (void) const\nstd::string ns3::TopologyReader::Link::GetAttribute (std::string name)",
    "answer": "Your analysis is correct. The obvious fix is to make\nGetAttribute\nbe a const function. Its name suggests it\nshould\nbe const. It might not be in your power to change that code, though.\nThe alternative is to find some way of getting a non-const object to call the function on. Maybe you could declare\niter\nas a\nLinksIterator\ninstead of a\nConstLinksIterator\n.\nAs a last resort, you could try using\nconst_cast\nto tell the compiler that it's really safe to call a non-const method on a supposedly const object."
  },
  {
    "url": "https://stackoverflow.com/questions/9260867/link-shared-library-when-using-waf-and-ns3",
    "title": "Link shared library when using WAF and NS3",
    "question": "This is a query related to the network simulator called NS3.\nSay that I want to build a program called 'MyProgram' and to link a shared library when building it.\nHow do I do this with WAF? I have put 'MyProgram' in a directory called 'examples/thesis' and created a wscript. I am also putting the files needed for 'MyProgram' in the scratch-directory. [Some more info about the usage of WAF when building files in NS3:\nLink\n]\nThis is the command that I would run to build 'MyProgram' without the library: ./waf --build MyProgram\nHow do I link the library the shared library when building 'MyProgram'?\nThanks in advance!",
    "answer": "You can use the\nlib\nnamed argument to pass a list of libraries into program.\ndef build(ctx):\n    ctx(rule='cp ${SRC} ${TGT}', source='src/main.c', target='main.c')\n    ctx.program(source='main.c', target='app', lib=['mysqlclient'])"
  },
  {
    "url": "https://stackoverflow.com/questions/9246733/c-variable-ns3ipv4routingtableentry-route-has-initializer-but-incomplete",
    "title": "C++: variable 'ns3::Ipv4RoutingTableEntry route' has initializer but incomplete type",
    "question": "I am having trouble deciphering these error messages from g++\n../upenn-cis553/ls-routing-protocol/ls-routing-protocol.cc:533:29: error: variable ‘ns3::Ipv4RoutingTableEntry route’ has initializer but incomplete type\n../upenn-cis553/ls-routing-protocol/ls-routing-protocol.cc:533:64: error: invalid use of incomplete type ‘struct ns3::Ipv4RoutingTableEntry’\nHere is my ls-routing-protocol.h file:\n#include \"ns3/ipv4.h\"\n#include \"ns3/ipv4-routing-protocol.h\"\n#include \"ns3/ipv4-static-routing.h\"\n#include \"ns3/object.h\"\n#include \"ns3/packet.h\"\n#include \"ns3/node.h\"\n#include \"ns3/socket.h\"\n#include \"ns3/timer.h\"\n\n#include \"ns3/ping-request.h\"\n#include \"ns3/penn-routing-protocol.h\"\n#include \"ns3/ls-message.h\"\n\n#include <vector>\n#include <map>\n\n...\n\nprivate:\n    ...\n    Ptr<Ipv4StaticRouting> m_staticRouting;\n    ...\nAnd here the relevant snippet from the ls-routing-protocol.cc file:\n#include \"ns3/ls-routing-protocol.h\"\n#include \"ns3/socket-factory.h\"\n#include \"ns3/udp-socket-factory.h\"\n#include \"ns3/simulator.h\"\n#include \"ns3/log.h\"\n#include \"ns3/random-variable.h\"\n#include \"ns3/inet-socket-address.h\"\n#include \"ns3/ipv4-header.h\"\n#include \"ns3/ipv4-route.h\"\n#include \"ns3/uinteger.h\"\n#include \"ns3/test-result.h\"\n#include <sys/time.h>\n\nusing namespace ns3;\n\n\nvoid\nLSRoutingProtocol::AuditRoutes ()\n{\n   int i;\n   int n = m_staticRouting->GetNRoutes();\n   for (i=0; i < n; i++)\n    {\n      Ipv4RoutingTableEntry route = m_staticRouting->GetRoute(i); // ERROR\n      ...\n    }\n    ...\n}\nAs some of you may tell, I am working with ns-3. I have looked up my error in many places, and most of the advice has been to properly declare a few structs. However, we are not directly using structs in this code (or at least not that I know of). I am starting to think that it's an issue with our use of smart pointers, but I'm not really sure.\nAlso, in case it is of any help:\ndocumentation for ipv4_static_routing.h",
    "answer": "You need to\n#include <ipv4-routing-table-entry.h>\n. This is the first thing that you see when you look at\nthe documentation of\nns3::Ipv4RoutingTableEntry\nclass\n."
  },
  {
    "url": "https://stackoverflow.com/questions/8381942/string-assignment-error",
    "title": "String assignment error",
    "question": "I am writing an ns3 application, for which I need to write a vector to a file, read the file to construct the vector back again and pick random elements from the vector. This is the code:\n#include <iostream>\n#include <fstream>\n#include <string>\n#include <cassert>\n#include \"ns3/core-module.h\"\n#include \"ns3/network-module.h\"\n#include \"ns3/internet-module.h\"\n#include \"ns3/point-to-point-module.h\"\n#include \"ns3/applications-module.h\"\n#include \"ns3/mf-helper.h\"\n#include \"ns3/ipv4-static-routing-helper.h\"\n#include \"ns3/ipv4-list-routing-helper.h\"\n#include \"ns3/data-rate.h\"\n\n#include \"ns3/mobility-module.h\"\n#include \"ns3/wifi-module.h\"\n#include \"ns3/ideal-wifi-manager.h\"\n#include \"ns3/wifi-remote-station-manager.h\"\n#include \"ns3/wifi-mode.h\"\nusing namespace ns3;\nusing namespace std;\n\nvoid writeFile(string, vector<string>);\nvoid readFile(string, vector<string> &);\nunsigned int Random(int,int);\nbool Find(vector<string> , string);\nvoid selectNodes(vector<string>);\n\nvector<string> senders;\n\nint main(int argc, char **argv)\n{\n    vector<string> vect;\n    vect.push_back(\"10.1.1.1\");\n    vect.push_back(\"10.1.1.2\");\n    vect.push_back(\"10.1.1.3\");\n    vect.push_back(\"10.1.1.4\");\n    vect.push_back(\"10.1.1.5\");\n    vect.push_back(\"10.1.1.6\");\n    vect.push_back(\"10.1.1.7\");\n\n    writeFile(\"data.txt\", vect);\n\n    vector<string> ret;\n    readFile(\"data.txt\",ret);\n    selectNodes(ret);\n}\n\nvoid writeFile(string name, vector<string> vs)\n{\n    ofstream outfile(name.c_str(), ios::out);\n    ostream_iterator<string> oi(outfile, \"\\n\");\n    copy(vs.begin(), vs.end(), oi);\n}\n\nvoid readFile(string name, vector<string> &vect)\n{   \n    ifstream file(name.c_str());\n    copy(istream_iterator<string> (file), istream_iterator<string>(), back_inserter(vect));\n}\n\nvoid selectNodes(vector<string> ret)\n{\n    srand(time(NULL));\n\n    string src;\n    string dest;\n\n    unsigned int s= ret.size();\n    src = ret[Random(1,s)];\n    dest = ret[Random(1,s)];\n\n\n    while(Find(senders, src))\n    {\n        src = ret[Random(1,s)];\n    }\n\n    while (src == dest)\n    {\n        src = ret[Random(1,s)];\n        if (dest != src)\n            break;\n    }\n\n    cout << \"##Source: \" << src << std::endl;\n    cout << \"##Destination: \" << dest << std::endl;\n\n    senders.push_back(src);\n}\n\nunsigned int Random(int nLow, int nHigh)\n{\n    return (rand() % (nHigh - nLow + 1)) + nLow;\n}\n\nbool Find(vector<string> senders, string addr)\n{\n    for(unsigned int i=0;i<senders.size();i++)\n        if(senders[i] == addr)\n            return 1;\n    return 0;\n}\nThis code crashes randomly. This is what gdb says\nProgram received signal EXC_BAD_ACCESS, Could not access memory.\nReason: KERN_INVALID_ADDRESS at address: 0xfffffffffffffff8\n0x00007fff8ad5a220 in std::string::_Rep::_M_grab ()\n(gdb) bt\n#0  0x00007fff8ad5a220 in std::string::_Rep::_M_grab ()\n#1  0x00007fff8ad5a29b in std::string::assign ()\n#2  0x0000000100002a31 in selectNodes (ret=@0x7fff5fbff7c0) at test_write.cc:74\n#3  0x0000000100003cf5 in main (argc=1, argv=0x7fff5fbff998) at test_write.cc:49\nWhy is the string assignment failing? I found that some people had this porblem due to memory leaks. But that does not seem the case here. Am I missing something?",
    "answer": "There is problem with these lines:\nsrc = ret[Random(1,s)];\n dest = ret[Random(1,s)];\nbecause the value\nRandom\nreturns could be equal to\ns\nwhich is out of range. The maxim value of\nindex\nto\nret\nis\ns-1\n.\nSo the solution is, either you write this:\nsrc = ret[Random(1,s-1)];\n dest = ret[Random(1,s-1)];\nOr, define\nRandom\nas:\nunsigned int Random(int nLow, int nHigh)\n{\n    return (rand() % (nHigh - nLow + 1)) + nLow  - 1;\n}\nI would suggest you to redine the\nRandom\nas suggested above, because it is mathematically sound to say that\nRandom\ngenerates a value which falls in the range\n[nLow, nHigh)\n. Dikkstra has provided a sound argument for this. Read this:\nWhy numbering should start at zero\nBy the way, you should accept vector argument by\nreference\n."
  },
  {
    "url": "https://stackoverflow.com/questions/7664529/converting-a-string-to-uint8-t-array-in-c",
    "title": "Converting a string to uint8_t array in C++",
    "question": "I want an std::string object (such as a name) to a uint8_t array in C++. The\nfunction\nreinterpret_cast<const uint8_t*>\nrejects my string. And since I'm coding using NS-3, some warnings are being interpreted as errors.",
    "answer": "If you want a pointer to the\nstring\n's data:\nreinterpret_cast<const uint8_t*>(&myString[0])\nIf you want a copy of the\nstring\n's data:\nstd::vector<uint8_t> myVector(myString.begin(), myString.end());\nuint8_t *p = &myVector[0];"
  },
  {
    "url": "https://stackoverflow.com/questions/7654753/will-this-lead-to-a-race-condition-in-event-driven-programming",
    "title": "Will this lead to a race condition in event-driven programming?",
    "question": "I am writing a small agent-based interaction simulation in a discrete simulator and am beginning to write some code that looks like the following. I have not some event-driven programming before but did not really observe this situation. I am wondering if the following piece of code will lead to a race condition while updating the value of\nmsgRcvd\n.\n// Following is the event-loop per-se\nController {\n    if (...) {\n       SendMessage(currentTime() + 5, i,j)\n       SendMessage(currentTime() + 5, i,k)\n    }\n    print currentTime(), msgsRcvd\n    Schedule(currentTime()+1, Controller)\n}\n\n// The following function is called when an \n// agent receives a message\nReceive(Agent agent) {\n    if (...) {\n       msgsRcvd++ // <-- this is a global variable\n    }\n}\nMy understanding is that at\ncurrentTime() + 5\nboth the agents receive the message at the\nsame time\nbecause both the events are happening at the same logical time so I should see the number of messages to be 2? Or will I see some strange race condition happening and the value is dependent on the scheduler (i.e. it could end up printing 1 or 2)? Any suggestions?",
    "answer": "The answer depends on the implementation of your event transport and is not language agnostic in that sense.\nIn all systems I have worked with, each message would be placed separately into an event queue and the receiving agent would take events off of that queue in order.  Assuming you have one thread generating messages and one event taking messages off of the queue, I don't see an opportunity for a race condition.\nIf your event queue has some intelligence that attempts to consolidate events based on the timestamp, you would only see one event in the receiving agent.  I'm not aware of a common system that does that (though some UI systems may for example consolidate two rapid mouse clicks to a double click... but that's specific behavior of a specific event system and not language/platform agnostic)."
  },
  {
    "url": "https://stackoverflow.com/questions/5652152/smart-pointer-and-external-code-interaction-via-jni",
    "title": "Smart pointer and external code interaction via JNI",
    "question": "I'm wondering what the best way is to have a pointer (via memory address) to an object in a C++ library which makes liberal use of smart pointers (ns-3). At the moment, I use path-based lookup and I'm concerned about its efficiency, since it seems to do full tree traversal for each call. If I maintain a standard pointer to the object for use across the JNI boundary, then the object may be disposed of while Java still holds a reference to it. Is the best idea to use a pointer to a smart pointer instead?\nCheers,\nChris",
    "answer": "That was basically our solution.  On the Java side, objects are held as simple ids, with a very simple algorithmic mapping of the id to a pointer (a\nreinterpret_cast\n, in fact).  For objects managed by reference counted pointers, the \"object\" pointed to by the id is a reference counted pointer.\nAnd just in case: don't forget to free it in the finalizer."
  }
]